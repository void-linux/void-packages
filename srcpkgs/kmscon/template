# Template file for 'kmscon'
pkgname=kmscon
version=9.2.1
revision=1
build_style=meson
configure_args="-Dwerror=false -Dtests=false -Ddocs=enabled"
hostmakedepends="pkg-config docbook-xsl xkeyboard-config libxslt"
makedepends="MesaLib-devel pango-devel libtsm-devel libxkbcommon-devel
 eudev-libudev-devel libdrm-devel libgbm-devel"
depends="xkeyboard-config"
short_desc="Terminal emulator based on Kernel Mode Setting (KMS)"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/kmscon/kmscon"
distfiles="https://github.com/kmscon/kmscon/archive/refs/tags/v${version}.tar.gz"
checksum=d801a3f0bbfff6940eb249ade41c28307ef846132b4e10a499abe76d535e24e8
lib32disabled=yes
make_check=no #tests require permission to access a drm device

case "$XBPS_TARGET_MACHINE" in
	ppc*) broken="ftbfs";;
esac

post_install() {
	vlicense COPYING
}
