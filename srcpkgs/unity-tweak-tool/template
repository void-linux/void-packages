# Template file for 'unity-tweak-tool'
pkgname=unity-tweak-tool
version=0.0.7+
revision=1
_ubuntu_rel=0ubuntu11
hostmakedepends="intltool python3-distutils-extra wget"
makedepends="python3-cairo python3-dbus python3-gobject python3-xdg"
depends="gtk+3 hicolor-icon-theme notify-osd python3 python3-cairo python3-dbus
 python3-gobject python3-xdg unity"
short_desc="Configuration tool for the Unity desktop"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/freyja-dev/unity-tweak-tool"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+files/unity-tweak-tool_${version}.orig.tar.gz"
checksum=5d37ec2b57f88a22b2bc2e1cc2d2f37677989b5a585c96d3914adf6a045831c5

do_patch() {
	wget https://launchpad.net/ubuntu/+archive/primary/+sourcefiles/unity-tweak-tool/${version}-${_ubuntu_rel}/unity-tweak-tool_${version}-${_ubuntu_rel}.debian.tar.xz
	vextract --no-strip-components unity-tweak-tool_${version}-${_ubuntu_rel}.debian.tar.xz
	for i in $(grep -v '#' debian/patches/series); do
		patch -p1 -i "debian/patches/${i}"
	done
}

do_install() {
	python setup.py install --root="${DESTDIR}/" --optimize=1
}
