# Template file for 'tmux'
pkgname=tmux
version=3.6a
revision=1
build_style=gnu-configure
configure_args="--enable-utempter --enable-sixel"
hostmakedepends="byacc automake pkg-config"
makedepends="libevent-devel libutempter-devel ncurses-devel"
depends="ncurses-base"
short_desc="Terminal Multiplexer"
maintainer="Đoàn Trần Công Danh <congdanhqx@gmail.com>"
license="ISC"
homepage="https://tmux.github.io"
changelog="https://raw.githubusercontent.com/tmux/tmux/master/CHANGES"
distfiles="https://github.com/tmux/tmux/releases/download/${version}/tmux-${version}.tar.gz"
checksum=b6d8d9c76585db8ef5fa00d4931902fa4b8cbe8166f528f44fc403961a3f3759

pre_configure() {
	autoreconf -fi
}

post_install() {
	{
		echo ' * Copyright (c) 2007-2021 Nicholas Marriott <nicholas.marriott@gmail.com>'
		grep -rh  'Copyright (c) .*[0-9] [a-zA-Z]' *.c compat/*.c |
			grep -v 'Nicholas Marriott' | sort -u
		cat COPYING
	} >LICENSE
	vlicense LICENSE
}
