# Template file for 'kio-extras'
pkgname=kio-extras
reverts="24.05.1_1 24.02.2_1"
version=23.08.5
revision=2
build_style=cmake
configure_args="-DBUILD_TESTING=OFF -DKDSOAP_KDWSDL2CPP_COMPILER=/usr/bin/kdwsdl2cpp"
hostmakedepends="extra-cmake-modules pkg-config gperf qt5-qmake qt5-host-tools
 KDSoap-qt5-devel kdoctools kcoreaddons kio gettext"
makedepends="kdesignerplugin-devel kactivities5-devel kdelibs4support-devel
 kdnssd-devel khtml-devel kpty-devel exiv2-devel libmtp-devel libssh-devel
 syntax-highlighting-devel libopenexr-devel samba-devel taglib-devel
 libkexiv25-devel KDSoap-qt5-devel ksolid-devel"
depends="kf6-kio-extras"
short_desc="Additional KIO components"
maintainer="Piotr WÃ³jcik <chocimier@tlen.pl>"
license="GPL-2.0-or-later, LGPL-2.0-or-later"
homepage="https://invent.kde.org/network/kio-extras"
distfiles="${KDE_SITE}/release-service/${version}/src/kio-extras-${version}.tar.xz"
checksum=1ae0ec1cc7239fd4fa46d8cb2629ceb364d4a70e7e56075d2ebfef68eb1b263f

post_install() {
	# kf6-kio-extras
	rm ${DESTDIR}/usr/share/config.kcfg/jpegcreatorsettings5.kcfg
	rm ${DESTDIR}/usr/share/dbus-1/services/org.kde.kmtpd5.service
	rm ${DESTDIR}/usr/share/kio_info/kde-info2html
	rm ${DESTDIR}/usr/share/kio_info/kde-info2html.conf
	rm ${DESTDIR}/usr/share/konqueror/dirtree/remote/mtp-network.desktop
	rm ${DESTDIR}/usr/share/konqueror/dirtree/remote/smb-network.desktop
	rm ${DESTDIR}/usr/share/mime/packages/org.kde.kio.smb.xml
	rm ${DESTDIR}/usr/share/remoteview/mtp-network.desktop
	rm ${DESTDIR}/usr/share/remoteview/smb-network.desktop
	rm ${DESTDIR}/usr/share/solid/actions/solid_mtp.desktop
	# konqueror
	rm ${DESTDIR}/usr/share/kio_bookmarks/kio_bookmarks.css
}
