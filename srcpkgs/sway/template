# Template file for 'sway'
pkgname=sway
version=1.0
revision=1
_version=$version-beta.1
wrksrc=$pkgname-$_version
build_style=meson
configure_args="-Dsway-version=$_version"
hostmakedepends="pkg-config wayland-devel wayland-protocols scdoc"
makedepends="wlroots-devel libinput-devel libcap-devel pcre-devel
 json-c-devel pango-devel cairo-devel gdk-pixbuf-devel pam-devel
 libxkbcommon-devel pixman-devel"
depends="xorg-server-xwayland"
conf_files="/etc/sway/config /etc/pam.d/swaylock"
short_desc="Tiling Wayland compositor compatible with i3"
maintainer="Juan RP <xtraeme@voidlinux.eu>"
license="MIT"
homepage="http://swaywm.org"
distfiles="https://github.com/swaywm/$pkgname/archive/$_version.tar.gz"
checksum=382955b9373219b2be6e2899a9f204383fe7ab9808ee28e56735b431bfbd81e2

post_install() {
	vlicense LICENSE
	# must be setuid without logind!
	chmod u+s ${DESTDIR}/usr/bin/sway
}
