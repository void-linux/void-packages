From 00686abad320ca88503c9ac041b6ffbbdec3368e Mon Sep 17 00:00:00 2001
From: Duncan Overbruck <mail@duncano.de>
Date: Mon, 3 Nov 2025 21:34:19 +0100
Subject: [PATCH 13/15] fix bootstrap confusing lib and lib64 and core crates
 not being found

Source: https://github.com/chimera-linux/cports/blob/3b0287d5df849cc1f9a5e0a8fb3a396bbbe1f9fc/main/rust/patches/fuck-rust.patch
---
 src/bootstrap/src/lib.rs | 2 +
 1 file changed, 1 insertion(+)

diff --git a/src/bootstrap/src/lib.rs b/src/bootstrap/src/lib.rs
index 1163a961c..a283a90aa 100644
--- a/src/bootstrap/src/lib.rs
+++ b/src/bootstrap/src/lib.rs
@@ -388,6 +388,8 @@ impl Build {
             .run_capture_stdout(&config)
             .stdout()
             .trim()
+            .replace("lib64", "lib")
+            .replace("lib32", "lib")
             .to_owned();
 
         let initial_target_dir = Path::new(&initial_target_libdir)
-- 
2.51.2

