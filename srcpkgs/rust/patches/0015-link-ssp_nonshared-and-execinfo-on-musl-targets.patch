From cbf5b2513f34fc10161795887b3fe2fd6d7a222c Mon Sep 17 00:00:00 2001
From: Duncan Overbruck <mail@duncano.de>
Date: Tue, 4 Nov 2025 02:11:03 +0100
Subject: [PATCH 15/15] link ssp_nonshared and execinfo on musl targets

---
 library/std/src/sys/pal/unix/mod.rs | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/library/std/src/sys/pal/unix/mod.rs b/library/std/src/sys/pal/unix/mod.rs
index ba9e14b80..ea668076d 100644
--- a/library/std/src/sys/pal/unix/mod.rs
+++ b/library/std/src/sys/pal/unix/mod.rs
@@ -413,6 +413,10 @@ cfg_if::cfg_if! {
     } else if #[cfg(all(target_os = "linux", target_env = "uclibc"))] {
         #[link(name = "dl")]
         unsafe extern "C" {}
+    } else if #[cfg(all(target_os = "linux", target_env = "musl"))] {
+        #[link(name = "ssp_nonshared")]
+        #[link(name = "execinfo")]
+        unsafe extern "C" {}
     } else if #[cfg(target_os = "vita")] {
         #[link(name = "pthread", kind = "static", modifiers = "-bundle")]
         unsafe extern "C" {}
-- 
2.51.2

