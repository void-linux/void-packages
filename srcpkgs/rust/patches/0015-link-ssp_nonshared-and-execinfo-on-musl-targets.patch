From 49fad2b890d4d5151aaf46f4a5c55ee1f6f9adb3 Mon Sep 17 00:00:00 2001
From: Duncan Overbruck <mail@duncano.de>
Date: Tue, 4 Nov 2025 02:11:03 +0100
Subject: [PATCH 15/15] link ssp_nonshared and execinfo on musl targets

---
 library/std/src/sys/pal/unix/mod.rs | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/library/std/src/sys/pal/unix/mod.rs b/library/std/src/sys/pal/unix/mod.rs
index 9d303b8d6..bf5744417 100644
--- a/library/std/src/sys/pal/unix/mod.rs
+++ b/library/std/src/sys/pal/unix/mod.rs
@@ -422,6 +422,11 @@ cfg_select! {
         #[link(name = "dl")]
         unsafe extern "C" {}
     }
+    all(target_os = "linux", target_env = "musl") => {
+        #[link(name = "ssp_nonshared")]
+        #[link(name = "execinfo")]
+        unsafe extern "C" {}
+    }
     target_os = "vita" => {
         #[link(name = "pthread", kind = "static", modifiers = "-bundle")]
         unsafe extern "C" {}
-- 
2.51.2

