From afca123f5137668c7454e700e453afc63b1b16aa Mon Sep 17 00:00:00 2001
From: Duncan Overbruck <mail@duncano.de>
Date: Mon, 3 Nov 2025 21:34:19 +0100
Subject: [PATCH 12/15] fix bootstrap confusing lib and lib64 and core crates
 not being found

Source: https://github.com/chimera-linux/cports/blob/3b0287d5df849cc1f9a5e0a8fb3a396bbbe1f9fc/main/rust/patches/fuck-rust.patch
---
 src/bootstrap/src/lib.rs | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/bootstrap/src/lib.rs b/src/bootstrap/src/lib.rs
index 62cb5ea0c..24c924d8d 100644
--- a/src/bootstrap/src/lib.rs
+++ b/src/bootstrap/src/lib.rs
@@ -450,6 +450,8 @@ impl Build {
             .run_capture_stdout(&config)
             .stdout()
             .trim()
+            .replace("lib64", "lib")
+            .replace("lib32", "lib")
             .to_owned();
 
         let initial_target_dir = Path::new(&initial_target_libdir)
-- 
2.51.2

