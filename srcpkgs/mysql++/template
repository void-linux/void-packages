# Template file for 'mysql++'
pkgname=mysql++
version=3.2.5
revision=3
build_style=gnu-configure
make_install_target="install_mysqlpp"
makedepends="libmariadbclient-devel"
short_desc="C++ wrapper for MySQLs C API"
maintainer="DirectorX <void.directorx@protonmail.com>"
license="LGPL-2.1-or-later"
homepage="https://tangentsoft.net/mysqlpp"
distfiles="${homepage}/releases/${pkgname}-${version}.tar.gz"
checksum=b780beeb3a9cd9ce6a9043028527484df8e822c58c5274d4d67ec5ba2fc0a778

if [ -n "$CROSS_BUILD" ]; then
	configure_args="--exec_prefix=${XBPS_CROSS_BASE} --with-mysql-include=${XBPS_CROSS_BASE}/usr/include/mysql"
fi

mysql++-devel_package() {
	depends="mysql++>=${version}_${revision} libmariadbclient-devel"
	short_desc+=" - development files"
	pkg_install() {
		vmkdir usr/include/mysql++
		vcopy lib/*.h usr/include/mysql++
		vmove "usr/lib/*.so"
	}
}

case "${XBPS_TARGET_MACHINE}" in
	arm*|aarch64*|mips*)
		broken="${XBPS_TARGET_MACHINE} not supported yet"
	;;
esac
