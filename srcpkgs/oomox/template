# Template file for 'oomox'
pkgname=oomox
version=1.7.0.2
revision=1
_droid_icon_ver=1.0.2
_gnome_icon_ver=5.5.3
_oomoxify_ver=1.0.0.1
_materia_theme_ver=20180519
_oomox_gtk_theme_ver=1.9.0.1
_arc_theme_ver=20180715
_base16_builder_ver=1.3.0
noarch=yes
depends="python3 python3-gobject gtk+3 gdk-pixbuf glib-devel glib sassc
 bc sed librsvg librsvg-utils optipng parallel inkscape python3-Pillow"
short_desc="Graphical application for generating color variations of some themes"
maintainer="Tim Wanders <timwanders241@gmail.com>"
license="GPL-3"
homepage="https://github.com/themix-project/oomox"
distfiles="
	https://github.com/themix-project/oomox/archive/$version.tar.gz>oomox-$version.tar.gz
	https://github.com/themix-project/oomox-archdroid-icon-theme/archive/$_droid_icon_ver.tar.gz>oomox-archdroid-icon-theme-$_droid_icon_ver.tar.gz
	https://github.com/themix-project/oomox-gnome-colors-icon-theme/archive/$_gnome_icon_ver.tar.gz>oomox-gnome-colors-$_gnome_icon_ver.tar.gz
	https://github.com/themix-project/oomoxify/archive/$_oomoxify_ver.tar.gz>oomoxify-$_oomoxify_ver.tar.gz
	https://github.com/nana-4/materia-theme/archive/v$_materia_theme_ver.tar.gz>materia-theme-$_materia_theme_ver.tar.gz
	https://github.com/themix-project/oomox-gtk-theme/archive/$_oomox_gtk_theme_ver.tar.gz>oomox-gtk-theme-$_oomox_gtk_theme_ver.tar.gz
	https://github.com/actionless/arc-theme/archive/$_arc_theme_ver.tar.gz>arc-theme-$_arc_theme_ver.tar.gz
	https://github.com/base16-builder/base16-builder/archive/$_base16_builder_ver.tar.gz>base16-builder-$_base16_builder_ver.tar.gz"
checksum="
	b6df65d89c41b6cf5992b922f260b850f59fcf1a6d17b27a08fbf36f5ef0fab0
	eb4a5c9edcaca47c22fcb3356268a40fa131c98c489d7fc8f03aff81b1533576
	01d09aaf4079843051c7329d1f01114f71eea11a08a142c27c88026ae1fb6a79
	093929410afd0ebc9108778f60c22f91202e1c85eb098fcfd08cc2d4dab5e490
	4d9bec034767e2a08f843e1dd61bdf7ead97621c2977886a9288fb898342578f
	e54e97e617f05babd3ae9b674073898879af37df4cc623f4d42b94c3053da9fa
	cdb315f1b85c19c1334752da22f02096be58a8086f7000d7ff92461710a9e022
	d18596e11f196931fec183e587d52a388a60f6fe5011741dd7f77a3216e3fe2b"
post_extract() {
	rm -rf archdroid-icon-theme gnome-colors-icon-theme oomoxify \
		gtk-theme materia-theme
	mv ../archdroid-icon-theme-$_droid_icon_ver archdroid-icon-theme
	mv ../gnome-colors-icon-theme-$_gnome_icon_ver gnome-colors-icon-theme
	mv ../oomoxify-$_oomoxify_ver oomoxify
	mv ../materia-theme-$_materia_theme_ver materia-theme
	mv ../oomox-gtk-theme-$_oomox_gtk_theme_ver gtk-theme
	mv ../arc-theme-$_arc_theme_ver arc-theme
	mv ../base16-builder-$_base16_builder_ver base16-builder
}

do_install() {
	# Do not install in /opt/oomox but in /usr/share/oomox
	sed -i packaging/*.sh packaging/bin/* -e 's;/opt;/usr/share;g'
	bash ./packaging/install.sh ./ ${DESTDIR}/
}
