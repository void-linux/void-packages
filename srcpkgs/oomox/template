# Template file for 'oomox'
pkgname=oomox
version=1.7.0.2
revision=1
_droid_icon_ver=6dc4c92689ea2ce99534d6f461283efdf8ffd270
_gnome_icon_ver=2f3d8dd3ce59e260803660f158a7a91d643518bf
_oomoxify_ver=52a7db032dbe7ce60d8921f225563a95af2cb5cc
_materia_theme_ver=125048a8cba7352e69e6d0b7973ded01889e2949
_oomox_gtk_theme_ver=82ddbda30f2eae3dfdbaa85545893b1aa841d496
noarch=yes
depends="python3 python3-gobject gtk+3 gdk-pixbuf glib-devel glib sassc
 bc sed librsvg librsvg-utils optipng parallel inkscape python3-Pillow"
short_desc="Graphical application for generating color variations of some themes"
maintainer="Tim Wanders <timwanders241@gmail.com>"
license="GPL-3"
homepage="https://github.com/themix-project/oomox"
distfiles="
 https://github.com/themix-project/oomox/archive/$version.tar.gz>oomox-$version.tar.gz
 https://github.com/themix-project/oomox-archdroid-icon-theme/archive/$_droid_icon_ver.tar.gz>oomox-archdroid-icon-theme-$_droid_icon_ver.tar.gz
 https://github.com/themix-project/oomox-gnome-colors-icon-theme/archive/$_gnome_icon_ver.tar.gz>oomox-gnome-colors-$_gnome_icon_ver.tar.gz
 https://github.com/themix-project/oomoxify/archive/$_oomoxify_ver.tar.gz>oomoxify-$_oomoxify_ver.tar.gz
 https://github.com/nana-4/materia-theme/archive/$_materia_theme_ver.tar.gz>materia-theme-$_materia_theme_ver.tar.gz
 https://github.com/themix-project/oomox-gtk-theme/archive/$_oomox_gtk_theme_ver.tar.gz>oomox-gtk-theme-$_oomox_gtk_theme_ver.tar.gz"
checksum="
 b6df65d89c41b6cf5992b922f260b850f59fcf1a6d17b27a08fbf36f5ef0fab0
 d6e91b9f6ea48c0831eaf8cbf266ad2bac672e02d5d28a91caafcf181956f6fa 
 b7bf90cd61f10b8f7afc1442ecde4ba11bdafcb1e48471c81c568d3f6a04f82a
 9b80dba937767a3acd9fe025c497afb52aebcb05fcfc3f102a7cff7211e5ca41 
 dee2a0b38f8fbca3d2980af89f40309f0cb646fad25b88eab1fae5582047160e
 08df12a4168321d6c2af24324f2ac33e7bc4fee3d87da8d5c1179c8d0713c276"

post_extract() {
	rm -rf archdroid-icon-theme gnome-colors-icon-theme oomoxify \
		gtk-theme materia-theme
	cp -r ../archdroid-icon-theme-$_droid_icon_ver archdroid-icon-theme
	cp -r ../gnome-colors-icon-theme-$_gnome_icon_ver gnome-colors-icon-theme
	cp -r ../oomoxify-$_oomoxify_ver oomoxify
	cp -r ../materia-theme-$_materia_theme_ver materia-theme
	cp -r ../oomox-gtk-theme-$_oomox_gtk_theme_ver gtk-theme
}

do_install() {
	# Do not install in /opt/oomox but in /usr/share/oomox
	sed -i packaging/*.sh packaging/bin/* -e 's;/opt;/usr/share;g'
	bash ./packaging/install.sh ./ ${DESTDIR}/
}
