# Template file for 'i3'
pkgname=i3
version=4.1
homepage="http://i3wm.org/"
distfiles="${homepage}/downloads/${pkgname}-${version}.tar.bz2"
revision=2
short_desc="Improved tiling window manager."
maintainer="davehome <davehome@redthumb.info.tm>"
license="BSD"
checksum=3b4f21d9bf66f8e4588521dfa706d8cc3fe1999976a55fb5a6c13a621a1455a0
long_desc="
 i3 is a tiling window manager, completely written from scratch. The target
 platforms are GNU/Linux and BSD operating systems, our code is Free and Open
 Source Software (FOSS) under the BSD license. i3 is primarily targeted at
 advanced users and developers."

subpackages="${pkgname}-devel"

conf_files="/etc/i3/config"

Add_dependency run i3status

Add_dependency build pkg-config
Add_dependency build yajl-devel
Add_dependency build libxcb-devel
Add_dependency build xcb-proto
Add_dependency build xcb-util
Add_dependency build libev-devel
Add_dependency build flex
Add_dependency build asciidoc
Add_dependency build xmlto
Add_dependency build docbook-xml
Add_dependency build libXcursor-devel
Add_dependency build libX11-devel
Add_dependency build pcre-devel
Add_dependency build startup-notification-devel

do_build() {
	make ${makejobs}
	make ${makejobs} -C man
}

do_install() {
	make ${makejobs} DESTDIR=${DESTDIR} install
	vmkdir usr/share/man/man1
	cp ${wrksrc}/man/*.1 ${DESTDIR}/usr/share/man/man1
}
