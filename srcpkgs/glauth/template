# Template file for 'glauth'
pkgname=glauth
version=2.3.2
revision=1
build_style=go
go_import_path=github.com/glauth/glauth/v2
short_desc="Lightweight LDAP server for development, home use, or CI"
maintainer="fanyx <fanyx@posteo.net>"
license="MIT"
homepage="https://github.com/glauth/glauth"
changelog="https://raw.githubusercontent.com/glauth/glauth/refs/heads/master/v2/CHANGELOG.md"
distfiles="https://github.com/glauth/glauth/archive/v${version}.tar.gz"
checksum=17fbd5b967730e0cd22944f0f520f03374bf461acf7f1524c0711e1fb88225d5
make_check=no # tests expect local build at './bin/glauth'

system_accounts="_glauth"
make_dirs="/etc/glauth 0755 _glauth _glauth"
conf_files="/etc/glauth/glauth.cfg"

post_install() {
	vlicense LICENSE
	vinstall v2/sample-simple.cfg 640 etc/glauth glauth.cfg
	vsv glauth
}
