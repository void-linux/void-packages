# Template file for 'stellarsolver'
pkgname=stellarsolver
version=2.7
revision=1
build_style=cmake
build_helper=qemu
configure_args="-DUSE_QT5=OFF"
hostmakedepends="pkg-config qt6-base"
makedepends="cfitsio-devel gsl-devel wcslib-devel qt6-base-devel"
short_desc="Sextractor and Internal Astrometric Solver"
maintainer="Đoàn Trần Công Danh <congdanhqx@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/rlancaste/stellarsolver"
#changelog=""
distfiles="https://github.com/rlancaste/stellarsolver/archive/refs/tags/${version}.tar.gz"
checksum=36ff495f325920b9a23b7c3f7453a99c8d405e0984d4b27da7568625cb6c76c9
CFLAGS=-D_GNU_SOURCE=1
CXXFLAGS=-D_GNU_SOURCE=1

stellarsolver-devel_package() {
	depends="${sourcepkg}>=${version}_${revision} ${makedepends}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/cmake
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
