# Template file for 'SDL_mixer'
pkgname=SDL_mixer
version=1.2.11
revision=1
distfiles="http://www.libsdl.org/projects/$pkgname/release/$pkgname-$version.tar.gz"
build_style=gnu_configure
short_desc="Multi-channel audio mixer library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=86145ac39cac6d2c6169c226f937648dca5e89dcd828751763dd174fa9af9cf9
long_desc="
 SDL_mixer is a sample multi-channel audio mixer library. It supports any
 number of simultaneously playing channels of 16 bit stereo audio, plus
 a single channel of music, mixed by the popular MikMod MOD, Timidity MIDI,
 Ogg Vorbis, and SMPEG MP3 libraries."

subpackages="$pkgname-devel"
Add_dependency run glibc
Add_dependency run SDL
Add_dependency run libvorbis
Add_dependency run libmikmod
Add_dependency run smpeg
Add_dependency run libflac
Add_dependency build SDL-devel
Add_dependency build libvorbis-devel
Add_dependency build libmikmod-devel
Add_dependency build libflac-devel
Add_dependency build smpeg-devel

pre_configure()
{
	sed -i 's|/usr/local/lib/timidity|/usr/lib/timidity|' \
		${wrksrc}/timidity/config.h || return 1
	sed -i 's|/etc/timidity/timidity.cfg|/etc/timidity++/timidity.cfg|' \
		${wrksrc}/timidity/config.h || return 1
}
