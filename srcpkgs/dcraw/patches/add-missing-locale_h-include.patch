diff --git a/dcraw.c b/dcraw.c
index 1d0676c..18e1f3e 100644
--- dcraw.c
+++ dcraw.c
@@ -84,6 +84,7 @@ typedef unsigned long long UINT64;
 #endif
 #ifdef LOCALEDIR
 #include <libintl.h>
+#include <locale.h>
 #define _(String) gettext(String)
 #else
 #define _(String) (String)

