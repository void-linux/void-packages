# Template file for 'dart-sdk'
pkgname=dart-sdk
version=2.4.0
revision=1
archs="x86_64"
short_desc="Client-optimized language for fast apps on any platform"
maintainer="Noah Huppert <contact@noahh.io>"
license="BSD"
homepage="https://dart.dev/"

hostmakedepends="unzip"
wrksrc=${pkgname}-${version}
create_wrksrc=yes
build_wrksrc=dart-sdk

distfiles="https://storage.googleapis.com/dart-archive/channels/stable/release/${version}/sdk/dartsdk-linux-x64-release.zip"
checksum="094c862f26ff2f203e5e95801281e9f60eeab3849aed1458f364ee757ed89287"

do_install() {
    vlicense LICENSE

    vbin bin/dart
    vbin bin/dart2aot
    vbin bin/dart2js
    vbin bin/dartanalyzer
    vbin bin/dartaotruntime
    vbin bin/dartdevc
    vbin bin/dartdoc
    vbin bin/dartfmt
    vbin bin/pub

    vmkdir usr/include
    vcopy include/dart_api.h usr/include/dart_api.h
    vcopy include/dart_native_api.h usr/include/dart_native_api.h
    vcopy include/dart_tools_api.h usr/include/dart_tools_api.h
}
