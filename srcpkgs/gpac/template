# Template file for 'gpac'
pkgname=gpac
version=2.4.0
revision=1
build_style=configure
configure_args="--prefix=/usr --enable-pic"
hostmakedepends="pkg-config"
makedepends="alsa-lib-devel faad2-devel ffmpeg6-devel freetype-devel jack-devel
 libcaca-devel libjpeg-turbo-devel liblzma-devel libmad-devel libopenjpeg2-devel
 libpng-devel libtheora-devel libvorbis-devel libXv-devel nghttp2-devel
 openssl-devel pulseaudio-devel SDL2-devel zlib-devel"
short_desc="Framework for production, encoding, delivery, playback of media content"
maintainer="newbluemoon <blaumolch@mailbox.org>"
license="LGPL-2.1-or-later"
homepage="https://gpack.io/"
changelog="https://raw.githubusercontent.com/gpac/gpac/refs/heads/master/Changelog"
distfiles="https://github.com/gpac/gpac/archive/refs/tags/v${version}.tar.gz"
checksum=99c8c994d5364b963d18eff24af2576b38d38b3460df27d451248982ea16157a

libgpac_package() {
	short_desc+=" - shared libraries"
	pkg_install() {
		vmove "usr/lib/*.so.*"
	}
}

libgpac-devel_package() {
	depends="libgpac-${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}
