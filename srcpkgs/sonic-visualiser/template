# Template file for 'sonic-visualiser'
pkgname=sonic-visualiser
version=5.2.1
revision=1
build_style=meson
hostmakedepends="pkg-config capnproto-devel qt6-base qt6-tools"
makedepends="capnproto-devel jack-devel libfishsound-devel libid3tag-devel
 liblo-devel liblrdf-devel libmad-devel liboggz-devel libopusenc-devel
 libsamplerate-devel opusfile-devel portaudio-devel pulseaudio-devel
 qt6-svg-devel rubberband-devel sord-devel speex-devel vamp-plugin-sdk-devel"
short_desc="Viewing and analysing the contents of music audio files"
maintainer="newbluemoon <blaumolch@mailbox.org>"
license="GPL-2.0-or-later"
homepage="https://www.sonicvisualiser.org/"
changelog="https://raw.githubusercontent.com/sonic-visualiser/sonic-visualiser/default/CHANGELOG"
distfiles="https://github.com/sonic-visualiser/sonic-visualiser/releases/download/sv_v${version}/sonic-visualiser-${version}.tar.gz"
checksum=2f338af0231e930539c5e5e04dac7c3384257866cc29fda112215f8c410898c9
LDFLAGS+="-lopusenc"

if [ "$XBPS_WORDSIZE" != "$XBPS_TARGET_WORDSIZE" ]; then
	nocross="meson tries to find qt6 host tool under target wordsize lib dir"
fi
