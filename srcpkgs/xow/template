# Template file for 'xow'
pkgname=xow
version=0.5
revision=1
build_style=gnu-makefile
make_build_args="BUILD=RELEASE"
hostmakedepends="git curl cabextract"
makedepends="libusb-devel"
short_desc="Linux driver for the Xbox One wireless dongle"
maintainer="Kyle Nusbaum <knusbaum+void@sdf.org>"
license="GPL-2.0-only"
homepage="https://medusalix.github.io/xow"
distfiles="https://github.com/medusalix/xow/archive/refs/tags/v${version}.tar.gz"
checksum=57b142e6794961bc25adf389004fc5bd903d7de4700ddd50ef97c6cb41af586d

do_build() {
	make BUILD=RELEASE
}

do_install() {
	make install DESTDIR=${DESTDIR} BINDIR=/usr/bin/ UDEVDIR="/usr/lib/udev/rules.d" MODLDIR="/usr/lib/modules-load.d" MODPDIR="/usr/lib/modprobe.d"
	vsv xow
	rm ${DESTDIR}/etc/systemd/system/xow.service
}
