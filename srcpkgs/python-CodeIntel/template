# Template file for 'python-CodeIntel'
pkgname=python-CodeIntel
version=2.0.0
revision=1
noarch=yes
wrksrc="CodeIntel-${version}"
build_style=python-module
hostmakedepends="python-setuptools python3-setuptools"
makedepends="python-devel python3-devel"
depends="python python-setuptools"
pycompile_module="codeintel"
short_desc="Code intelligence engine that was ported from Open Komodo
 Editor to Python2"
maintainer="shizonic <realtiaz@gmail.com>"
homepage="https://github.com/SublimeCodeIntel/CodeIntel"
license="MPL"
distfiles="${PYPI_SITE}/C/CodeIntel/CodeIntel-${version}.tar.gz"
checksum=0c3d0fcd356082b0f786e52151e36e2ca8622ea399896ac5478d39e7f78815e8
alternatives="codeintel:codeintel:/usr/bin/codeintel2"

post_install() {
	vlicense LICENSE.txt
}

python3-CodeIntel_package() {
	noarch=yes
	depends="python3 python3-setuptools"
	pycompile_module="codeintel"
	short_desc="${short_desc/Python2/Python3}"
	alternatives="codeintel:codeintel:/usr/bin/codeintel3"
	pkg_install() {
		vmove usr/bin/*3
		vmove usr/lib/python3*
		vlicense LICENSE.txt
	}
}
