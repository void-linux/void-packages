# Template file for 'lrzip'
pkgname=lrzip
version=0.650
revision=1
build_style="gnu-configure"
hostmakedepends="perl automake libtool"
makedepends="zlib-devel bzip2-devel lzo-devel liblz4-devel"
short_desc="Multi-threaded compression using rzip/lzma, lzo, and zpaq"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-or-later"
homepage="http://lrzip.kolivas.org/"
distfiles="https://github.com/ckolivas/lrzip/archive/v${version}.tar.gz"
checksum=e07b2b3511689e4aaf7404d289feba5d9d6e1170c448f85e393a11249502dd66

case "$XBPS_TARGET_MACHINE" in
	i686*|x86_64*) hostmakedepends+=" nasm";;
esac

pre_configure() {
	NOCONFIGURE=1 ./autogen.sh
}

# The library is deprecated as of lrzip 0.650.
post_install() {
	rm -f ${DESTDIR}/usr/include/Lrzip.h
	rm -f ${DESTDIR}/usr/lib/pkgconfig/lrzip.pc
}
