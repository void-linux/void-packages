# Template file for 'wine-mono'
pkgname=wine-mono
version="0.0.4"
revision=1
distfiles="${SOURCEFORGE_SITE}/wine/Wine%20Mono/${version}/${pkgname}-${version}.msi"
checksum=15d8a612cdeca4eff3137353f29fdeb7a99e055cd633844c91cd00e0186b8882
depends="wine-unstable"
homepage="http://wiki.winehq.org/Mono"
license="MIT,GPL-3,LGPL-2"
short_desc="Mono built for running .NET applications with WINE."
maintainer="davehome <davehome@redthumb.info.tm>"
long_desc="
 Mono is an open-source and cross-platform implementation of the .NET Framework.
 WINE can use a Windows build of Mono to run .NET applications."

noarch=yes
noextract=yes
create_wrksrc=yes

do_extract() {
	# This is to avoid re-downloading it everytime this template is
	# edited with a revbump... without an actual version bump.
	cp -v "${XBPS_SRCDISTDIR}/${pkgname}-${version}.msi" ${wrksrc}
}

do_install() {
	# The actual installation within WINE occurs at runtime in whatever
	# WINEPREFIX is being used.
	mkdir -pv "${DESTDIR}/usr/share/wine/mono"
	mv -v "${pkgname}-${version}.msi" "${DESTDIR}/usr/share/wine/mono"
}
