# Template file for 'libselinux'
pkgname=libselinux
version=2.9
revision=1
_release=20190315
archs="~*-musl"
build_style=gnu-makefile
hostmakedepends="python3 pkg-config"
makedepends="pcre-devel libsepol-devel"
short_desc="SELinux runtime shared libraries"
maintainer="Jasper Chan <jasperchan515@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/SELinuxProject/selinux"
distfiles="https://github.com/SELinuxProject/selinux/releases/download/${_release}/libselinux-${version}.tar.gz"
checksum=1bccc8873e449587d9a2b2cf253de9b89a8291b9fbc7c59393ca9e5f5f4d2693

post_install() {
	mv $DESTDIR/lib/* $DESTDIR/usr/lib/
	mv $DESTDIR/usr/sbin $DESTDIR/usr/bin
}

libselinux-devel_package() {
	depends="${makedepends} ${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
		vmove "usr/lib/*.a"
	}
}

