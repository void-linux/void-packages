# Template file for 'fvwm3'
pkgname=fvwm3
version=1.1.4
revision=1
build_style=meson
configure_args="-Dmandoc=true"
hostmakedepends="pkg-config ruby-asciidoctor perl"
makedepends="libXrandr-devel libevent-devel libXt-devel libpng-devel
 fribidi-devel libXft-devel libXcursor-devel libXpm-devel librsvg-devel
 libxkbcommon-devel"
short_desc="Multiple large virtual desktop window manager"
maintainer="Andrew Benson <abenson+void@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://www.fvwm.org/"
distfiles="https://github.com/fvwmorg/fvwm3/releases/download/${version}/fvwm3-${version}.tar.gz"
checksum=6df420ab492dcecd9d302880a9e97f689e9181db8850f5f7945e652bb8dd62a0
conflicts="fvwm>=0"

if [ "$XBPS_TARGET_LIBC" = "musl" ]; then
	makedepends+=" musl-legacy-compat"
fi

pre_configure() {
	rm -rf build
}
