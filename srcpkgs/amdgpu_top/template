# Template file for 'amdgpu_top'
pkgname=amdgpu_top
version=0.11.0
revision=1
build_style=cargo
hostmakedepends="pkg-config"
makedepends="libdrm-devel"
short_desc="Tool to display AMDGPU usage"
maintainer="al20ov <nicolas.antauf@gmail.com>"
license="MIT"
homepage="https://github.com/Umio-Yasuno/amdgpu_top"
distfiles="https://github.com/Umio-Yasuno/amdgpu_top/archive/refs/tags/v${version}.tar.gz"
checksum=a56152d738a0bfc3757d9587aaed409ecb05ccc3ec81861cbc9e4af84aa9fd46

do_install() {
	vbin target/${RUST_TARGET}/release/amdgpu_top

	vman docs/amdgpu_top.1

	vinstall assets/amdgpu_top-tui.desktop 644 usr/share/applications
	vinstall assets/amdgpu_top.desktop 644 usr/share/applications

	vlicense LICENSE
}
