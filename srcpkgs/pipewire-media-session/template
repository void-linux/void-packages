# Template file for 'pipewire-media-session'
pkgname=pipewire-media-session
version=0.4.1
revision=1
build_style=meson
configure_args="
 --auto-features=enabled
 -Db_ndebug=false
 -Ddocs=enabled
 -Dsystemd=disabled
"
hostmakedepends="doxygen pkg-config gettext"
makedepends="dbus-devel pipewire-devel alsa-lib-devel jack-devel
 pulseaudio-devel"
depends="pipewire>=0.3.61_2"
checkdepends="pipewire"
short_desc="Example session manager for PipeWire"
maintainer="Stefano Ragni <stefano.ragni@outlook.com>"
license="MIT"
homepage="https://pipewire.org/"
changelog="https://gitlab.freedesktop.org/pipewire/media-session/-/raw/master/NEWS"
distfiles="https://gitlab.freedesktop.org/pipewire/media-session/-/archive/${version}/media-session-${version}.tar.gz"
checksum="119c9216070b54018217552c7924f9888da270c3c4647c5e2b85ffa6b1574975"
conflicts="wireplumber"

post_install() {
	vlicense LICENSE
	vinstall "${FILESDIR}/pipewire-media-session.desktop" 644 usr/share/applications
}
