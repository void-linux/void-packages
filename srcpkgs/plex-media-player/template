# Template file for 'plex-media-player'
pkgname=plex-media-player
version=2.21.0.914
revision=1
_commit_rev=4839cbf2
wrksrc="plex-media-player-${version}-${_commit_rev}"
build_style=cmake
configure_args="-DQTROOT="${XBPS_CROSS_BASE}/usr" -DFULL_GIT_REVISION=${_commit_rev}"
hostmakedepends="python3"
makedepends="libcec-devel libX11-devel libXext-devel libXrandr-devel
 MesaLib-devel mpv-devel qt5-devel qt5-declarative-devel qt5-location-devel
 qt5-webchannel-devel qt5-webengine-devel qt5-x11extras-devel SDL2-devel zlib-devel"
depends="qt5-quickcontrols"
short_desc="Next generation Plex Desktop/Embedded Client"
maintainer="Rasmus Thomsen <rasmus.thomsen@protonmail.com>"
license="LGPL-2.1-or-later"
homepage="https://github.com/plexinc/plex-media-player"
distfiles="https://github.com/plexinc/plex-media-player/archive/v${version}-${_commit_rev}.tar.gz"
checksum=f185cfae87080f29d0ba5e9bbe3ca591a6e3f3d81572377b591d11507085c2fb

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-devel qt5-host-tools"
fi
