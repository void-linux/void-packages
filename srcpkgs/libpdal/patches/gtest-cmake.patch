diff --git a/cmake/gtest.cmake b/cmake/gtest.cmake
index 749418f..a0ef762 100644
--- a/cmake/gtest.cmake
+++ b/cmake/gtest.cmake
@@ -1,6 +1,10 @@
 # CMake configuration stolen from PROJ unit tests
 # External GTest provided by (e.g.) libgtest-dev
 
+if(NOT WITH_TESTS)
+  return()
+endif()
+
 set(MIN_GTest_VERSION "1.15.0")
 
 if(NOT CMAKE_REQUIRED_QUIET)
