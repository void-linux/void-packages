# Template file for 'notes'
pkgname=notes
version=2.1.0
revision=1
build_style=cmake
hostmakedepends="git"
makedepends="qt5-devel libSM qt5-plugin-mysql qt5-plugin-odbc qt5-plugin-pgsql qt5-plugin-sqlite qt5-plugin-tds"
short_desc="Fast and beautiful note-taking app written in C++"
maintainer="Jos√© Santos <agarimos@tutanota.com>"
license="MPL-2.0"
homepage="https://github.com/nuttyartist/notes"
changelog="https://github.com/nuttyartist/notes/releases"
distfiles="https://github.com/nuttyartist/notes/archive/refs/tags/v${version}.tar.gz"
checksum=8a8ae079fad6d9d5e9206acf5f4d19e1e73e1196e6c27408072b5cccf8778b95

post_extract() {
                git clone https://github.com/alex-spataru/QSimpleUpdater.git --depth=1
                cd QSimpleUpdater || exit
                cp -r include ../3rdParty/QSimpleUpdater
                cp -r src ../3rdParty/QSimpleUpdater
                cd ..

                git clone https://github.com/b00f/qautostart.git --depth=1
                cd qautostart || exit
                cp -r src ../3rdParty/qautostart
                cd ..

                git clone https://github.com/pbek/qmarkdowntextedit.git --depth=1
                cd qmarkdowntextedit || exit
                for _file in CMakeLists.txt LICENSE *.cpp *.h *.ui; do
                cp $_file ../3rdParty/qmarkdowntextedit
                done
                cd ..
                }

post_install() {
	vlicense LICENSE
}
