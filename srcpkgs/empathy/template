# Template file for 'empathy'
pkgname=empathy
version=3.25.90
revision=1
build_style=gnu-configure
configure_args="--enable-gst-1.0=yes --enable-gudev=yes --enable-spell=yes
 --disable-schemas-compile --disable-static --enable-goa=no
 --enable-ubuntu-online-accounts=no --enable-geocode=yes
 --enable-location=yes --enable-nautilus-sendto=no --enable-map=yes"
hostmakedepends="pkg-config intltool gnome-doc-utils itstool"
makedepends="libcanberra-devel gst-plugins-bad1-devel clutter-gtk-devel
 telepathy-glib-devel telepathy-logger-devel libnotify-devel
 telepathy-farstream-devel telepathy-mission-control-devel
 evolution-data-server-devel geocode-glib-devel folks-devel
 webkit2gtk-devel libgudev-devel pulseaudio-devel cheese-devel
 enchant-devel NetworkManager-devel libchamplain-devel
 gnutls-devel gsettings-desktop-schemas-devel geoclue2-devel iso-codes"
depends="gsettings-desktop-schemas>=3.12 iso-codes telepathy-mission-control"
short_desc="GNOME instant messaging client using the Telepathy framework"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-or-later"
homepage="http://live.gnome.org/Empathy"
distfiles="${GNOME_SITE}/$pkgname/${version%.*}/$pkgname-$version.tar.xz"
checksum=cc9289d0180e23e566fb4972562d9ebd2bba2f457d9fb954f6d4b0ea9903c16a

if [ "$CROSS_BUILD" ] ; then
	hostmakedepends+=" glib-devel geoclue2"
fi

pre_configure() {
	# help libempathy find account-widgets headers
	ln -s telepathy-account-widgets/tp-account-widgets .
}
