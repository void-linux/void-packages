# Template file for 'ocaml-xmlm'
pkgname=ocaml-xmlm
version=1.3.0
revision=1
wrksrc="xmlm-${version}"
hostmakedepends="ocaml ocamlbuild ocaml-findlib ocaml-topkg opam"
short_desc="Streaming XML codec for OCaml"
maintainer="John <johnz@posteo.net>"
license="ISC"
homepage="http://erratique.ch/software/xmlm"
distfiles="http://erratique.ch/software/xmlm/releases/xmlm-${version}.tbz"
checksum=1675f0c39d39130e7778aeadb162ef7badee71832bf9ab5ec5ea2738cbeb2de7
nocross=yes

do_build() {
	ocaml pkg/pkg.ml build
}

do_install() {
	opam-installer "--prefix=${DESTDIR}/usr" \
		"--libdir=${DESTDIR}$(ocamlc -where)" \
		"--docdir=${DESTDIR}/usr/share/doc"

	vlicense LICENSE.md
}
