# Template file for 'heaptrack'
pkgname=heaptrack
version=1.2.0
revision=1
build_style=cmake
configure_args="-DHEAPTRACK_BUILD_GUI=ON"
hostmakedepends="qt5-qmake qt5-host-tools extra-cmake-modules kcoreaddons
 gettext"
makedepends="qt5-devel boost-devel libunwind-devel libdwarf-devel kdiagram-devel
 libzstd-devel ecm-devel ki18n-devel kitemmodels-devel kio-devel
 kconfigwidgets-devel threadweaver-devel"
#depends="gdb"
short_desc="Heap memory profiler for Linux"
maintainer="Piraty <piraty1@inbox.ru>"
license="LGPL-2.1-or-later"
homepage="https://github.com/KDE/heaptrack"
distfiles="https://github.com/KDE/heaptrack/archive/v${version}.tar.gz"
checksum=f299a4846b80e607a412f439e17cddae13f0529701ffdb05eaa7ba878865717e

heaptrack-gui_package() {
	short_desc+=" - GUI"
	pkg_install() {
		vmove usr/bin/heaptrack_gui
		vmove usr/share
	}
}
