# Template file for 'libunity'
pkgname=libunity
version=7.1.4
revision=1
_date_revision=19.04.20190319
build_style=gnu-configure
hostmakedepends="automake gettext-devel glib-devel gobject-introspection intltool libtool
 pkg-config"
makedepends="dee-devel gtk+3-devel libdbusmenu-glib-devel"
short_desc="Library for integrating with all aspects of the Unity shell"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="LGPL-3.0-only"
homepage="https://launchpad.net/libunity"
changelog="https://git.launchpad.net/ubuntu/+source/libunity/plain/debian/changelog"
distfiles="${UBUNTU_SITE}/main/libu/libunity/libunity_${version}+${_date_revision}.orig.tar.gz"
checksum=56ecb380d74bf74caba193d9e8ad6b0c85ccf9eeb461bc9731c2b8636e1f1492
make_check=ci-skip # /bin/sh: line 2: -a: command not found

pre_configure() {
	autoreconf -i
}

libunity-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
		vmove "usr/lib/libunity/*.a"
		vmove "usr/lib/libunity/*.so"
		vmove usr/lib/pkgconfig
		vmove usr/share/gir-1.0
		vmove usr/share/vala
	}
}
