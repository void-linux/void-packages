# Template file for 'php-ast'
pkgname=php-ast
version=1.1.0
revision=1
build_style=gnu-configure
make_check_target="test"
hostmakedepends="php-devel autoconf"
makedepends="php-devel"
depends="php>=7.4.3"
checkdepends="${depends}"
short_desc="Exposes the abstract syntax tree generated by PHP 7"
maintainer="Merlin Diavova <merlindiavova@gmail.com>"
license="BSD-3-Clause"
homepage="https://github.com/nikic/php-ast"
distfiles="https://pecl.php.net/get/ast-${version}.tgz"
checksum=ee3d4f67e24d82e4d340806a24052012e4954d223122949377665427443e6d13
make_check_pre="env NO_INTERACTION=1"

post_extract() {
	mv ast-$version/* .
}

pre_configure() {
	phpize
}

do_install() {
	make INSTALL_ROOT=${DESTDIR} install
	vlicense LICENSE
}
