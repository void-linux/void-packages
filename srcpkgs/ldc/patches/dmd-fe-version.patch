--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -138,6 +138,12 @@ if(NOT DEFINED SYSCONF_INSTALL_DIR)
     endif()
 endif()
 
+file(WRITE ${CMAKE_CURRENT_BINARY_DIR}/dmd.version "
+_major=${DMDFE_MAJOR_VERSION}
+_minor=${DMDFE_MINOR_VERSION}
+_pver=${DMDFE_PATCH_VERSION}
+")
+
 set(D_VERSION ${DMDFE_MAJOR_VERSION} CACHE STRING "D language version")
 set(PROGRAM_PREFIX "" CACHE STRING "Prepended to ldc/ldmd binary names")
 set(PROGRAM_SUFFIX "" CACHE STRING "Appended to ldc/ldmd binary names")
