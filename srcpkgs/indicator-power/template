# Template file for 'indicator-power'
pkgname=indicator-power
version=12.10.6+17.10.20170829.1
revision=1
build_style=cmake
configure_args="-DCMAKE_INSTALL_PREFIX=/usr \
 -DCMAKE_INSTALL_LIBEXECDIR=/usr/lib -Denable_tests=OFF"
hostmakedepends="cmake-extras dbus-test-runner-devel glib-devel gtest-devel
 intltool pkg-config python"
makedepends="libnotify-devel"
depends="dconf gnome-power-manager unity-control-center upower"
short_desc="Indicator to show the power status of your devices"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="GPL-3.0-only"
homepage="https://launchpad.net/indicator-power"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+files/indicator-power_${version}.orig.tar.gz"
checksum=033dda58971929de265a1dc262932c31a69fc64522bc9f5f0be850585d27e3df

pre_configure() {
	export CFLAGS+=" -Wno-error"
}

post_install() {
	find "${DESTDIR}" -type f -name '*.a' -delete
	vsv indicator-power
}
