# Template file for 'python3-pyinfra'
pkgname=python3-pyinfra
version=1.0.4
revision=2
archs=noarch
wrksrc="pyinfra-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3 python3-Jinja2 python3-click python3-colorama python3-dateutil
 python3-docopt python3-gevent python3-paramiko python3-pywinrm python3-six
 python3-yaml"
short_desc="Automate infrastructure super fast at massive scale"
maintainer="Leah Neukirchen <leah@vuxu.org>"
license="MIT"
homepage="https://pyinfra.com/"
distfiles="https://github.com/Fizzadar/pyinfra/archive/v${version}.tar.gz"
checksum=54471ee5a3cdac30b3e4321695230347a866aae04228f7619037db569eb07fd2

post_extract() {
	vsed -i -e '/configparser/d' setup.py  # is in Python 3.8
}

post_install() {
	rm -r ${DESTDIR}/${py3_sitelib}/tests
	vlicense LICENSE.md
}
