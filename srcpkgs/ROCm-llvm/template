# Template file for 'ROCm-llvm'
pkgname=ROCm-llvm
version=3.3.0
revision=1
archs="x86_64*"
wrksrc="llvm-project-rocm-ocl-${version}"
build_wrksrc=llvm
build_style=cmake
configure_args="-DCMAKE_INSTALL_PREFIX:PATH=/usr/lib/rocm-llvm
	-DLLVM_ENABLE_PROJECTS='llvm;clang;lld' -DLLVM_TARGETS_TO_BUILD='AMDGPU'
	-DLLVM_BUILD_DOCS=NO -DLLVM_ENABLE_OCAMLDOC=OFF
	-DLLVM_ENABLE_SPHINX=NO -DLLVM_ENABLE_DOXYGEN=OFF
	-DLLVM_INSTALL_UTILS=ON -DLLVM_VERSION_SUFFIX=roc -DOCAMLFIND=NO"
hostmakedepends="cmake pkg-config python3"
short_desc="Radeon Open Compute LLVM toolchain"
maintainer="Andrew J. Hesford <ajh@sideband.org>"
license="Apache-2.0, NCSA, custom:LLVM-Exceptions"
homepage="https://github.com/RadeonOpenCompute/llvm-project"
distfiles="${homepage}/archive/rocm-ocl-${version}.tar.gz"
checksum=a2bef7042e8e2f2cd8548cb246b88322e1c77188839983dcac8312d56f544dc8
python_version=3
nocross=yes

post_install() {
	vlicense LICENSE.TXT
}
