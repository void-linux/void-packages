# Template file for 'printrun'
pkgname=printrun
version=2.0.0rc8
revision=1
wrksrc="Printrun-printrun-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools python3-Cython"
makedepends="python3-devel"
depends="wxPython4 python3-pyserial python3-pyglet python3-numpy
 python3-appdirs python3-lxml python3-psutil python3-cairosvg python3-tinycss2"
checkdepends="$depends"
short_desc="3D printing host suite"
maintainer="Jasper Chan <jasperchan515@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://www.pronterface.com"
distfiles="https://github.com/kliment/Printrun/archive/printrun-${version}.tar.gz"
checksum=0f62b88ca6745aeb0d72197a767785cee963a321ea92275620d679b03d040196

post_install() {
	for file in ${DESTDIR}/usr/bin/*.py; do
		mv -- "$file" "${file%%.py}"
	done
	vsed -e 's/\.py//' -i ${DESTDIR}/usr/share/applications/*.desktop
}
