# Template file for 'dwarffortress'
pkgname=dwarffortress
version=0.50.10
revision=1
_urlver=${version#*.}
archs="x86_64"
depends="gtk+ SDL2 SDL2_ttf SDL2_image libGL glu"
short_desc="Control a dwarven outpost in a randomly generated world"
maintainer="Robert Stancil <robert.stancil@mavs.uta.edu>"
license="custom: Proprietary"
homepage="http://www.bay12games.com/dwarves/"
distfiles="http://www.bay12games.com/dwarves/df_${_urlver//./_}_linux.tar.bz2"
checksum=438143c81670820b2702b4b14506cef378d078ce8a1d5ba45030e502c4b9458f

nostrip_files="dwarfort"
ignore_elf_dirs="/usr/share/dwarffortress"
nopie="distfiles are precompiled as PIE"
repository=nonfree
noshlibprovides=yes

do_install() {
    vbin ${FILESDIR}/dwarffortress
    vmkdir /usr/share/dwarffortress
    vcopy "*" /usr/share/dwarffortress
    vlicense "readme.txt" dwaffortress.txt
}
