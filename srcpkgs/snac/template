# Template file for 'snac'
pkgname=snac
version=2.84
revision=1
build_style=gnu-makefile
make_install_args="PREFIX=\${DESTDIR}/usr PREFIX_MAN=\${DESTDIR}/usr/share/man"
makedepends="openssl-devel libcurl-devel"
short_desc="Simple, minimalistic ActivityPub instance written in portable C"
maintainer="Roberto Ricci <io@r-ricci.it>"
license="MIT"
homepage="https://codeberg.org/grunfink/snac2"
changelog="https://codeberg.org/grunfink/snac2/raw/branch/master/RELEASE_NOTES.md"
distfiles="https://codeberg.org/grunfink/snac2/archive/${version}.tar.gz"
checksum=96bfc93aa7230069b5df59dcb6272bdcbadb6e7064c79e8892026eff04bcc10a
system_accounts="_snac"
_snac_homedir="/var/lib/_snac"
make_dirs="/var/lib/_snac 0700 _snac _snac"

CFLAGS=-DWITH_LINUX_SANDBOX

post_install() {
	vlicense LICENSE
	vsv snac
	vdoc "${FILESDIR}/README.voidlinux"
}
