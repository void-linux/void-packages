# Template file for 'nerd-fonts'
pkgname=nerd-fonts
version=2.0.0
revision=1
noarch=yes
font_dirs="/usr/share/fonts/NerdFonts"
depends="font-util xbps-triggers"
short_desc="Iconic font aggregator, collection and patcher"
maintainer="Daniel Santana <daniel@santana.tech>"
license="MIT"
homepage="https://nerdfonts.com"
distfiles="https://github.com/ryanoasis/nerd-fonts/archive/v$version.tar.gz"
checksum=0d5939042eff3b2d9b81ee2a871b3d2c046cbc6781f20ae87cdecfc1833e7bc8

post_extract() {
	sed -i "s|/usr/local/share|${DESTDIR}/usr/share|" install.sh
}

do_install() {
	./install.sh --install-to-system-path

	vmkdir usr/lib/$pkgname/scripts/lib
	install -Dm644 ${wrksrc}/bin/scripts/lib/* ${DESTDIR}/usr/lib/$pkgname/scripts/lib

	vmkdir etc/fonts/conf.avail
	install -Dm644 ${wrksrc}/10-nerd-font-symbols.conf ${DESTDIR}/etc/fonts/conf.avail

	vlicense LICENSE
}
