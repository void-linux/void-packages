# Template file for 'efl'
pkgname=efl
version=1.23.0
revision=1
build_style=meson
configure_args=" --prefix=/usr --buildtype=release -Dbuild-tests=false -Dsystemd=false -Delogind=true"
hostmakedepends="pkg-config ninja doxygen"
makedepends="
 liblz4-devel libressl-devel glib-devel libjpeg-turbo-devel fontconfig-devel
 fribidi-devel giflib-devel libpng-devel tiff-devel libwebp-devel
 avahi-libs-devel eudev-libudev-devel bullet-devel
 alsa-lib-devel libsndfile-devel libmount-devel LuaJIT-devel poppler-cpp-devel
 librsvg-devel libspectre-devel libraw-devel
 gst-plugins-base1-devel MesaLib-devel
 elogind-devel libinput-devel libxkbcommon-devel
 libXcomposite-devel libXcursor-devel libXp-devel
	libXrandr-devel libXScrnSaver-devel libXdamage-devel
	libXrender-devel libXi-devel libXinerama-devel libXpresent-devel
	xcb-util-devel xcb-util-keysyms-devel xcb-util-image-devel
	xcb-util-renderutil-devel xcb-util-wm-devel xorgproto
 harfbuzz-devel pulseaudio-devel ibus-devel rlottie-devel util-linux libmount-devel"
short_desc="Enlightenment Foundation Libraries"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-2.1-only"
homepage="http://enlightenment.org"
changelog="https://raw.githubusercontent.com/Enlightenment/efl/master/NEWS"
distfiles="https://download.enlightenment.org/rel/libs/efl/efl-${version}.tar.xz"
checksum=cd9625161b324621f873f00eb841de03398892078ce73d60205abd1766c15cc5

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+="  gettext-devel libtool efl-devel"
fi

efl-devel_package() {
	short_desc+=" - development files"
	depends="${makedepends} efl>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
		vmove usr/lib/cmake
		vmove usr/lib/pkgconfig
	}
}
