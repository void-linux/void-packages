# Template file for 'bfg'
pkgname=bfg
version=1.13.0
revision=1
archs=noarch
create_wrksrc=yes
depends="virtual?java-runtime"
short_desc="BFG Repo-Cleaner"
maintainer="Monkey 7 <monkeyseven@fblog.ch>"
license="GPL-3.0-or-later"
homepage="https://rtyley.github.io/bfg-repo-cleaner"
distfiles="https://repo1.maven.org/maven2/com/madgag/bfg/${version}/bfg-${version}.jar"
checksum=bf22bab9dd42d4682b490d6bc366afdad6c3da99f97521032d3be8ba7526c8ce
skip_extraction="bfg-${version}.jar"

do_build() {
	echo "#!/bin/sh" > ${pkgname}
	echo "java -jar /usr/share/${pkgname}/${pkgname}-${version}.jar \$@" >> ${pkgname}
	chmod 755 ${pkgname}
}

do_install() {
	# Main class
	vbin ${pkgname}
	vinstall $XBPS_SRCDISTDIR/${pkgname}-${version}/${pkgname}-${version}.jar 644 usr/share/${pkgname}
}
