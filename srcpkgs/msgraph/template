# Template file for 'msgraph'
pkgname=msgraph
version=0.2.1
revision=1
build_style=meson
build_helper="gir"
hostmakedepends="glib-devel pkg-config gtk-doc gi-docgen"
makedepends="json-glib-devel rest-devel gnome-online-accounts-devel
 uhttpmock-devel"
short_desc="Library to acces MS Graph API for Office 365"
maintainer="fanyx <fanyx@posteo.net>"
license="GPL-3.0-or-later"
homepage="https://gitlab.gnome.org/GNOME/msgraph"
changelog="https://gitlab.gnome.org/GNOME/msgraph/-/raw/main/NEWS"
distfiles="${GNOME_SITE}/msgraph/${version%.*}/msgraph-${version}.tar.xz"
checksum=e0e59eaa8ae3e0a48ec0a6c2fed0470856a709248e9212b6a1d037de5792ecbb

msgraph-devel_package() {
	short_desc+=" - development files"
	depends="${makedepends} ${sourcepkg}-${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.so
		vmove usr/lib/pkgconfig
		vmove usr/lib/girepository-1.0
		vmove usr/share/doc
		vmove usr/share/gir-1.0
	}
}
