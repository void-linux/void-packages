# Template file for 'php8.1-ast'
pkgname=php8.1-ast
version=1.1.0
revision=1
build_style=gnu-configure
configure_args="--with-php-config=/usr/bin/php-config8.1"
make_check_target="test"
hostmakedepends="php8.1-devel autoconf"
makedepends="php8.1-devel"
depends="php8.1"
checkdepends="${depends}"
short_desc="Exposes the abstract syntax tree generated by PHP"
maintainer="Joel Beckmeyer <joel@beckmeyer.us>"
license="BSD-3-Clause"
homepage="https://github.com/nikic/php-ast"
distfiles="https://pecl.php.net/get/ast-${version}.tgz"
checksum=ee3d4f67e24d82e4d340806a24052012e4954d223122949377665427443e6d13
make_check_pre="env NO_INTERACTION=1"

post_extract() {
	mv ast-$version/* .
}

pre_configure() {
	phpize8.1
}

do_install() {
	make INSTALL_ROOT=${DESTDIR} install
	vlicense LICENSE
}
