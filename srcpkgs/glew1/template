# Template file for 'glew1'
pkgname=glew1
version=1.13.0
revision=1
build_style=gnu-makefile
make_build_target=all
make_install_target=install.all
makedepends="libglvnd-devel libX11-devel"
short_desc="OpenGL Extension Wrangler Library (version 1)"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="BSD-3-Clause, MIT"
homepage="https://glew.sourceforge.net"
changelog="https://glew.sourceforge.net/log.html"
distfiles="${SOURCEFORGE_SITE}/glew/${version}/glew-${version}.tgz"
checksum=aa25dc48ed84b0b64b8d41cdd42c8f40f149c37fa2ffa39cd97f42c78d128bc7

do_build() {
	sed -i -e "s|lib64|lib|" config/Makefile.linux
	make CC=$CC AR=$AR AS=$AS LD=$CC RANLIB=$RANLIB \
		CFLAGS.EXTRA="-fPIC $CFLAGS $CPPFLAGS" \
		LDFLAGS.EXTRA="$LDFLAGS" ${makejobs}
}

post_install() {
	vlicense LICENSE.txt
}

glew1-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}
