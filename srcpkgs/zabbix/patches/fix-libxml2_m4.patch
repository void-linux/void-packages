diff --git a/m4/libxml2.m4 b/m4/libxml2.m4
index a5e9b22..bbb3c0e 100644
--- a/m4/libxml2.m4
+++ b/m4/libxml2.m4
@@ -63,7 +63,7 @@ AS_HELP_STRING([--with-libxml2@<:@=ARG@:>@],
             AC_REQUIRE([PKG_PROG_PKG_CONFIG])
             m4_ifdef([PKG_PROG_PKG_CONFIG], [PKG_PROG_PKG_CONFIG()], [:])
 
-            if test -x "$PKG_CONFIG"; then
+            if test -x $(which "$PKG_CONFIG"); then
 
                 LIBXML2_CFLAGS="`$PKG_CONFIG --cflags libxml-2.0`"
 
