# Template file for 'usbutils'
pkgname=usbutils
version=019
revision=1
build_style=meson
hostmakedepends="pkg-config"
makedepends="eudev-libudev-devel libusb-devel"
depends="hwids"
short_desc="Linux USB utilities"
maintainer="Enno Boland <gottox@voidlinux.org>"
license="GPL-2.0-only"
homepage="https://github.com/gregkh/usbutils"
changelog="https://raw.githubusercontent.com/gregkh/usbutils/master/NEWS"
distfiles="${KERNEL_SITE}/utils/usb/usbutils/usbutils-${version}.tar.xz"
checksum=659f40c440e31ba865c52c818a33d3ba6a97349e3353f8b1985179cb2aa71ec5
replaces="usbhid-dump<=1.4_1"

post_install() {
	# Remove lsusb.py - avoid useless python scripts
	rm ${DESTDIR}/usr/bin/lsusb.py
	rm ${DESTDIR}/usr/share/man/man1/lsusb.py.1
	# add usbreset, upstream doesn't install it by default
	vbin build/usbreset
	vman man/usbreset.1
}
