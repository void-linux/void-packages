# Template file for 'platformio'
pkgname=platformio
version=4.3.0
revision=1
archs=noarch
wrksrc="platformio-core-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3-bottle python3-click python3-colorama python3-marshmallow
 python3-pyelftools python3-pyserial python3-requests
 python3-semanticversion python3-setuptools python3-tabulate"
short_desc="Ecosystem for embedded development"
maintainer="bra1nwave <bra1nwave@protonmail.com>"
license="Apache-2.0"
homepage="https://github.com/platformio/platformio-core"
changelog="https://raw.githubusercontent.com/platformio/platformio-core/develop/HISTORY.rst"
distfiles="${homepage}/archive/v${version}.tar.gz"
checksum=e2ed3523b20520ea7ba2a278c7181ce61c065c02e7d3af692f4c1c7c8aaba3c8

post_install() {
	vinstall scripts/99-platformio-udev.rules 644 usr/lib/udev/rules.d
	rm -rf ${DESTDIR}/${py3_sitelib}/scripts
}
