# Template file for 'Bear'
pkgname=Bear
version=3.0.8
revision=1
build_style=cmake
hostmakedepends="pkg-config protobuf grpc"
makedepends="grpc-devel protobuf-devel sqlite-devel fmt-devel
 json-c++ spdlog"
checkdepends="gtest-devel"
short_desc="Tool that generates a compilation database for clang tooling"
maintainer="Alain Kalker <a.c.kalker@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/rizsotto/Bear"
distfiles="https://github.com/rizsotto/Bear/archive/${version}.tar.gz"
checksum=663ef2fcf359e1efb20831fae3901a3edbbb906dd0bc5e62af92e353651c5cec

# paths in gtest.pc for cross are broken
if [ -z "$XBPS_CHECK_PKGS" ]; then
	configure_args="-DENABLE_UNIT_TESTS=OFF -DENABLE_FUNC_TESTS=OFF"
fi
