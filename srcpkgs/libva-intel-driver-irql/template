# Template file for 'libva-intel-driver-irql'
pkgname=libva-intel-driver-irql
version=2.4.5
revision=1
archs="i686* x86_64*"
build_style=meson
hostmakedepends="pkg-config"
makedepends="libX11-devel libva-glx-devel libdrm-devel wayland-devel MesaLib-devel"
short_desc="Video Acceleration (VA) API - Intel Graphics backend"
maintainer="masn <void@togeter.net>"
license="MIT"
homepage="https://github.com/irql-notlessorequal/intel-vaapi-driver"
changelog="https://github.com/irql-notlessorequal/intel-vaapi-driver/master/NEWS"
distfiles="https://github.com/irql-notlessorequal/intel-vaapi-driver/archive/refs/tags/${version}.tar.gz"
checksum=f89f77bc46ec6f46392c1b90b9bf34d09f908bf33c9d16d385897b1fe282bacc
conflicts="libva-intel-driver"

pre_configure() {
        # Only relevant if intel-gpu-tools is installed,
        # since then the shaders will be recompiled
	sed -i '1s/python$/&2/' src/shaders/gpp.py
}
post_install() {
	vlicense LICENSE
}
