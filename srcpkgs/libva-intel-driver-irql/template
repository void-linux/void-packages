# Template file for 'libva-intel-driver-irql'
pkgname=libva-intel-driver-irql
version=2.4.4
revision=1
archs="i686* x86_64*"
conflicts="libva-intel-driver"
build_style=meson
hostmakedepends="pkg-config"
makedepends="libX11-devel libva-glx-devel libdrm-devel wayland-devel MesaLib-devel"
short_desc="Video Acceleration (VA) API - Intel Graphics backend"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/irql-notlessorequal/intel-vaapi-driver"
changelog="https://github.com/irql-notlessorequal/intel-vaapi-driver/master/NEWS"
distfiles="https://github.com/irql-notlessorequal/intel-vaapi-driver/archive/refs/tags/${version}.tar.gz"
checksum=ddb13866c399622d95fa2d8b372f8f8d7dc738432cc20dff52a74159fac12b9c

pre_configure() {
        # Only relevant if intel-gpu-tools is installed,
        # since then the shaders will be recompiled
        sed -i '1s/python$/&2/' src/shaders/gpp.py
}

post_install() {
        vlicense LICENSE
}
