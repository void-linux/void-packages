# Template file for 'jellyfin-desktop'
pkgname=jellyfin-desktop
version=2.0.0
revision=1
build_style=cmake
build_helper="qmake6"
configure_args="-DCHECK_FOR_UPDATES=OFF"
hostmakedepends="python3 qt6-base"
makedepends="qt6-webchannel-devel qt6-webengine-devel mpvqt-devel libcec-devel SDL2-devel"
short_desc="Jellyfin desktop client"
maintainer="classabbyamp <void@placeviolette.net>"
license="GPL-2.0-or-later"
homepage="https://github.com/jellyfin/jellyfin-media-player"
changelog="https://github.com/jellyfin/jellyfin-media-player/releases"
distfiles="https://github.com/jellyfin/jellyfin-media-player/archive/refs/tags/v${version}.tar.gz"
checksum=782e0e7f916efa04b8714ca895f60276320c9682f6c82aea6ff3b82bce466ee7
replaces="jellyfin-media-player>=0"

if [ "$XBPS_WORDSIZE$XBPS_WORDSIZE" != "64$XBPS_TARGET_WORDSIZE" ]; then
	broken="no qt6-webengine"
fi

jellyfin-media-player_package() {
	short_desc+=" (transitional dummy package)"
	depends="${sourcepkg}>=${version}_${revision}"
	metapackage=yes
}
