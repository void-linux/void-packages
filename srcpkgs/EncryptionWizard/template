# Template file for 'EncryptionWizard'
pkgname=EncryptionWizard
version=3.5.2
revision=1
noarch=yes
build_style=fetch
hostmakedepends="unzip wget"
depends="virtual?java-runtime"
short_desc="Java-based file and folder encryption software"
maintainer="Andrew Benson <abenson+void@gmail.com>"
license="GOTS-Public"
homepage="https://www.tens.af.mil/"
changelog="https://www.spi.dod.mil/ewizard_history.htm"
distfiles="https://spi.dod.mil/docs/EncryptionWizard-Unified-FIPS-${version}.zip"
checksum=ea216dcf7338021a8139966e3f175364f164ade1d315877cdd2f13cf31b0e4b3

XBPS_FETCH_CMD="wget --no-check-certificate" # DOD CAs are not in default store

do_install() {
	vmkdir "usr/share/${pkgname}"
	unzip -j -d "${DESTDIR}/usr/share/${pkgname}" \
		"${XBPS_SRCDISTDIR}/${pkgname}-${version}/EncryptionWizard-Unified-FIPS-${version}.zip"
	vbin "${FILESDIR}/EncryptionWizard"
	sed -i -e "s|@@VERSION@@|${version}|" -e "s|@@SHARE@@|/usr/share/${pkgname}|" "${DESTDIR}/usr/bin/EncryptionWizard"
}
