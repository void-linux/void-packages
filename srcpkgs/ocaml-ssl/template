# Template file for 'ocaml-ssl'
pkgname=ocaml-ssl
version=0.5.5
revision=1
build_style=gnu-configure
hostmakedepends="pkg-config ocaml ocaml-findlib"
makedepends="libressl-devel"
short_desc="OCaml SSL bindings"
maintainer="John <johnz@posteo.net>"
license="LGPL-2.1-or-later"
homepage="https://github.com/savonet/ocaml-ssl"
distfiles="https://github.com/savonet/ocaml-ssl/releases/download/${version}/ocaml-ssl-${version}.tar.gz"
checksum=2cc270d2a2f38c4e7972f3abf00f524ce86f668e40c7fcf4e0af99df3b8b3a82
nocross=yes

do_install() {
	vmkdir $(ocamlfind printconf destdir)/stublibs
	OCAMLFIND_DESTDIR="${DESTDIR}$(ocamlfind printconf destdir)"
	OCAMLFIND_INSTFLAGS="-destdir $OCAMLFIND_DESTDIR -ldconf /dev/null" make install
}
