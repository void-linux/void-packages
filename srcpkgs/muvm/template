# Template file for 'muvm'
pkgname=muvm
version=0.4.1
revision=1
build_style=cargo
hostmakedepends="llvm19-devel pkg-config"
makedepends="libkrun-devel eudev-libudev-devel"
depends="passt"
short_desc="Run programs from your system in a microVM"
maintainer="Daniel Martinez <danielmartinez@cock.li>"
license="MIT AND Apache-2.0"
homepage="https://github.com/AsahiLinux/muvm"
distfiles="https://github.com/AsahiLinux/muvm/archive/refs/tags/muvm-${version}.tar.gz"
checksum=e60b104e7d85e2dcc1b70521060524384cd91d6a1dbc6923d591d00efa276e5f

do_install() {
	vbin target/${RUST_TARGET}/release/muvm
	vbin target/${RUST_TARGET}/release/muvm-guest
}

post_install() {
	vlicense crates/muvm/LICENSE
}
