# Template file for 'rustypipe-cli'
pkgname=rustypipe-cli
version=0.7.2
revision=1
# the rquickjs crate doesn't support armv6 and armv7
archs="x86_64* i686* aarch64*"
build_style=cargo
build_wrksrc="cli"
hostmakedepends="pkg-config"
makedepends="openssl-devel"
short_desc="CLI client for YouTube"
maintainer="Bnyro <bnyro@tutanota.com>"
license="GPL-3.0-or-later"
homepage="https://codeberg.org/ThetaDev/rustypipe"
changelog="https://codeberg.org/ThetaDev/rustypipe/raw/branch/main/cli/CHANGELOG.md"
distfiles="https://codeberg.org/ThetaDev/rustypipe/archive/rustypipe-cli/v${version}.tar.gz"
checksum=c30400270a97b5fc8964e3f135f273dfe3f8982544a57cb8ea921e715150ef7e

pre_build() {
	# upstream doesn't ship a lockfile
	# see https://codeberg.org/ThetaDev/rustypipe/src/branch/main/.gitignore
	cargo generate-lockfile
}
