# Template file for 'smile'
pkgname=smile
version=2.11.0
revision=1
build_style=meson
hostmakedepends="glib-devel ninja pkg-config gtk+3 desktop-file-utils
 appstream-glib"
depends="python3 libadwaita xdotool noto-fonts-emoji"
short_desc="Emoji picker keyboard for Linux, Python 3 and GTK4 based"
maintainer="xeroxslayer <xeroxslayer@proton.me>"
license="GPL-3.0-or-later"
homepage="https://github.com/mijorus/${pkgname}"
distfiles="https://github.com/mijorus/${pkgname}/archive/refs/tags/${version}.tar.gz"
checksum="a4e85c3af5783789498b1bf84211747a08299441305ac97d0210a754a55bd11e"

post_extract() {
	# Fix the custom command info from 'flatpak run it.mijorus.smile'
	# to just 'smile'.
	sed -i 's@flatpak run {self.application_id}@smile@g' src/Settings.py
}
