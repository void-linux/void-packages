# Template file for 'python3-flint'
pkgname=python3-flint
version=0.8.0
revision=1
build_style=python3-pep517
build_helper="meson"
hostmakedepends="python3-meson-python python3-Cython pkg-config"
makedepends="python3-devel gmp-devel flintlib-devel"
depends="python3"
short_desc="Bindings for FLINT and Arb"
maintainer="Gonzalo Tornar√≠a <tornaria@cmat.edu.uy>"
license="MIT"
homepage="https://github.com/flintlib/python-flint"
distfiles="${PYPI_SITE}/p/python-flint/python_flint-${version}.tar.gz"
checksum=3da125cd780e09510b0fb5f455646013f2b49072ea43eea806f6af77b450fa39

post_install() {
	vlicense LICENSE
}

do_check() {
	local testdir="${wrksrc}/.xbps-testdir/$(date +%s)"
	python3 -m installer --destdir "${testdir}" dist/*.whl
	PYTHONPATH="${testdir}/${py3_sitelib}" python3 -m flint.test
}
