# Template file for 'hg-git'
pkgname=hg-git
version=1.0.2
revision=1
build_style=python3-pep517
hostmakedepends="python3-setuptools_scm python3-wheel"
depends="python3-dulwich mercurial"
checkdepends="$depends git unzip openssh"
short_desc="Mercurial plugin adding the ability to push and pull to/from Git"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-only"
# https://www.mercurial-scm.org/wiki/HgGit
homepage="https://foss.heptapod.net/mercurial/hg-git"
changelog="https://foss.heptapod.net/mercurial/hg-git/-/raw/branch/default/NEWS.rst"
distfiles="$PYPI_SITE/h/hg-git/hg-git-$version.tar.gz"
checksum=5a840e87a70a15c9c1e06196bc3ed5955e772f11e9b1803e88c0c9f55af03416

do_check() {
	python3 tests/run-tests.py --with-hg=/usr/bin/hg
}
