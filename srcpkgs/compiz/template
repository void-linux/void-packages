# Template file for 'compiz'
pkgname=compiz
version=0.9.14.2
revision=1
_major_minor_patch=${version%.*}
build_style=cmake
configure_args="-DCOMPIZ_WERROR=OFF"
conf_files="/etc/compizconfig/config.conf"
hostmakedepends="intltool pkg-config"
makedepends="boost-devel cairo-devel glibmm-devel glu-devel libglib-devel
 libglvnd-devel libICE-devel libSM-devel libX11-devel libXcomposite-devel
 libXcursor-devel libXdamage-devel libXext-devel libXi-devel libXinerama-devel
 libxml2-devel libXrandr-devel libxslt-devel pango-devel python3-Cython
 python3-devel python3-setuptools startup-notification-devel"
short_desc="OpenGL compositing window manager (version 0.9)"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="GPL-2.0-only, LGPL-2.1-only, MIT"
homepage="https://launchpad.net/compiz"
changelog="https://git.launchpad.net/compiz/plain/NEWS"
distfiles="https://launchpad.net/compiz/${_major_minor_patch}/${version}/+download/compiz-${version}.tar.xz"
checksum=cfa061e93b032275ff9e7041f582a8f6d5ae271cf8a89e6bc74e3d3635999d3c

post_install() {
	vlicense COPYING.MIT
}

compiz-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
		vmove usr/lib/pkgconfig
		vmove "usr/share/cmake-*"
	}
}
