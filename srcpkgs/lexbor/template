# Template file for 'lexbor'
pkgname=lexbor
version=2.4.0
revision=1
build_style=cmake
configure_args="-DLEXBOR_BUILD_TESTS=ON"
short_desc="Browser engine library"
maintainer="Ivelieu <ivelieu1@gmail.com>"
license="Apache-2.0"
homepage="https://lexbor.com/"
changelog="https://raw.githubusercontent.com/lexbor/lexbor/refs/heads/master/CHANGELOG.md"
distfiles="https://github.com/lexbor/lexbor/archive/refs/tags/v${version}.tar.gz"
checksum=8949744d425743828891de6d80327ccb64b5146f71ff6c992644e6234e63930e

pre_install() {
	cmake --install build
}

lexbor-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
		vmove "usr/lib/*.a"
	}
}
