commit 97cfe87b0a5bc0d8de267ca157e7cd6e0573072b
Author: Daniel Martinez <danielmartinez@cock.li>
Date:   Wed Jun 25 16:01:30 2025 -0400

    Fix target directory for xbps-src

diff --git a/Makefile b/Makefile
index ce70aee..b561540 100644
--- a/Makefile
+++ b/Makefile
@@ -67,7 +67,7 @@ KRUN_BINARY_Darwin = libkrun$(VARIANT).$(FULL_VERSION).dylib
 KRUN_SONAME_Darwin = libkrun$(VARIANT).$(ABI_VERSION).dylib
 KRUN_BASE_Darwin = libkrun$(VARIANT).dylib
 
-LIBRARY_RELEASE_Linux = target/release/$(KRUN_BINARY_Linux)
+LIBRARY_RELEASE_Linux = target/$(XBPS_CROSS_RUST_TARGET)/release/$(KRUN_BINARY_Linux)
 LIBRARY_DEBUG_Linux = target/debug/$(KRUN_BINARY_Linux)
 LIBRARY_RELEASE_Darwin = target/release/$(KRUN_BINARY_Darwin)
 LIBRARY_DEBUG_Darwin = target/debug/$(KRUN_BINARY_Darwin)
@@ -88,7 +88,7 @@ debug: $(LIBRARY_DEBUG_$(OS)) libkrun.pc
 ifeq ($(BUILD_INIT),1)
 INIT_BINARY = init/init
 $(INIT_BINARY): $(INIT_SRC)
-	gcc -O2 -static -Wall $(INIT_DEFS) -o $@ $(INIT_SRC) $(INIT_DEFS)
+	$(CC) -O2 -static -Wall $(INIT_DEFS) -o $@ $(INIT_SRC) $(INIT_DEFS)
 endif
 
 $(LIBRARY_RELEASE_$(OS)): $(INIT_BINARY)
@@ -105,7 +105,7 @@ ifeq ($(EFI),1)
 endif
 	mv target/release/libkrun.dylib target/release/$(KRUN_BASE_$(OS))
 endif
-	cp target/release/$(KRUN_BASE_$(OS)) $(LIBRARY_RELEASE_$(OS))
+	cp target/$(XBPS_CROSS_RUST_TARGET)/release/$(KRUN_BASE_$(OS)) $(LIBRARY_RELEASE_$(OS))
 
 $(LIBRARY_DEBUG_$(OS)): $(INIT_BINARY)
 	cargo build $(FEATURE_FLAGS)
