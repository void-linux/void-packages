# Template file for 'db'
pkgname=db
version=4.8.30
wrksrc="db-${version}"
distfiles="http://download.oracle.com/berkeley-db/db-${version}.tar.gz"
build_style=gnu-configure
build_wrksrc="build_unix"
configure_script="../dist/configure"
configure_args="--enable-compat185 --enable-cxx --enable-o_direct
--enable-posixmutexes"
make_build_args="LIBSO_LIBS=-lpthread"
revision=2
short_desc="The Berkeley DB from Oracle"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=e0491a07cdb21fb9aa82773bbbedaeb7639cbd0e7f96147ab46141e0045db72a
long_desc="
 Berkeley DB is an embeddable database system that supports keyed access to
 data. The software is distributed in source code form, and developers can
 compile and link the source code into a single library for inclusion
 directly in their applications.

 Developers may choose to store data in any of several different storage
 structures to satisfy the requirements of a particular application. In
 database terminology, these storage structures and the code that operates on
 them are called access methods. The library includes support for the
 following access methods:

 * B+tree: Stores keys in sorted order, using either a programmer-supplied
   ordering function or a default function that does lexicographical
   ordering of keys. Applications may perform equality or range searches.
 * Hashing: Stores records in a hash table for fast searches based on
   strict equality. Extended Linear Hashing modifies the hash function
   used by the table as new records are inserted, in order to keep buckets
   underfull in the steady state.
 * Fixed and Variable-Length Records: Stores fixed- or variable-length
   records in sequential order. Record numbers may be immutable or
   mutable, i.e., permitting new records to be inserted between existing
   records or requiring that new records be added only at the end of the
   database."

subpackages="libdb libdb-cxx db-docs db-devel"

post_install() {
	vmove "usr/docs/*" usr/share/doc/${pkgname}-${version}
	rmdir ${DESTDIR}/usr/docs
}
