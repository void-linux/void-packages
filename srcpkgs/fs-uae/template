# Template file for 'fs-uae'
pkgname=fs-uae
version=3.0.2
revision=1
build_style=gnu-configure
hostmakedepends="gettext pkg-config zip"
makedepends="glew-devel libmpeg2-devel SDL2-devel MesaLib-devel freetype-devel libglib-devel libpng-devel libopenal-devel"
depends="desktop-file-utils hicolor-icon-theme"
short_desc="FS-UAE Amiga Emulator"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-2.0-only"
homepage="https://fs-uae.net"
distfiles="https://fs-uae.net/stable/${version}/${pkgname}-${version}.tar.gz"
checksum=4ededc341edf12ad84e15ecfaf7942ebba12b75aec8c78fb0275d13c749f8aab
nocross="./gen/genlinetoscr: cannot execute binary file: Exec format error"
nopie=yes

case "$XBPS_TARGET_MACHINE" in
	x86_64*|i686*) ;;
	*) configure_args+=" --disable-jit" ;;
esac

post_install() {
	vinstall ${FILESDIR}/fs-uae.desktop 644 usr/share/applications
}
