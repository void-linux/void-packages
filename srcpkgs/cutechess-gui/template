# Template file for 'cutechess-gui'
pkgname=cutechess-gui
version=1.4.0
revision=1
build_style=cmake
hostmakedepends="qt6-tools qt6-base"
makedepends="qt6-svg-devel qt6-qt5compat-devel"
depends="hicolor-icon-theme"
short_desc="GUI for playing chess"
maintainer="Imran Khan <imran@khan.ovh>"
license="GPL-3.0-or-later AND MIT"
homepage="https://github.com/cutechess/cutechess"
changelog="https://github.com/cutechess/cutechess/raw/master/CHANGELOG.md"
distfiles="https://github.com/cutechess/cutechess/archive/refs/tags/v${version}.tar.gz"
checksum=7adf8e8d867c13acf5273b568a39bf9d0d722d3de0141cea953e624f8839b506

do_install() {
	vbin build/cutechess
	vinstall dist/linux/cutechess.desktop 644 usr/share/applications
	sed -n '2,23s:^[ ]*::p' projects/gui/components/pgnhighlighter/src/pgnhighlighter.h > COPYING.gui
	vlicense COPYING.gui
}

cutechess-cli_package() {
	short_desc="CLI tool to automate chess engine tournaments"
	pkg_install() {
		vbin build/cutechess-cli
		vman docs/cutechess-cli.6
	}
}
