# Template file for 'clipgrab'
pkgname=clipgrab
version=3.9.14
revision=1
build_style=qmake
configure_args=clipgrab.pro
hostmakedepends="qt6-base qt6-tools"
makedepends="qt6-base-devel qt6-webengine-devel"
depends="ffmpeg desktop-file-utils"
short_desc="Friendly downloader for YouTube and other sites"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://clipgrab.org"
distfiles="https://download.clipgrab.org/clipgrab-${version}.tar.gz"
checksum=d3e53731f9edaca05c5c860e15680ed2432dc5ad6c9a822acba5bc851f1ec836

if [ "$XBPS_WORDSIZE$XBPS_WORDSIZE" != "64$XBPS_TARGET_WORDSIZE" ]; then
	broken='qt6-webengine'
fi

do_install() {
	vbin clipgrab
	vinstall icon.png 644 usr/share/pixmaps clipgrab.png
	vinstall ${FILESDIR}/clipgrab.desktop 644 usr/share/applications
}
