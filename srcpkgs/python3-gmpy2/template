# Template file for 'python3-gmpy2'
pkgname=python3-gmpy2
# need $version > 2.2.0a1 which we shipped before by necessity
version=2.2.0r
revision=1
build_style=python3-pep517
hostmakedepends="python3-setuptools python3-wheel"
makedepends="python3-devel gmp-devel mpfr-devel libmpc-devel"
depends="python3"
checkdepends="python3-pytest python3-hypothesis"
short_desc="Python3 interface to GMP, MPFR and MPC libraries"
maintainer="Gonzalo Tornar√≠a <tornaria@cmat.edu.uy>"
license="LGPL-3.0-or-later"
homepage="https://github.com/aleaxit/gmpy"
changelog="https://github.com/aleaxit/gmpy/releases"
distfiles="${PYPI_SITE}/g/gmpy2/gmpy2-${version%r}.tar.gz"
checksum=e19e62dfeb1e4a57079f0bf51c51dec30633d9fe9e89cb9a083e05e4823afa70

if [ "$XBPS_CHECK_PKGS" = full ]; then
	# this would cause a build-time circular dependency
	checkdepends+=" python3-mpmath"
fi
