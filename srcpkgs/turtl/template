# Template file for 'turtl'
pkgname=turtl
version=0.7.2.6
revision=1
archs="x86_64"
depends="alsa-lib dbus-glib gtk+3 libnotify nss libXtst xdg-utils libXScrnSaver"
short_desc="The secure, collaborative notebook"
maintainer="liberodark <liberodark@gmail.com>"
license="GPL-3.0-only"
homepage="https://turtlapp.com"
distfiles="https://github.com/turtl/desktop/releases/download/v${version}-pre-sync-fix/turtl-${version}-pre-sync-fix-linux64.tar.bz2"
checksum=77746d54518aabf19c187c6fb3c9923fe84acad30a68073fee50ba5f61a96bde

do_install() {
	vmkdir "usr/bin"
	vmkdir "opt/turtl"
	cp --preserve=mode -r ./turtl-linux64/turtl/* "${DESTDIR}/opt/turtl"
	vinstall "${FILESDIR}/turtl.desktop" 644 "usr/share/applications/"
	for size in 128 16 256 32 48; do
		vinstall "./turtl-linux64/turtl/icon.png" 644 \
		 "usr/share/icons/hicolor/${size}x${size}/apps/turtl.png"
	done
	ln -s "${DESTDIR}/opt/turtl" "${DESTDIR}/usr/bin/turtl"
	vlicense EULA
}
