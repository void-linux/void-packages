# Template file for 'winboat'
pkgname=winboat
version=0.7.12
revision=1
hostmakedepends="nodejs go zip tar"
depends="freerdp3 docker"
short_desc="Run Windows apps on Linux with seamless integration"
maintainer="Toyam Cox <Vaelatern@voidlinux.org>"
license="MIT"
homepage="https://www.winboat.app/"
distfiles="https://github.com/TibixDev/winboat/archive/refs/tags/v${version}.tar.gz"
checksum=b70ac4004854376673df5a5cf47c8821e9bb1d19e9b8581bfb722030def0a848

do_build() {
	npm i
	bash build-guest-server.sh &&
		node scripts/build.js &&
		npm run build:linux-pk
}

do_install() {
	vbin "${FILESDIR}/winboat"

	vmkdir usr/libexec
	vcopy dist/linux-unpacked usr/libexec/winboat

	vlicense LICENSE
}
