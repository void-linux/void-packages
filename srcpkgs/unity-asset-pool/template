# Template file for 'unity-asset-pool'
pkgname=unity-asset-pool
version=0.8.24+17.10.20170507
revision=1
hostmakedepends="icon-naming-utils"
depends="gnome-icon-theme"
short_desc="Design assets for Unity"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="CC-BY-SA-3.0"
homepage="https://launchpad.net/unity-asset-pool"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+files/unity-asset-pool_${version}.orig.tar.gz"
checksum=8f3ff7df84daf28165e6f78d1287b54c86d22a1612f66c8655d8bef729a85b8b

do_install() {
	vmkdir usr/share/unity/themes 755
	vcopy launcher/* usr/share/unity/themes
	vcopy panel/* usr/share/unity/themes

	vmkdir usr/share/icons 755
	find unity-icon-theme/ -type f -exec install -Dm644 {} "${DESTDIR}"/usr/share/icons/{} \;
	vinstall ${FILESDIR}/voidlinux-icon-tango-22.png 644 usr/share/icons/unity-icon-theme/places/22 distributor-logo.png
	vinstall ${FILESDIR}/voidlinux-icon-tango-24.png 644 usr/share/icons/unity-icon-theme/places/24 distributor-logo.png

	for i in $(find "${DESTDIR}/usr/share/icons" -mindepth 2 -maxdepth 2 -type d); do
		cd "${i}"
		for j in *; do
			/usr/libexec/icon-name-mapping -c "${j}"
		done
	done
}
