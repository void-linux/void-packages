# Template file for 'liquidctl'
pkgname=liquidctl
version=1.13.0
revision=1
build_style=python3-pep517
hostmakedepends="python3-wheel python3-setuptools_scm"
depends="hidapi libusb python3-Pillow python3-crcmod python3-docopt python3-smbus
python3-usb python3-hidapi python3-colorlog"
checkdepends="python3-pytest ${depends}"
short_desc="Cross-platform tool and drivers for liquid coolers and other devices"
maintainer="Greg Beard <gmbeard@googlemail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/liquidctl/liquidctl"
distfiles="${PYPI_SITE}/l/${pkgname}/${pkgname}-${version}.tar.gz"
checksum=ee17241689c0bf3de43cf4d97822e344f5b57513d16dd160e37fa0e389a158c7

post_install() {
	vman liquidctl.8
	for d in $(find docs -maxdepth 1 -type f -name '*.md'); do
		vinstall "${d}" 644 "/usr/share/doc/${pkgname}"
	done
	for d in $(find docs/linux -maxdepth 1 -type f -name '*.md'); do
		vinstall "${d}" 644 "/usr/share/doc/${pkgname}/linux"
	done
	vinstall extra/linux/71-liquidctl.rules 644 /usr/lib/udev/rules.d
}
