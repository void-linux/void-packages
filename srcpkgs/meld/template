# Template file for 'meld'
pkgname=meld
version=3.22.0
revision=1
build_style=meson
hostmakedepends="pkg-config itstool gettext appstream-glib glib-devel"
makedepends="python3-devel gtk+3-devel gtksourceview4-devel python3-gobject-devel"
depends="python3-gobject python3-cairo gsettings-desktop-schemas gtksourceview4
 desktop-file-utils hicolor-icon-theme"
checkdepends="${depends} python3-pytest"
short_desc="Visual diff and merge tool"
maintainer="Helmut Pozimski <helmut@pozimski.eu>"
license="GPL-2.0-or-later"
homepage="https://meld.app"
changelog="https://gitlab.gnome.org/GNOME/meld/-/raw/main/NEWS"
distfiles="${GNOME_SITE}/meld/${version%.*}/meld-${version}.tar.xz"
checksum=3fc107c98ef6e75358ffd2b0d14c85ddb48fe14a11e939a94322faaa8e90c40d

post_check() {
	python3 -m pytest test
}
