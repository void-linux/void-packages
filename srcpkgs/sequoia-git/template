# Template file for 'sequoia-git'
pkgname=sequoia-git
version=0.1.0
revision=1
build_style=cargo
build_helper=qemu
_deps="nettle-devel openssl-devel sqlite-devel libgit2-devel bzip2-devel"
hostmakedepends="pkg-config llvm clang ${_deps}"
makedepends="${_deps}"
checkdepends="git gnupg"
short_desc="Tool to verify git commit signatures based on a policy"
maintainer="Jan Christian Gr√ºnhage <jan.christian@gruenhage.xyz>"
license="LGPL-2.0-or-later"
homepage="https://gitlab.com/sequoia-pgp/sequoia-git"
distfiles="https://gitlab.com/sequoia-pgp/sequoia-git/-/archive/v${version}/sequoia-git-v${version}.tar.gz"
checksum=c1f7d2647538f3335dab8862a9c4b78bac8c41bb22a3917ec45989849fd035dd

post_install() {
	for page in man/*; do
		vman ${page}
	done
	vcompletion completions/sq-git.bash bash
	vcompletion completions/sq-git.fish fish
	vcompletion completions/_sq-git zsh
}
