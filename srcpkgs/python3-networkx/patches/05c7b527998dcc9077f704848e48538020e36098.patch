Taken from https://github.com/networkx/networkx/pull/8096

From 05c7b527998dcc9077f704848e48538020e36098 Mon Sep 17 00:00:00 2001
From: Ross Barnowski <rossbar@caltech.edu>
Date: Tue, 3 Jun 2025 13:05:37 -0700
Subject: [PATCH] Fix gh-8091

---
 networkx/generators/lattice.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/networkx/generators/lattice.py b/networkx/generators/lattice.py
index 95e520d2ce1..0617cd2bf7a 100644
--- a/networkx/generators/lattice.py
+++ b/networkx/generators/lattice.py
@@ -124,15 +124,15 @@ def grid_graph(dim, periodic=False):
     >>> len(G)
     6
     """
+    from collections.abc import Iterable
+
     from networkx.algorithms.operators.product import cartesian_product
 
     if not dim:
         return empty_graph(0)
 
-    try:
-        func = (cycle_graph if p else path_graph for p in periodic)
-    except TypeError:
-        func = repeat(cycle_graph if periodic else path_graph)
+    periodic = repeat(periodic) if not isinstance(periodic, Iterable) else periodic
+    func = (cycle_graph if p else path_graph for p in periodic)
 
     G = next(func)(dim[0])
     for current_dim in dim[1:]:
