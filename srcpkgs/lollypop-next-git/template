# Template file for 'lollypop-next-git'
_tag=1.2.29-103-g288f3d79

pkgname=lollypop-next-git
version=$(echo ${_tag} | sed 's/\([^-]*-g\)/r\1/;s/-/./g')
revision=1
conflicts=lollypop
archs=noarch
build_style=meson
hostmakedepends="cmake git glib-devel gobject-introspection intltool itstool pkg-config"
makedepends="gtk+3-devel libsoup-devel python3-gobject-devel python3-devel"
depends="dconf gst-libav gst-plugins-good1 libnotify libsecret
 python3-dbus python3-gobject python3-pylast python3-youtube-dl
 python3-Pillow totem-pl-parser python3-BeautifulSoup4"
short_desc="Music player for GNOME"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://wiki.gnome.org/Apps/Lollypop"

do_fetch() {
	git clone --recursive -b next https://gitlab.gnome.org/World/lollypop.git ${wrksrc}
	cd ${wrksrc}
	git reset --hard ${_tag}
}
