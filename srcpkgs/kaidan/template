# Template file for 'kaidan'
pkgname=kaidan
version=0.12.2
revision=1
build_style=cmake
hostmakedepends="qt6-base qt6-tools qt6-declarative-host-tools"
makedepends="qt6-svg-devel qxmpp-devel extra-cmake-modules qt6-declarative-devel
 qt6-multimedia-devel qt6-position-devel qt6-location-devel qt6-declarative-private-devel
 qt6-base-private-devel kf6-kio-devel kf6-prison-devel kf6-kirigami-devel KDSingleApplication
 kirigami-addons-devel"
depends="qt6-plugin-sqlite kf6-kirigami kf6-qqc2-desktop-style kirigami-addons kf6-sonnet
 kquickimageeditor qt6-location qt6-plugin-tls-openssl"
short_desc="Modern chat app for every device"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later AND LGPL-2.1-or-later AND MIT AND CC0-1.0 AND CC-BY-SA-4.0"
homepage="https://www.kaidan.im/"
changelog="https://invent.kde.org/network/kaidan/-/raw/master/NEWS.md"
distfiles="https://invent.kde.org/network/kaidan/-/archive/v${version}/kaidan-v${version}.tar.gz"
checksum=c6f57a1c78dca7da7787b3a9ea62c6e7c774229645c13c665003afaefe92c539

if [ -z "$XBPS_CHECK_PKGS" ]; then
	configure_args+=" -DBUILD_TESTING=OFF"
else
	configure_args+=" -DBUILD_TESTING=ON"
fi

post_install() {
	vlicense LICENSES/MIT.txt
}
