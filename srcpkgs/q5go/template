# Template file for 'q5go'
pkgname=q5go
version=2.1.2
revision=1
wrksrc="q5Go-${pkgname}-${version}"
build_style=qmake
configure_args="src/q5go.pro"
makedepends="qt5-qmake qt5-multimedia-devel qt5-svg-devel"
short_desc="Qt5 Go/Weiqi/Baduk client modernized from qGo"
maintainer="Jason Manley <jason@jasondavid.tv>"
license="GPL-3.0-or-later"
homepage="https://github.com/bernds/q5Go"
distfiles="https://github.com/bernds/q5Go/archive/refs/tags/${pkgname}-${version}.tar.gz"
checksum=00a685eed2bb4318ce148e916248def63ac484dda6eb8b3cda501a526e215d67

post_install() {
	qmake -install qinstall "${wrksrc}/src/images/clientwindow/Bowl.png" "${DESTDIR}/usr/share/q5go/Bowl.png"
	qmake -install qinstall "${wrksrc}/templates/qgo.desktop" "${DESTDIR}/usr/share/applications/q5go.desktop"
	sed -i -e 's/Name=qgo/Name=q5go/g' -e 's/Comment=qgo/Comment=q5go/g' -e 's/Exec=qgo/Exec=q5go/g' -e 's/Icon=\/usr\/share\/qGo\/pics\/Bowl\.png/Icon=\/usr\/share\/q5go\/Bowl\.png/g' -e 's/MimeType=text\/plain\;text\/sfg\;Application/MimeType=application\/x-go-sgf;/g' "${DESTDIR}/usr/share/applications/q5go.desktop"
}
