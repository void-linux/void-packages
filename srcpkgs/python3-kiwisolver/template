# Template file for 'python3-kiwisolver'
pkgname=python3-kiwisolver
version=1.4.5
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools python3-cppy"
makedepends="python3-devel python3-cppy"
depends="python3"
short_desc="Fast implementation of the Cassowary constraint solver (Python3)"
maintainer="Orphaned <orphan@voidlinux.org>"
license="BSD-3-Clause"
homepage="https://github.com/nucleic/kiwi"
distfiles="${PYPI_SITE}/k/kiwisolver/kiwisolver-${version}.tar.gz"
checksum=e57e563a57fb22a142da34f38acc2fc1a5c864bc29ca1517a88abc963e60d6ec

post_patch() {
	# When cross building, make sure target cppy headers are used
	if [ -n "${XBPS_CROSS_BASE}" ]; then
		vsed -i setup.py \
			-e "s@cppy.get_include()@&.replace('/usr/', '${XBPS_CROSS_BASE}/usr/')@"
	fi
}

post_install() {
	vlicense LICENSE
}
