# Template file for 'libdivecomputer-subsurface'
pkgname=libdivecomputer-subsurface
version=5.0.10
revision=1
wrksrc="libdivecomputer-subsurface-branch-${version}"
build_style=gnu-configure
hostmakedepends="libtool automake autoconf pkg-config"
makedepends="libusb-devel libmtp-devel hidapi-devel libbluetooth-devel"
short_desc="Subsurface version of libdivecomputer"
maintainer="Alan Brown <adbrown@rocketmail.com>"
license="LGPL-2.1-only"
homepage="https://subsurface-divelog.org/"
distfiles="${homepage}/downloads/${pkgname}-branch-${version}.tgz"
checksum=5dc13c5e82c35e5041cdde2ee206b6c5972e6755ea399373df7cfd77d7275f14

pre_configure() {
	autoreconf -fi
}

libdivecomputer-subsurface-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
		vmove "usr/lib/*.a"
		vmove usr/share/man/man3
	}
}
