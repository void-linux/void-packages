# Template file for 'handlr-regex'
pkgname=handlr-regex
version=0.10.1
revision=1
build_style=cargo
make_install_args="--path handlr-regex"
depends="shared-mime-info"
checkdepends="shared-mime-info"
short_desc="Fork of handlr with support for regex"
maintainer="tranzystorekk <tranzystorek.io@protonmail.com>"
license="MIT"
homepage="https://github.com/Anomalocaridid/handlr-regex"
changelog="https://github.com/Anomalocaridid/handlr-regex/releases"
distfiles="https://github.com/Anomalocaridid/handlr-regex/archive/refs/tags/v${version}.tar.gz"
checksum=1bc96b1fa241f7f9db97b3fd99e94086d31ecb16b9bcd3057ce9d81b99fde85a

post_install() {
	vlicense LICENSE

	for _manpage in assets/manual/man1/*.1; do
		vman ${_manpage}
	done

	vcompletion assets/completions/handlr bash handlr
	vcompletion assets/completions/handlr.fish fish handlr
	vcompletion assets/completions/_handlr zsh handlr
}

handlr_package() {
	build_style=meta
	short_desc+=" (transitional dummy package)"
	depends="${sourcepkg}>=${version}_${revision}"
}
