# Template file for 'python3-cairosvg'
pkgname=python3-cairosvg
version=2.5.2
revision=1
wrksrc="CairoSVG-$version"
build_style=python3-module
hostmakedepends="python3-setuptools"
#makedepends=""
depends="python3-cairocffi python3-cssselect2 python3-tinycss2
 python3-defusedxml python3-Pillow"
checkdepends="python3-pytest $depends"
short_desc="Convert your vector images"
maintainer="Michal Vasilek <michal@vasilek.cz>"
license="LGPL-3.0-or-later"
homepage="https://www.courtbouillon.org/cairosvg"
changelog="https://raw.githubusercontent.com/Kozea/CairoSVG/master/NEWS.rst"
distfiles="https://github.com/Kozea/CairoSVG/archive/refs/tags/$version.tar.gz"
checksum=90a8bee8e7984317a21db4e1c6672e1d17266ced060f3bfd88b1dd70b6c422ff
make_check=no # No such file or directory: test_non_regression/cairosvg_reference/cairosvg/__init__.py

pre_patch() {
	vsed -e '/pytest-runner/d' \
		 -e '/flake8/d' \
		 -e '/--isort/d' \
		 -i setup.cfg
}
