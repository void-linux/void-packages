# Template file for 'yggdrasil'
pkgname=yggdrasil
version=0.4.5
revision=1
wrksrc="yggdrasil-go-${version}"
build_style=go
go_import_path=github.com/yggdrasil-network/yggdrasil-go
short_desc="Experiment in scalable routing as an encrypted IPv6 overlay network"
maintainer="Jan Christian Gruenhage <jan.christian@gruenhage.xyz>"
license="LGPL-3.0-only"
homepage="https://yggdrasil-network.github.io/"
changelog="https://raw.githubusercontent.com/yggdrasil-network/yggdrasil-go/develop/CHANGELOG.md"
distfiles="https://github.com/yggdrasil-network/yggdrasil-go/archive/v${version}.tar.gz"
checksum=1d11531d1a44d74cafd43645575e5a26f3c2e0d816360b53e286db7dc5813a29

do_build() {
	PKGNAME=${pkgname} PKGVER=${version} ./build
}

do_install() {
	vbin yggdrasil
	vsv yggdrasil
}

yggdrasilctl_package() {
	short_desc="Administration utility for the yggdrasil node admin API"
	pkg_install() {
		vbin yggdrasilctl
	}
}
