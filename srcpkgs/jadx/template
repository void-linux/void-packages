# Template file for 'jadx'
pkgname=jadx
version=1.1.0
revision=1
archs=noarch
hostmakedepends="openjdk8 gradle"
short_desc="Decompiler for Dalvik bytecode"
maintainer="Andrew Benson <abenson+void@gmail.com>"
license="Apache-2.0"
homepage="https://github.com/skylot/jadx"
distfiles="https://github.com/skylot/jadx/archive/v${version}.tar.gz"
checksum=86136f831e1e7889c012ddb5b874a014e1db6d615c805a9c832ec54ef22e292c

if [ -e /etc/profile.d/10_openjdk11.sh ]; then
	. /etc/profile.d/10_openjdk11.sh
fi

do_build() {
	gradle copyArtifacts
}

do_install() {
	vmkdir usr/share
	vcopy build/jadx usr/share
	vmkdir usr/bin
	ln -s /usr/share/jadx/bin/jadx ${DESTDIR}/usr/bin/jadx
	ln -s /usr/share/jadx/bin/jadx-gui ${DESTDIR}/usr/bin/jadx-gui
}
