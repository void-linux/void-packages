# Template file for 'plasma-nm'
pkgname=plasma-nm
version=6.0.2
revision=1
build_style=cmake
configure_args="-DKF6_HOST_TOOLING=/usr/lib/cmake
 $(vopt_bool openconnect BUILD_OPENCONNECT)"
hostmakedepends="extra-cmake-modules mobile-broadband-provider-info pkg-config
 gettext qt6-base qt6-tools kf6-kpackage-devel kf6-kcmutils-devel"
makedepends="plasma-workspace-devel kf6-networkmanager-qt-devel
 qca-qt6-devel kf6-modemmanager-qt-devel kf6-kdoctools-devel kf6-solid-devel
 qcoro-qt6-devel $(vopt_if openconnect 'openconnect-devel qt6-webengine-devel')
 mobile-broadband-provider-info"
depends="mobile-broadband-provider-info"
short_desc="NetworkManager Plasma applet"
maintainer="John <me@johnnynator.dev>"
license="LGPL-2.1-or-later"
homepage="https://invent.kde.org/plasma/plasma-nm"
distfiles="${KDE_SITE}/plasma/${version}/${pkgname}-${version}.tar.xz"
checksum=42e6f31b3ec6de51ee3cefdb52299e655cdd20a5c8b4d7880429184e2f92d0c6

build_options="openconnect"
build_options_default=""

if [ "$XBPS_TARGET_ENDIAN" = "le" ] && [ "$XBPS_WORDSIZE" = "64" ]; then
	if [ "$XBPS_TARGET_WORDSIZE" = "$XBPS_WORDSIZE" ]; then
		build_options_default="openconnect"
	fi
fi
