# Template file for 'wcslib'
pkgname=wcslib
version=8.4
revision=1
build_style=gnu-configure
_cross_base="${XBPS_CROSS_BASE//\//_}"
_cross_base="${_cross_base//-/_}"
configure_args="--disable-flex --without-pgplot
 --with-cfitsioinc=${XBPS_CROSS_BASE}/usr/include
 --with-cfitsiolib=${XBPS_CROSS_BASE}/usr/lib
 ac_cv_file_${_cross_base}_usr_include_fitsio_h=yes
 ac_cv_file_${_cross_base}_usr_lib=yes"
hostmakedepends="gcc-fortran"
makedepends="cfitsio-devel libX11-devel zlib-devel libpng-devel"
short_desc="FITS World Coordinate System Library"
maintainer="Đoàn Trần Công Danh <congdanhqx@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://www.atnf.csiro.au/computing/software/wcs/"
distfiles="https://www.atnf.csiro.au/computing/software/wcs/WCS/wcslib-${version}.tar.bz2"
checksum=960b844426d14a8b53cdeed78258aa9288cded99a7732c0667c64fa6a50126dc
make_check=no

wcslib-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}

wcslib-utils_package() {
	short_desc+=" - utilities"
	pkg_install() {
		vmove usr/bin
		vmove usr/share/man/man1
	}
}
