# Template file for 'yuki-iptv'
pkgname=yuki-iptv
version=0.0.18
revision=1
hostmakedepends="gettext python3"
depends="python3 qt6-base mpv python3-pyqt6 python3-requests python3-gobject python3-chardet ffmpeg yt-dlp"
short_desc="IPTV player with EPG support"
maintainer="Worf <me@worf.win>"
license="GPL-3.0-or-later"
homepage="https://codeberg.org/liya/yuki-iptv/"
distfiles=https://codeberg.org/liya/yuki-iptv/archive/${version}.tar.gz
checksum=9a49f9c1f3a4b1c7e4767975aaa5dd152d36be08d2d23782cfbf5f3f7503b2eb

post_extract() {
	sed -i "s/__DEB_VERSION__/${version}/g" usr/lib/yuki-iptv/yuki-iptv.py
}

do_build() {
	make
	python3 ./generate_desktop_files
}

do_install() {
	vcopy usr /
}
