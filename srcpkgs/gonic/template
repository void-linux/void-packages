# Template file for 'gonic'
pkgname=gonic
version=0.20.0
revision=1
build_style=go
go_import_path="go.senan.xyz/gonic"
go_package="${go_import_path}/cmd/gonic"
depends="ffmpeg"
checkdepends="shared-mime-info"
short_desc="Music streaming server / subsonic server API implementation"
maintainer="Hendrik Boll <fanyx@posteo.net>"
license="GPL-3.0-or-later"
homepage="https://github.com/sentriz/gonic"
distfiles="https://github.com/sentriz/gonic/archive/v${version}.tar.gz"
checksum=e1b818d1b6c6732e7eaa0f98ad812d35ece7b5ce1fd02ba3c1962b972a8b6326

system_accounts="_gonic"
_gonic_homedir="/var/lib/gonic"
make_dirs="/var/cache/gonic 755 _gonic _gonic
 /var/lib/gonic 755 _gonic _gonic
 /var/db/gonic  755 _gonic _gonic"

post_install() {
	vsv gonic
	vsconf contrib/config
}
