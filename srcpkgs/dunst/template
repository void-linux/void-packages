# Template file for 'dunst'
pkgname=dunst
version=1.13.1
revision=1
build_style=gnu-makefile
make_check_target=test
make_use_env=yes
make_build_args="SYSTEMD=0 WAYLAND=$(vopt_if wayland 1 0) SYSCONFDIR=/etc"
make_install_args="$make_build_args"
hostmakedepends="perl pkg-config"
makedepends="gdk-pixbuf-devel libXScrnSaver-devel libXinerama-devel libXrandr-devel
 libxdg-basedir-devel libnotify-devel $(vopt_if wayland 'wayland-devel wayland-protocols')"
checkdepends="dbus dejavu-fonts-ttf"
conf_files="/etc/dunst/dunstrc"
short_desc="Lightweight and customizable notification daemon"
maintainer="Rodrigo Oliveira <mdkcore@qtrnn.io>"
license="BSD-3-Clause"
homepage="https://dunst-project.org"
changelog="https://raw.githubusercontent.com/dunst-project/dunst/master/CHANGELOG.md"
distfiles="https://github.com/dunst-project/dunst/archive/v${version}.tar.gz"
checksum=a578e5c2cdb546187355c710f1aa84c472e6e23828e692fe1cb0ebb9635b11a6

build_options="wayland"
build_options_default="wayland"

post_install() {
	vlicense LICENSE
	vcompletion completions/dunst.bashcomp bash
	vcompletion completions/dunstify.bashcomp fish
	vcompletion completions/dunstctl.bashcomp bash
	vcompletion completions/dunst.fishcomp fish
	vcompletion completions/dunstify.fishcomp fish
	vcompletion completions/dunstctl.fishcomp fish
	vcompletion completions/_dunst.zshcomp zsh
	vcompletion completions/_dunstify.zshcomp fish
	vcompletion completions/_dunstctl.zshcomp zsh
}
