--- libgo/sysinfo.c
+++ libgo/sysinfo.c
@@ -288,3 +288,10 @@ enum {
   epoll_data_offset = offsetof(struct epoll_event, data)
 };
 #endif
+
+/* on musl off64_t is a macro, define it for real so go can use it */
+#if defined(HAVE_OFF64_T) && defined(off64_t)
+typedef off64_t real_off64_t;
+#undef off64_t
+typedef real_off64_t off64_t;
+#endif
