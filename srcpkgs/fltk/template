# Template file for 'fltk'
pkgname=fltk
version=1.4.4
revision=1
build_style=cmake
configure_args="-DFLTK_BUILD_HTML_DOCS=ON -DFLTK_BUILD_SHARED_LIBS=ON
 -DFLTK_INSTALL_HTML_DOCS=ON -DFLTK_OPTION_CAIRO_EXT=ON
 -DFLTK_BUILD_FLUID_DOCS=OFF -DFLTK_INSTALL_FLUID_DOCS=OFF
 -DFLTK_OPTION_CAIRO_WINDOW=ON -DFLTK_OPTION_STD=ON -DFLTK_BUILD_TEST=OFF"
hostmakedepends="doxygen man-db pkg-config wayland-devel"
makedepends="MesaLib-devel alsa-lib-devel cairo-devel freetype-devel glu-devel
 gtk+3-devel libXft-devel libXcursor-devel libXfixes-devel libXinerama-devel
 libdecor-devel libjpeg-turbo-devel libpng-devel libxkbcommon-devel pango-devel
 wayland-devel wayland-protocols"
short_desc="Cross-platform C++ GUI toolkit"
maintainer="Orphaned <orphan@voidlinux.org>"
license="custom:LGPL-2.0-only WITH FLTK-exception"
homepage="https://www.fltk.org/"
distfiles="https://github.com/fltk/fltk/releases/download/release-${version}/fltk-${version}-source.tar.gz"
checksum=94b464cce634182c8407adac1be5fc49678986ca93285699b444352af89b4efe

post_build() {
	cd build
	ninja docs
}

post_install() {
	vlicense COPYING
}

fltk-devel_package() {
	depends="${makedepends} fltk-${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/bin/fltk-config
		vmove usr/bin/fluid
		vmove usr/bin/fluid-shared
		vmove usr/include
		vmove usr/lib/*.a
		vmove usr/lib/*.so
		vmove usr/share/fltk/*.cmake
		vmove usr/share/doc
		vmove usr/share/applications/fluid.desktop
		vmove usr/share/icons/hicolor/32x32/apps/fluid.png
		vmove usr/share/icons/hicolor/48x48/apps/fluid.png
		vmove usr/share/icons/hicolor/64x64/apps/fluid.png
		vmove usr/share/icons/hicolor/128x128/apps/fluid.png
		vmove usr/share/man/man1/fltk-config.1
		vmove usr/share/man/man1/fluid.1
		vmove usr/share/mime/packages/fluid.xml
	}
}
