From d5f08a1addeae4eb411b17c8ab77fdf7ef1417a5 Mon Sep 17 00:00:00 2001
From: tibequadorian <tibequadorian@posteo.de>
Date: Sat, 22 Jan 2022 00:37:05 +0100
Subject: [PATCH] Use ayatana appindicator

---
 CMakeLists.txt   | 8 ++++----
 src/gromit-mpx.h | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 1a501e9..7a82562 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -22,21 +22,21 @@ configure_file(build-config.h_cmake_in build-config.h)
 find_package(PkgConfig)
 
 pkg_check_modules(gtk3 REQUIRED "gtk+-3.0 >= 3.22")
-pkg_check_modules(appindicator3 REQUIRED "appindicator3-0.1 >= 0.4.92")
+pkg_check_modules(ayatana-appindicator3 REQUIRED "ayatana-appindicator3-0.1 >= 0.5")
 pkg_check_modules(xinput REQUIRED "xi >= 1.3")
 pkg_check_modules(x11 REQUIRED x11)
 
 include_directories(
     ${CMAKE_CURRENT_BINARY_DIR}
     ${gtk3_INCLUDE_DIRS}
-    ${appindicator3_INCLUDE_DIRS}
+    ${ayatana-appindicator3_INCLUDE_DIRS}
     ${xinput_INCLUDE_DIRS}
     ${x11_INCLUDE_DIRS}
 )
 
 link_directories(
     ${gtk3_LIBRARY_DIRS}
-    ${appindicator3_LIBRARY_DIRS}
+    ${ayatana-appindicator3_LIBRARY_DIRS}
     ${xinput_LIBRARY_DIRS}
     ${x11_LIBRARY_DIRS}
 )
@@ -58,7 +58,7 @@ add_executable(${target_name} ${sources})
 
 target_link_libraries(${target_name}
     ${gtk3_LIBRARIES}
-    ${appindicator3_LIBRARIES}
+    ${ayatana-appindicator3_LIBRARIES}
     ${xinput_LIBRARIES}
     ${x11_LIBRARIES}
     -lm
diff --git a/src/gromit-mpx.h b/src/gromit-mpx.h
index f060163..29f7ef5 100644
--- a/src/gromit-mpx.h
+++ b/src/gromit-mpx.h
@@ -27,7 +27,7 @@
 #include <glib.h>
 #include <gdk/gdk.h>
 #include <gtk/gtk.h>
-#include <libappindicator/app-indicator.h>
+#include <libayatana-appindicator/app-indicator.h>
 
 
 #define GROMIT_MOUSE_EVENTS ( GDK_BUTTON_MOTION_MASK | \
-- 
2.34.1

