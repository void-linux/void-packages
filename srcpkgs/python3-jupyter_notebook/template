# Template file for 'python3-jupyter_notebook'
pkgname=python3-jupyter_notebook
version=5.7.0
revision=3
archs=noarch
wrksrc="notebook-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3-Jinja2 python3-terminado python3-tornado
 python3-ipython_genutils python3-traitlets python3-jupyter_core
 python3-jupyter_client python3-jupyter_nbformat python3-jupyter_nbconvert
 python3-ipython_ipykernel python3-send2trash python3-prometheus_client
 mathjax"
checkdepends="$depends"
short_desc="Jupyter interactive notebook"
maintainer="Alessio Sergi <al3hex@gmail.com>"
license="BSD-3-Clause"
homepage="https://jupyter.org/"
distfiles="${PYPI_SITE}/n/notebook/notebook-${version}.tar.gz"
checksum=b85e4de3d54cf4f14fe1d0515a980ccb49ddd4cdd21250cc0d4fb6374d50b1a7
conflicts="python-jupyter_notebook<=5.7.0_2"

post_install() {
	vlicense COPYING.md LICENSE
	# use system mathjax
	rm -rf ${DESTDIR}/${py3_sitelib}/notebook/static/components/MathJax
	ln -sf /usr/share/mathjax ${DESTDIR}/${py3_sitelib}/notebook/static/components/MathJax
}

do_check() {
	: no selenium
}
