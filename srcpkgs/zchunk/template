# Template file for 'zchunk'
pkgname=zchunk
version=0.9.8
revision=1
build_style=meson
hostmakedepends="pkg-config"
makedepends="libcurl-devel libzstd-devel"
short_desc="Compressed file format that splits the file into independent chunks"
maintainer="cr6git <quark6@protonmail.com>"
license="BSD-2-Clause"
homepage="https://github.com/zchunk/zchunk"
distfiles="https://github.com/zchunk/zchunk/archive/${version}.tar.gz"
checksum=69b6b8acbb90561efdb9e0107b0df005e9ace059ecb92427fedd23a7f60bc8f3

case "$XBPS_TARGET_MACHINE" in
	*-musl) makedepends+=" argp-standalone"
		LDFLAGS="-largp"
		;;
esac

post_install() {
	rm -rf ${DESTDIR}/usr/include
	rm -rf ${DESTDIR}/usr/lib/pkgconfig
	vlicense LICENSE
}
