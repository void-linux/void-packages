# Template file for 'citations'
pkgname=citations
version=0.9.0
revision=1
build_style=meson
build_helper=rust
hostmakedepends="glib-devel gettext rust cargo pkg-config
 gtk-update-icon-cache gtk4-update-icon-cache desktop-file-utils"
makedepends="cmake libadwaita-devel gtk4-devel openssl-devel
 rust-std poppler-glib-devel gtksourceview5-devel libadwaita-devel"
short_desc="Manage your bibliography using BibTeX format"
maintainer="Alex Childs <misuchiru03+github@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://gitlab.gnome.org/World/citations"
distfiles="https://gitlab.gnome.org/World/citations/-/archive/${version}/citations-${version}.tar.gz"
checksum=499bf8929ff48a409cc6532f7e91042647d0a08de5850788abd6f45ce7d1ffca

post_patch() {
	if [ "$CROSS_BUILD" ]; then
		vsed -i src/meson.build \
		 	-e "s%rust_target /%'${RUST_TARGET}' / rust_target /%"
	fi
}
