Force destruction of downloader before curl_global_cleanup
See: https://github.com/Sude-/lgogdownloader/commit/6ce6aeb1dc06f8af1508c5ce6ee71775b8d188b3
Index: LGOGDownloader-3.9/main.cpp
===================================================================
--- LGOGDownloader-3.9.orig/main.cpp
+++ LGOGDownloader-3.9/main.cpp
@@ -607,9 +607,10 @@ int main(int argc, char *argv[])
         std::cerr << std::endl;
     }
 
+    int res = 0;
     // Init curl globally
     curl_global_init(CURL_GLOBAL_ALL);
-
+    {
     Downloader downloader;
 
     int iLoginTries = 0;
@@ -733,12 +734,10 @@ int main(int argc, char *argv[])
     bool bInitOK = downloader.init();
     if (!bInitOK)
     {
-        curl_global_cleanup();
-        return 1;
+        res = 1;
+        goto end;
     }
 
-    int res = 0;
-
     if (Globals::globalConfig.bShowWishlist)
         downloader.showWishlist();
     else if (Globals::globalConfig.bUpdateCache)
@@ -801,7 +800,8 @@ int main(int argc, char *argv[])
     // Orphan check was called at the same time as download. Perform it after download has finished
     if (!Globals::globalConfig.sOrphanRegex.empty() && Globals::globalConfig.bDownload)
         downloader.checkOrphans();
-
+    }
+end:
     curl_global_cleanup();
 
     return res;
