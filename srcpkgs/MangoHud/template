# Template file for 'MangoHud'
pkgname=MangoHud
version=0.7.1
revision=1
build_style=meson
configure_args="-Dwith_xnvctrl=disabled
 -Dwith_nvml=disabled -Duse_system_spdlog=enabled"
hostmakedepends="Vulkan-Headers python3-Mako glslang pkg-config"
makedepends="libglvnd-devel dbus-devel vulkan-loader spdlog json-c++"
short_desc="Vulkan and OpenGL overlay for monitoring FPS, temperatures and more"
maintainer="John <me@johnnynator.dev>"
license="MIT"
homepage="https://github.com/flightlessmango/MangoHud"
distfiles="https://github.com/flightlessmango/MangoHud/releases/download/v${version}/MangoHud-v${version}-1-Source-DFSG.tar.xz"
checksum=d16bdd21bb416720abaf537dea2d1667f318a1e3ec49c569e520c8f683f63949
python_version=3

if [ "$XBPS_TARGET_LIBC" = "musl" ]; then
	configure_args+=" -Ddynamic_string_tokens=false"
fi

post_install() {
	vlicense LICENSE
}
