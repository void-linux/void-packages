# Template file for 'minecraft-beta'
pkgname=minecraft-beta
version=2.1.15166
revision=1
archs=x86_64 # Does NOT work with musl 
depends="wmname wget xorg"
short_desc="Beta Launcher for the famous Minecraft game"
maintainer="ThatGeekyWeeb <https://github.com/ThatGeekyWeeb/>"
homepage="http://www.minecraft.net/"
license="Propietary"
repository=nonfree
pkgver="2.1.15166"
distfiles="https://launcher.mojang.com/download/linux/x86_64/minecraft-launcher_${pkgver}.tar.gz"
checksum="1c7ab4a11384ba1f85c3549090484f14a51c0277d0fa25c5fffb8333e60f0493"
nopie=true
nostrip=true
wrksrc="minecraft-launcher"
source=$disfiles
do_install() {
    cd $FILESDIR
    srcdir="${wrksrc}"
    cd "${wrksrc}"
    mkdir -p "${DESTDIR}/opt/"
    mkdir -p "${DESTDIR}/usr/bin"
    install -Dm644 "${FILESDIR}/minecraft-launcher.svg"    "${DESTDIR}/usr/share/icons/hicolor/symbolic/apps/minecraft-launcher.svg"
    install -Dm644 "${FILESDIR}/minecraft-launcher.desktop"    "${DESTDIR}/usr/share/applications/minecraft-launcher.desktop"
    cp -Rv "${wrksrc}" "${DESTDIR}/opt/minecraft-launcher/"
    ln -s "${DESTDIR}/opt/minecraft-launcher/minecraft-launcher" "${DESTDIR}/usr/bin/minecraft-launcher"
}
