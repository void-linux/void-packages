pkgname=brother-mfcj6720dw-cupswrapper
version=3.0.0
revision=1
maintainer="Sasha <sasha+devel@marvid.fr>"
homepage="http://support.brother.com/g/b/index.aspx"
license="GPL-2"
short_desc="CUPS wrapper driver for the brother MFC-J6720DW printer/scanner"
distfiles="http://download.brother.com/welcome/dlf100966/mfcj6720dwcupswrapper-${version}-1.i386.deb"
checksum="ff7895c56b66526f30d288954b282178584ff3eb6d18397548d983c5b6cf3f58"
only_for_archs="i686 x86_64"
depends="brother-mfcj6720dw-lpr cups"
create_wrksrc=yes
nopie=yes

do_extract() {
	ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/mfcj6720dwcupswrapper-${version}-1.i386.deb
}

do_install() {
	mkdir -p ${DESTDIR}
	tar xzpvf data.tar.gz -C ${DESTDIR}
	rm ${DESTDIR}/opt/brother/Printers/mfcj6720dw/cupswrapper/cupswrappermfcj6720dw
	vinstall ${FILESDIR}/cupswrapper.void 755 /opt/brother/Printers/mfcj6720dw/cupswrapper/
	vinstall ${FILESDIR}/43-cups-usb.rules 644 /usr/lib/udev/rules.d/
}
