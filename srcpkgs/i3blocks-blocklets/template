# Template file for 'i3blocks-blocklets'
pkgname=i3blocks-blocklets
version=1.4.0
revision=3
wrksrc="i3blocks-contrib-${version}"
depends="i3blocks>=1.5"
short_desc="Flexible scheduler for i3bar"
maintainer="teldra <teldra@rotce.de>"
license="GPL-3.0-or-later, GPL-3.0-only, GPL-2.0-only"
homepage="https://github.com/vivien/i3blocks-contrib"
distfiles="https://github.com/vivien/i3blocks-contrib/archive/v${version}.tar.gz"
checksum=84148bf8f514de3b3dcaedeb5621e9640f96423d06759b7072507a15d0b6337f

do_install() {
	rm -rf .git CONTRIBUTING.md README.md ISSUE_TEMPLATE.md LICENSE.md .gitignore

	vmkdir usr/share/examples/i3blocks/
	vcopy * usr/share/examples/i3blocks/

	vmkdir /usr/libexec/i3blocks
	for folder in $(find ${wrksrc} -mindepth 1 -maxdepth 1 -type d); do
		for file in $(find ${folder##*/} -executable -type f -name "${folder##*/}*"); do
			vinstall ${folder##*/}/${file##*/} 655 usr/libexec/i3blocks
		done
	done
}
