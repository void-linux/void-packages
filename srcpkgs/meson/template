# Template file for 'meson'
pkgname=meson
version=0.48.0
revision=1
noarch=yes
build_style=python3-module
pycompile_module="mesonbuild"
hostmakedepends="python3-devel python3-setuptools"
depends="ninja python3-setuptools"
checkdepends="glib-devel gobject-introspection libsanitizer-devel ninja
 pkg-config vala python-devel"
short_desc="Super fast build system"
maintainer="Dylan Katz <muddmaker.97@gmail.com>"
license="Apache-2.0"
homepage="http://mesonbuild.com"
changelog="https://raw.githubusercontent.com/mesonbuild/meson/master/docs/markdown/Release-notes-for-${version%.?}.0.md"
distfiles="https://github.com/mesonbuild/meson/archive/${version}.tar.gz"
checksum=9de95eff4577a9b2b258bdef7a544da3f7fedab94ac2eabc6bacfcd11ea4e07e

do_check() {
	# meson depends on trillion of things to perform actual tests
	# see checkdepends=() on arch
	# 3 tests still fails
	./run_unittests.py
}
