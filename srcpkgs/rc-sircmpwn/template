# Template file for 'rc-sircmpwn'
pkgname=rc-sircmpwn
version=99git
_version=efa26af8ee3af657c49693a8dd6ac25ef67fbe04
revision=1
build_style=configure
hostmakedepends="hare scdoc"
makedepends="hare-madeline"
short_desc="Simple shell"
maintainer="Jonas Fentker <jonas@fentker.eu>"
license="GPL-3.0-only"
homepage="https://git.sr.ht/~sircmpwn/rc"
distfiles="https://git.sr.ht/~sircmpwn/rc/archive/${_version}.tar.gz"
checksum="ad6d2894304e8c7cbed31aea8e029d34940fa8077200be477510fd7071d1e098"
alternatives="rc:/usr/bin/rc:/usr/bin/rc-sircmpwn"
register_shell="/bin/rc"

do_configure() {
	sed -i 's|^PREFIX=/usr/local$|PREFIX=/usr|' Makefile
}

post_install() {
	mv ${DESTDIR}/usr/bin/rc ${DESTDIR}/usr/bin/rc-sircmpwn
	mv ${DESTDIR}/usr/share/man/man1/rc.1 ${DESTDIR}/usr/share/man/man1/rc-sircmpwn.1
}
