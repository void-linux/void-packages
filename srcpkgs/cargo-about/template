# Template file for 'cargo-about'
pkgname=cargo-about
version=0.6.0
revision=1
# depends on rustls/ring
archs="x86_64* aarch64* i686* arm*"
build_style=cargo
hostmakedepends="pkg-config"
makedepends="libzstd-devel"
short_desc="Cargo plugin to generate list of all licenses for a crate"
maintainer="Jan Christian Gr√ºnhage <jan.christian@gruenhage.xyz>"
license="MIT, Apache-2.0"
homepage="https://github.com/EmbarkStudios/cargo-about"
changelog="https://raw.githubusercontent.com/EmbarkStudios/cargo-about/main/CHANGELOG.md"
distfiles="https://github.com/EmbarkStudios/cargo-about/archive/refs/tags/${version}.tar.gz"
checksum=b2967f406d68cb09dff8ffea4f60c398ad873a41ac19e6a841e30e22c730791d

if [ "$XBPS_TARGET_NO_ATOMIC8" ]; then
	broken="broken on architectures without atomic8"
fi

post_install() {
	vlicense LICENSE-APACHE
	vlicense LICENSE-MIT
	vdoc README.md
}
