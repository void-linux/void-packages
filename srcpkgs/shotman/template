# Template file for 'shotman'
pkgname=shotman
version=0.4.10
revision=1
build_style=cargo
build_helper="qemu"
hostmakedepends="pkg-config scdoc"
makedepends="libxkbcommon-devel"
depends="slurp"
short_desc="Uncompromising screenshot GUI for Wayland"
maintainer="Nicolas Rojas <code@nicolasrojas.me>"
license="ISC"
homepage="https://shotman.whynothugo.nl"
changelog="https://git.sr.ht/~whynothugo/shotman/blob/main/CHANGELOG.md"
distfiles="https://git.sr.ht/~whynothugo/shotman/archive/v${version}.tar.gz"
checksum=acb87715eb98521dda3de44851d4ef6e4cc7eae399bb2dfc4d501b8c8bb2308a

export SHOTMAN_VERSION="v${version}"

post_install() {
	scdoc <shotman.1.scd >shotman.1
	vman shotman.1
	vlicense LICENCE.md
	for shell in bash fish zsh; do
		vtargetrun "./target/${RUST_TARGET}/release/shotman_completions" "${shell}" >"completions.${shell}"
		vcompletion "completions.${shell}" "${shell}"
	done
}
