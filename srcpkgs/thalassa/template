# Template file for 'thalassa'
pkgname=thalassa
version=0.3.53
revision=1
hostmakedepends="curl"
short_desc="Web content management system (CMS), is written in C++"
maintainer="le34 <joe.satriani@le34.ru>"
license="custom:Croco"
homepage="http://thalassa.croco.net/"
distfiles="${pkgname}-${version}.tar.bz2"
checksum=a880029d544c9ea9512716dba3bacc58f1db8546c2e3c3f4f826c93bc8eaf169

do_fetch() {
	mkdir -p ${XBPS_SRCDISTDIR}/${pkgname}-${version}
	curl ${homepage}download/${pkgname}-${version}.tbz2 -o ${XBPS_SRCDISTDIR}/${pkgname}-${version}/${pkgname}-${version}.tar.bz2
}

do_build() {
	make
}

do_install() {
	vbin cms/thalassa
	vdoc README
	vlicense LICENSE
	vcopy "doc" usr/share/doc/${pkgname}/html
	vmkdir usr/libexec/${pkgname}
	vinstall "cms/thalcgi.cgi" 0755 usr/libexec/${pkgname}
	vmkdir usr/share/webapps/${pkgname}
	#ln -s /usr/libexec/${pkgname}/${pkgname}.cgi ${DESTDIR}/usr/share/webapps/${pkgname}/${pkgname}.cgi
	ln -s /usr/libexec/${pkgname}/${pkgname}.cgi ${DESTDIR}/usr/share/webapps/${pkgname}/
}
