# Template file for 'cross-riscv64-none-elf-binutils'
_triplet=riscv64-none-elf
_pkgname=binutils
pkgname=cross-${_triplet}-${_pkgname}
version=2.45.1
revision=1

short_desc="GNU binary utilities for RISC-V (bare-metal) target"
maintainer="kuwoyuki <kuwoyuki@cock.li>"
license="GPL-3.0-or-later"
homepage="https://www.gnu.org/software/binutils/"

distfiles="${GNU_SITE}/${_pkgname}/${_pkgname}-${version}.tar.xz"
checksum=5fe101e6fe9d18fdec95962d81ed670fdee5f37e3f48f0bef87bddf862513aa5

hostmakedepends="pkgconf"
makedepends="zlib-devel"
nocross=yes

build_style=gnu-configure
configure_args="--prefix=/usr
 --target=${_triplet}
 --with-sysroot=/usr/${_triplet}
 --disable-nls
 --disable-werror
 --enable-deterministic-archives
 --enable-interwork
 --enable-multilib
 --enable-plugins
 --enable-ld=default
 --with-system-zlib
 --with-gnu-as
 --with-gnu-ld"

post_install() {
	rm -fr ${DESTDIR}/usr/share/info
}
