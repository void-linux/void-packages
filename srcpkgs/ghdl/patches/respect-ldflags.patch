Partially adapted from Debian. Do not ignore LDFLAGS we set.
We do not want the -g part, as that is handled by xbps-src.

Index: ghdl-2.0.0/Makefile.in
===================================================================
--- ghdl-2.0.0.orig/Makefile.in
+++ ghdl-2.0.0/Makefile.in
@@ -112,13 +112,14 @@ target=$(build)
 #target=x86_64-apple-darwin
 #target=i386-pc-mingw32
 
+SHLIB_FLAGS=$(LDFLAGS)
 ifeq ($(SOEXT),.so)
-SHLIB_FLAGS=-Wl,-soname,$(notdir $@)
+SHLIB_FLAGS+=-Wl,-soname,$(notdir $@)
 else ifeq ($(SOEXT),.dll)
-SHLIB_FLAGS=
+SHLIB_FLAGS+=
 else ifeq ($(SOEXT),.dylib)
 # Allow the use of -rpath in executable
-SHLIB_FLAGS=-Wl,-install_name,@rpath/$(notdir $@)
+SHLIB_FLAGS+=-Wl,-install_name,@rpath/$(notdir $@)
 endif
 
 # Flags for libraries
