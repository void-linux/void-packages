# Template file for 'phockup'
pkgname=phockup
version=1.9.0
revision=1
depends="exiftool python3"
checkdepends="${depends} python3-tqdm python3-pytest python3-pytest-mock"
short_desc="Media sorting tool to organize photos and videos"
maintainer="eoli3n <jonathan.kirszling@runbox.com>"
license="MIT"
homepage="https://github.com/ivandokov/phockup"
distfiles="${homepage}/archive/refs/tags/${version}.tar.gz"
checksum=952cf21484cf48606ef7f05aa8da96fb7518a96e0a36b4a87a5cb17c02427db2

do_install() {
	vmkdir usr/share/${pkgname}
	vmkdir usr/bin
	vinstall phockup.py 755 usr/share/${pkgname}
	vcopy src usr/share/${pkgname}
	vlicense license
}

do_check() {
	pytest
}

post_install() {
	ln -s "/usr/share/${pkgname}/phockup.py" "${DESTDIR}/usr/bin/${pkgname}"
}
