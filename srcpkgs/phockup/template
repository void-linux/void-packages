# Template file for 'phockup'
pkgname=phockup
version=1.13.0
revision=1
depends="exiftool python3 python3-tqdm"
checkdepends="${depends} python3-pytest python3-pytest-mock"
short_desc="Media sorting tool to organize photos and videos"
maintainer="eoli3n <jonathan.kirszling@runbox.com>"
license="MIT"
homepage="https://github.com/ivandokov/phockup"
distfiles="${homepage}/archive/refs/tags/${version}.tar.gz"
checksum=0d5d507757f08f6accaa9735b569b18fd62990b456135450d424632be093741c

do_install() {
	vmkdir usr/share/${pkgname}
	vmkdir usr/bin
	vinstall phockup.py 755 usr/share/${pkgname}
	vcopy src usr/share/${pkgname}
	vlicense license
}

do_check() {
	pytest
}

post_install() {
	ln -s "/usr/share/${pkgname}/phockup.py" "${DESTDIR}/usr/bin/${pkgname}"
}
