# Template file for 'python3-loguru'
pkgname=python3-loguru
version=0.6.0
revision=1
wrksrc="loguru-${version}"
build_style=python3-module
hostmakedepends="python3-setuptools"
checkdepends="python3-pytest python3-colorama"
short_desc="Library which aims to bring enjoyable logging in Python"
maintainer="oliver <oliver@tuta.io>"
license="MIT"
homepage="https://github.com/Delgan/loguru"
changelog="https://raw.githubusercontent.com/Delgan/loguru/master/CHANGELOG.rst"
distfiles="${PYPI_SITE}/l/loguru/loguru-$version.tar.gz"
checksum=066bd06758d0a513e9836fd9c6b5a75bfb3fd36841f4b996bc60b547a309d41c

case $XBPS_TARGET_MACHINE in
	# https://github.com/Delgan/loguru/issues/658
	x86_64-musl) make_check_args="--ignore=tests/test_filesink_rotation.py";;
esac

post_install() {
	vlicense LICENSE
}
