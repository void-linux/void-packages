# Template file for 'onevpl'
pkgname=onevpl
version=2023.1.2
revision=1
archs="x86_64*"
build_style=cmake
configure_args="
	-DCMAKE_BUILD_TYPE=Release -Wno-dev
	-DBUILD_PYTHON_BINDING:BOOL='OFF'
	-DBUILD_EXAMPLES:BOOL='OFF'
	-DBUILD_TESTS:BOOL='ON'
	-DINSTALL_EXAMPLE_CODE:BOOL='OFF'"
hostmakedepends="cmake libX11 python wayland-protocols pkg-config"
makedepends="libva-devel libX11-devel wayland-devel"
short_desc="Intel oneAPI Video Processing library"
maintainer="zlice <zlice555@gmail.com>"
license="MIT"
homepage="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onevpl.html"
distfiles="https://github.com/oneapi-src/oneVPL/archive/v${version}/${pkgname}-${version}.tar.gz"
checksum=b2261cca174ce1815f3d47c647921ab17f68267c69c1e2444ff27aab7d199cbb

post_install() {
	vlicense LICENSE
}

onevpl-devel_package() {
	depends="${makedepends} ${sourcepkg}-${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
