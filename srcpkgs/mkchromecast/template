# Template file for 'mkchromecast'
_git_hash=c046ba2f6dffbb4a22f793c6f92e704e7647a01d

pkgname=mkchromecast
version=0.3.9.${_git_hash:0:7}
revision=1
pycompile_dirs="/usr/share/mkchromecast/mkchromecast"
depends="python3-Flask python3-netifaces python3-setuptools python3-requests
 python3-mutagen python3-psutil python3-PyQt5 python3-SoCo python3-chromecast
 python3-gobject pulseaudio python3-youtube-dl ffmpeg"
short_desc="Cast Linux Audio/Video to Google cast and Sonos devices"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://mkchromecast.com/"
distfiles="https://github.com/muammar/${pkgname}/archive/${_git_hash}.tar.gz>${pkgname}-${version}.tar.gz"
checksum=d3d6c9d8c0566356aa830671fdac7ce243606b7acfb81ef92da8062e48867456
wrksrc="${pkgname}-${_git_hash}"
python_version=3

do_install() {
	vmkdir usr/bin
	vmkdir usr/share/mkchromecast
	vinstall bin/mkchromecast 755 usr/share/mkchromecast mkchromecast.py
	ln -s /usr/share/mkchromecast/mkchromecast.py "$DESTDIR"/usr/bin/mkchromecast

	vman man/mkchromecast.1

	vinstall mkchromecast.desktop 644 usr/share/applications
	vinstall images/mkchromecast.xpm 644 usr/share/pixmaps
	vcopy images/google* usr/share/mkchromecast
	vcopy mkchromecast usr/share/mkchromecast/

	vlicense LICENSE
}
