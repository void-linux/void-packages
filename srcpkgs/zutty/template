# Template file for 'zutty'
pkgname=zutty
version=0.16
revision=1
build_style=waf3
hostmakedepends="pkg-config"
makedepends="libglvnd-devel freetype-devel libXmu-devel"
depends="font-misc-misc"
short_desc="X terminal emulator rendering through OpenGL ES Compute Shaders"
maintainer="Javier Caballero <jacallo@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://tomscii.sig7.se/zutty"
distfiles="https://git.hq.sig7.se/zutty.git/snapshot/${version}.tar.gz"
checksum=c794ba769f4bd973d0b836c7c138dd2f827ace8359f772d3a136eee671adaa40
broken="upstream server does not respond to GitHub or the Void builders"

post_install() {
	# Copy icons
	vinstall icons/zutty.svg 644 usr/share/icons/hicolor/scalable/apps
	for _res in 16 32 48 64 128; do
		vinstall icons/zutty_${_res}x${_res}.png 644 usr/share/icons/hicolor/${_res}x${_res}/apps zutty.png
	done
	# Copy desktop entry
	vmkdir usr/share/applications/
	vinstall icons/zutty.desktop 644 usr/share/applications
}
