# Template file for 'cargo-c'
pkgname=cargo-c
version=0.9.22
revision=1
build_style=cargo
hostmakedepends="pkg-config zlib-devel"
makedepends="openssl-devel libssh2-devel zlib-devel libcurl-devel"
short_desc="Build and install C-compatible rust libraries"
maintainer="oreo639 <oreo6391@gmail.com>"
license="MIT"
homepage="https://crates.io/crates/cargo-c"
distfiles="https://github.com/lu-zero/cargo-c/archive/v${version}.tar.gz
 https://github.com/lu-zero/cargo-c/releases/download/v${version}/Cargo.lock"
checksum="6af542e3d76e4341693b2e9a9f50abf15b04d82c5f9d1b350110cfac7e914e73
 0c59e6fa12196cb57733d889ace5acbbe26ec32a6124324d0e6aa0bae2d2a4c3"
skip_extraction="Cargo.lock"

post_extract() {
	cd ${wrksrc}
	cp ${XBPS_SRCDISTDIR}/${pkgname}-${version}/Cargo.lock .
	cargo vendor
}

post_install() {
	vlicense LICENSE
}
