# Template file for 'nwg-hello'
pkgname=nwg-hello
version=0.4.1
revision=1
build_style=python3-pep517
make_dirs="
 /var/cache/nwg-hello 0775 root _greeter
"
hostmakedepends="python3-setuptools python3-wheel"
makedepends="python3-build python3-installer python3-setuptools python3-wheel"
depends="greetd python3 python3-gobject gtk+3 gtk-layer-shell gnome-themes-extra"
checkdepends="python3-wheel"
short_desc="GTK3-based greeter for greetd written in python"
maintainer="Jose Maldonado <yukiteruamano@volfread.xyz>"
license="MIT"
homepage="https://github.com/nwg-piotr/nwg-hello"
changelog="https://github.com/nwg-piotr/nwg-hello/releases"
distfiles="https://github.com/nwg-piotr/nwg-hello/archive/refs/tags/v${version}.tar.gz"
checksum=2619e7432a79c5edc10104d301602bb64a6d2feef48ffd9ed0fabe2c2ac6bd2c

post_install() {
	vinstall "${pkgname}-default.json" 644 "/etc/${pkgname}"
	vinstall "${pkgname}-default.css" 644 "/etc/${pkgname}"
	vinstall hyprland.conf 644 "/etc/${pkgname}"
	vinstall sway-config 644 "/etc/${pkgname}"
	vinstall README 644 "/etc/${pkgname}"

	for image in img/*.svg; do
		vinstall ${image} 644 "/usr/share/${pkgname}"
	done

	vinstall nwg.jpg 644 "/usr/share/${pkgname}"
	vinstall cache.json 664 "/var/cache/${pkgname}"
	vinstall README.md 644 "/usr/share/doc/${pkgname}"
	vlicense LICENSE
}
