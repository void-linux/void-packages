# Template file for 'pelican'
pkgname=pelican
version=4.11.0
revision=1
build_style=python3-pep517
hostmakedepends="python3-setuptools python3-wheel python3-pdm-backend"
depends="python3-setuptools python3-feedgenerator python3-Jinja2 python3-Pygments python3-docutils python3-pytz python3-blinker python3-Unidecode python3-six python3-dateutil python3-rich python3-ordered_set python3-watchfiles"
short_desc="Static site generator written in Python"
maintainer="Jason Elswick <jason@jasondavid.us>"
license="AGPL-3.0-or-later"
homepage="https://getpelican.com/"
changelog="https://raw.githubusercontent.com/getpelican/pelican/${version}/docs/changelog.rst"
distfiles="https://github.com/getpelican/pelican/archive/${version}.tar.gz"
distfiles="https://github.com/getpelican/pelican/archive/refs/tags/${version}.tar.gz"
checksum=d18b0a9b2cf0427d05b9b8a955bf7bb1028c9849fb2fa44c562d0fe34b6e3655
make_check=no # fix pytest3 -n error and unpackaged dependencies

case "$XBPS_MACHINE" in
	x86_64*|i686|ppc64le*|ppc64) checkdepends+=" pandoc";;
esac

post_install() {
	vlicense LICENSE
}
