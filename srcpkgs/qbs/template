# Template file for 'qbs'
pkgname=qbs
version=1.12.0
revision=1
build_style=qmake
configure_args="-r qbs.pro"
hostmakedepends="python3-BeautifulSoup4 python3-lxml qt5-script-devel"
makedepends="qt5-devel qt5-script-devel"
short_desc="Modern build tool for software projects"
maintainer="travankor <travankor@tuta.io>"
license="LGPL-2.1-or-later"
homepage="https://github.com/qbs/qbs"
distfiles="https://github.com/qbs/qbs/archive/v${version}.tar.gz"
checksum=0192493623a8970b71ca3b39cb3b1b697dde3674f8708cc9847e25f82bb82de4
nocross="needs more work to get it to cross-compile without MOC.
	Right now builders are x86_64 so this does not matter."

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-qmake"
fi

#basic idea to get it to cross-compile
#do_install() {
#	if [ -z $CROSS_BUILD ]; then
#		unset GCC CC CXX CPP LD AR AS RANLIB
#	fi
#}

post_install() {
	mv ${DESTDIR}/usr/local/* ${DESTDIR}/usr
	rmdir ${DESTDIR}/usr/local
}
