# Template file for 'eiwd'
pkgname=eiwd
version=1.29
revision=1
wrksrc=iwd-${version}
build_style=gnu-configure
configure_args="--disable-dbus --enable-wired --enable-pie"
hostmakedepends="python3-docutils pkg-config"
makedepends="readline-devel"
checkdepends="python3"
short_desc="Internet Wireless Daemon (iwd) without dbus"
maintainer="wael <40663@proton.me>"
license="LGPL-2.1-or-later"
homepage="https://github.com/illiliti/eiwd"
changelog="https://github.com/illiliti/eiwd/blob/master/ChangeLog"
distfiles="https://github.com/illiliti/eiwd/releases/download/${version}-1/iwd-${version}.tar.xz"
checksum=be110cbbc6ecdbf417b11a6c61ae9d6675e668b985854ba6cfc2dab75cf22e64
make_dirs="/var/lib/iwd 0600 root root
 /etc/iwd 755 root root"
conflicts="iwd"
# tests depend on kernel features
make_check=extended

post_install() {
	vsv eiwd
}
