# Template file for 'spicetify-cli'
pkgname=spicetify-cli
version=2.9.9
revision=1
archs="x86_64"
build_style=go
go_import_path=github.com/spicetify/spicetify-cli
go_ldflags=" -X main.version=${version}"
short_desc="Command-line tool to customize Spotify client"
maintainer="wael <40663@protonmail.com>"
license="LGPL-2.1-only"
homepage="https://spicetify.app/"
distfiles="https://github.com/spicetify/$pkgname/archive/refs/tags/v${version}.tar.gz"
checksum=e1489ba8413ccf2006f6c761c0aa91a8b6cc4076f7be1c127a517617ed14d948

do_install() {
	vmkdir usr/lib
	vmkdir usr/bin
	for cp in Themes Extensions CustomApps jsHelper globals.d.ts css-map.json ${GOPATH}/bin/spicetify-cli; do
		vcopy $cp usr/lib/spicetify
	done
	ln -sf /usr/lib/spicetify/spicetify-cli ${DESTDIR}/usr/bin/spicetify
}
