# Template file for 'torcs'
pkgname=torcs
version=1.3.7
revision=1
build_style=gnu-configure
configure_args="--prefix=/usr"
disable_parallel_build=yes
hostmakedepends="pkg-config"
makedepends="freealut-devel libfreeglut-devel libjpeg-turbo-devel libpng-devel
 libvorbis-devel libXrandr-devel plib-devel"
depends="torcs-data"
short_desc="Car racing simulator"
maintainer="Andrew Benson <abenson+void@gmail.com>"
license="GPL-2.0-or-later" 
homepage="http://torcs.sourceforge.net"
distfiles="${SOURCEFORGE_SITE}/project/torcs/all-in-one/${version}/torcs-${version}.tar.bz2"
checksum=8a1bb0862e49a4d715e392630bc6f586ed38177bafaff740a6dfe9769806b84d

do_configure() {
	CPP="$CC -E" ./configure $configure_args
}

post_install() {
	make datainstall DESTDIR=$DESTDIR
}

torcs-data_package() {
	noarch=yes
	short_desc+=" - data files"
	pkg_install() {
		vmove /usr/share/games/torcs
	}
}
