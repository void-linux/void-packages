# Template file for 'typst-lsp'
pkgname=typst-lsp
version=0.5.1
revision=1
build_style=cargo
short_desc="Language server for Typst"
maintainer="classabbyamp <void@placeviolette.net>"
license="Apache-2.0, MIT"
homepage="https://github.com/nvarner/typst-lsp"
distfiles="https://github.com/nvarner/typst-lsp/archive/refs/tags/v${version}.tar.gz"
checksum=99a6143118fb8dc40f7b69a0a4d1b02f4ef9a06e8606f73ff0d5c1100e9e999d

if [ "$XBPS_TARGET_MACHINE" = i686 ]; then
	broken="cargo needs to dynlink libgit2, broken on builders: https://build.voidlinux.org/builders/i686_builder/builds/43240"
fi

post_install() {
	vlicense LICENSE-MIT.txt
}
