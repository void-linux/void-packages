#! /bin/sh

version=10.2

URL_BASE_PR="https://github.com/sagemath/sage/pull/"
URL_BASE_COMPARE="https://github.com/sagemath/sage/compare/${version}..."

case "$1" in
	-n)  DO=echo ;;
esac

# get_pr <PR number> <description> [ext]
get_pr() {
	pr=$1
	desc=$(echo "$2" | sed -e 's/ /_/g')
	ext=${3-diff}
	$DO wget "$URL_BASE_PR$pr.$ext" -O "$pr-$desc.patch"
}

# run from patches dir
cd $(dirname "$0")

# merged in 10.4.beta1
get_pr 37590 "gap 4.13 part 1"
get_pr 37624 "gap 4.13 part 2"

# merged in 10.4.beta2
get_pr 37763 "scipy 1.13"
get_pr 37882 "eclib 20040408"
get_pr 37883 "gap 4.13 part 3"

# merged in 10.4.beta5
get_pr 37492 "singular 4.3.2p16"

# positive review
get_pr 37949 "conway-polynomials 0.10 part 1"
get_pr 37967 "conway-polynomials 0.10 part 2"

# needs review
get_pr 37884 "gap 4.13 part 4"
