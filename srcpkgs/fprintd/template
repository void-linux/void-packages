# Template file for 'fprintd'
pkgname=fprintd
version=1.90.8
revision=1
wrksrc="fprintd-v${version}"
build_style=meson
configure_args="--sysconfdir=/etc/fprintd -Dman=true -Dgtk_doc=false
-Dpam_modules_dir=/usr/lib/security -Dsystemd_system_unit_dir=/not-systemd"
hostmakedepends="meson cmake dbus-glib-devel gettext-devel glib-devel intltool
 pkg-config perl"
makedepends="dbus-devel dbus-glib-devel gettext-devel glib-devel libxslt-devel
 libfprint-devel pam-devel polkit-devel cairo-devel elogind-devel python3-cairo python3-dbus python3-dbusmock"
short_desc="Daemon that provides fingerprint scanning functionality"
maintainer="Enno Boland <gottox@voidlinux.org>"
license="GPL-2.0-or-later"
homepage="https://www.freedesktop.org/wiki/Software/fprint/"
distfiles="https://gitlab.freedesktop.org/libfprint/fprintd/-/archive/v${version}/fprintd-v${version}.tar.bz2"
checksum=7f39777b858142730ac89ffa41c0d2dc1a26a01535291f3f5f9b3adb2d28ffc9

post_patch() {
	vsed -i -e "/^systemd_dep *=/d" meson.build
}

post_install() {
	rm -rf $DESTDIR/not-systemd
}
