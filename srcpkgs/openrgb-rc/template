# Template file for 'openrgb-rc'
pkgname=openrgb-rc
version=1.0rc2
revision=1
build_style=qmake
hostmakedepends="qt5-qmake qt5-host-tools git pkg-config"
makedepends="qt5-devel libusb-devel hidapi-devel mbedtls-devel"
short_desc="Open source RGB lighting control (release candidate)"
maintainer="GIKExe <i.gortolomei@yandex.ru>"
license="GPL-2.0-only"
homepage="https://gitlab.com/CalcProgrammer1/OpenRGB"
distfiles="https://gitlab.com/CalcProgrammer1/OpenRGB/-/archive/release_candidate_${version}/OpenRGB-release_candidate_${version}.tar.gz"
checksum=7ecef99ab1607bd8f47427eef59e060e407dc97a40bb9083c5ade6f30145b762

conflicts="openrgb"

pre_build() {
	sed -i 's|rules.path=/lib|rules.path=/usr/lib|g' OpenRGB.pro
}

post_install() {
	vdoc README.md
	vinstall ${FILESDIR}/openrgb-rc.conf 644 usr/lib/modules-load.d
	vsv openrgb-rc
	vdoc "${FILESDIR}/README.voidlinux"
}
