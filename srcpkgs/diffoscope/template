# Template file for 'diffoscope'
pkgname=diffoscope
version=306
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3-magic python3-libarchive-c python3-progressbar
 python3-argcomplete binwalk python3-defusedxml python3-distro
 python3-jsondiff python3-pypdf python3-pyxattr python3-tlsh
 python3-debian rpm-python3"
checkdepends="${depends} cpio lz4 lzip xz python3-pytest-xdist"
short_desc="In-depth comparison of files, archives, and directories"
maintainer="Piotr WÃ³jcik <chocimier@tlen.pl>"
license="GPL-3.0-or-later"
homepage="https://diffoscope.org/"
changelog="https://salsa.debian.org/reproducible-builds/diffoscope/-/raw/master/debian/changelog"
distfiles="https://diffoscope.org/archive/diffoscope-${version}.tar.bz2"
checksum=62be31ca78d1e4deda2266fc5552ec89413e3a828ea2778351bc3d3bb6fbedbf

python_extras="cmdline distro_detection"

post_install() {
	vcompletion debian/zsh-completion/_diffoscope zsh
}
