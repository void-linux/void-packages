# Template file for 'libindi'
pkgname=libindi
version=1.7.2
revision=1
wrksrc="indi-${version}"
build_wrksrc="${pkgname}"
build_style=cmake
hostmakedepends="pkg-config"
makedepends="cfitsio-devel gsl-devel libcurl-devel libjpeg-turbo-devel
 libnova-devel libtheora-devel libusb-devel"
short_desc="Standard for astronomical instrumentation control"
maintainer="travankor <travankor@tuta.io>"
license="LGPL-2.1-or-later"
homepage="http://www.indilib.org/index.php?title=Main_Page"
distfiles="https://github.com/indilib/indi/archive/v${version}.tar.gz"
checksum=5ec9aea9e8b1a79ea440327c25a7c7cfde6f9145b066e42eaaec3e76f8e37b93

post_install() {
	mv ${DESTDIR}/lib/* ${DESTDIR}/usr/lib/
}

libindi-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/bin
		vmove usr/include
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}