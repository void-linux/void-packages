# Template file for 'libopensmtpd'
pkgname=libopensmtpd
version=0.7
revision=1
hostmakedepends="mdocml"
makedepends="libevent-devel"
short_desc="Library for creating opensmtpd filters"
maintainer="Adam Gausmann <agausmann@fastmail.com>"
license="custom:BSD-like"
homepage="http://imperialat.at/dev/libopensmtpd/"
distfiles="https://distfiles.sigtrap.nl/${pkgname}-${version}.tar.gz"
checksum=cdd6d5e11a7063f9265da43a42309c646554b8b68b03982ca8472dbe2b08a613

libopensmtpd-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
		vmove usr/share/man/man3
	}
}

do_build() {
	make -f Makefile.gnu
}

do_install() {
	make -f Makefile.gnu DESTDIR="$DESTDIR" install
	vlicense LICENSE
}
