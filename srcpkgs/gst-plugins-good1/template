# Template file for 'gst-plugins-good1'
pkgname=gst-plugins-good1
version=1.15.1
revision=1
wrksrc="${pkgname/1/}-${version}"
build_style=gnu-configure
configure_args="--with-gudev --with-libv4l2 --enable-experimental
 --enable-libcaca --disable-libdv --disable-dv1394 --disable-shout2
 --enable-aalib --enable-speex"
# XXX: libdv, dv1394 and shout2 modules.
hostmakedepends="pkg-config intltool python glib-devel"
makedepends="aalib-devel gst-plugins-base1-devel jack-devel lame-devel libXdamage-devel
 libXv-devel libcaca-devel libflac-devel libgudev-devel libpng-devel
 libsoup-gnome-devel libvpx-devel mpg123-devel pulseaudio-devel speex-devel
 taglib-devel twolame-devel v4l-utils-devel wavpack-devel
 $(vopt_if gtk3 gtk+3-devel)"
depends="gst-plugins-base1>=${version}"
short_desc="GStreamer set of well-maintained good plug-ins (1.x)"
maintainer="Juan RP <xtraeme@voidlinux.org>"
license="LGPL-2.1-or-later"
homepage="https://gstreamer.freedesktop.org"
distfiles="${homepage}/src/${pkgname/1/}/${pkgname/1/}-${version}.tar.xz"
checksum=2b9fb4c5514981e4f75aa1af20a34bac72a447885763d03da3d23c7e329dc695

lib32disabled=yes
build_options="gtk3"
build_options_default="gtk3"

pre_configure() {
        sed -e 's,-Werror,-Wno-error,g' -i configure
}
