# Template file for 'OSCAR'
pkgname=OSCAR
version=1.6.1
revision=1
build_style=qmake
configure_args="OSCAR_QT.pro"
hostmakedepends="qt5-tools qt5-qmake qt5-host-tools"
makedepends="glu-devel qt5-serialport-devel qt5-tools-devel eudev-libudev-devel zlib-devel"
short_desc="Open Source CPAP Analysis Reporter"
maintainer="Dominic Monroe <dominic@dominic.io>"
license="GPL-3.0-only"
homepage="https://www.sleepfiles.com/OSCAR/"
distfiles="https://gitlab.com/CrimsonNape/OSCAR-code/-/archive/v${version}/OSCAR-code-v${version}.tar.gz"
checksum=0282f4e8347c3e52911be1809eae8832da64e961cae9c968278a0a6fbceb5d51

do_install() {
	vbin oscar/OSCAR

	vmkdir /usr/share/${pkgname}
	for i in Html Translations; do
		vcopy "oscar/$i" "/usr/share/${pkgname}/$i"
	done

	vinstall Building/Linux/${pkgname}.png 644 "usr/share/icons/hicolor/48x48/apps"
	vinstall Building/Linux/${pkgname}.svg 644 "usr/share/icons/hicolor/scalable/apps"
	vinstall Building/Linux/${pkgname}.desktop 644 "usr/share/applications"
	vinstall Building/Linux/copyright 644 "usr/share/doc/${pkgname}"
}
