# Template file for 'shadowsocks-rust'
pkgname=shadowsocks-rust
version=1.23.5
revision=1
build_style=cargo
hostmakedepends="pkg-config"
makedepends="libzstd-devel"
short_desc="Rust port of shadowsocks, a fast lightweight obfuscated tunnel proxy"
maintainer="JkktBkkt <apkabikov@gmail.com>"
license="MIT"
homepage="https://github.com/shadowsocks/shadowsocks-rust"
changelog="https://github.com/shadowsocks/shadowsocks-rust/releases"
distfiles="https://github.com/shadowsocks/shadowsocks-rust/archive/refs/tags/v${version}.tar.gz"
checksum=edeef2408ae54108fa176b4e59cb04b4ef4dbe62da96d2459d9821b238ad94e8

system_accounts="_shadowsocks"
make_dirs="/etc/shadowsocks-rust 0755 root root"

post_install() {
	vlicense LICENSE
	vsv shadowsocks-rust-server
	vsv shadowsocks-rust-client
	vsconf examples/config.json
	vsconf examples/config_ext.json
}
