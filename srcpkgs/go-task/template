# Template file for 'go-task'
pkgname=go-task
version=3.44.1
revision=1
build_style=go
go_import_path=github.com/go-task/task/v3
go_package=github.com/go-task/task/v3/cmd/task
go_ldflags="-X ${go_import_path}/internal/version.version=${version}"
short_desc="Task runner / build tool that aims to be simple and easy"
maintainer="Otavio Pliger <void@pliger.dev>"
license="MIT"
homepage="https://github.com/go-task/task"
distfiles="https://github.com/go-task/task/archive/v${version}.tar.gz"
checksum=d395eb802cca3f3f4b90e4bf504b6bc01f676f466d0bfb9e5045457bc085f516

pre_check() {
	export CGO_ENABLED=0
}

post_install() {
	vlicense LICENSE
	vcompletion completion/bash/task.bash bash
	vcompletion completion/fish/task.fish fish
	vcompletion completion/zsh/_task zsh

	mv "${DESTDIR}/usr/bin/task" "${DESTDIR}/usr/bin/go-task"
}
