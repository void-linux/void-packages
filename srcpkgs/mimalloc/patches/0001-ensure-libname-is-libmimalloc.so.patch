From ecd4245b0284056989cdb60b514159a99e5e2096 Mon Sep 17 00:00:00 2001
From: Andy Weidenbaum <atweiden@ioiojo.com>
Date: Fri, 5 Sep 2025 02:38:24 +0000
Subject: [PATCH] ensure libname is libmimalloc.so

regardless of whether mimalloc built as secure or not
---
 CMakeLists.txt | 9 ---------
 1 file changed, 9 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 5ce084f6..88aa5fd7 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -522,15 +522,6 @@ else()
 endif()
 
 set(mi_libname "mimalloc")
-if(MI_SECURE)
-  set(mi_libname "${mi_libname}-secure")
-endif()
-if(MI_TRACK_VALGRIND)
-  set(mi_libname "${mi_libname}-valgrind")
-endif()
-if(MI_TRACK_ASAN)
-  set(mi_libname "${mi_libname}-asan")
-endif()
 string(TOLOWER "${CMAKE_BUILD_TYPE}" CMAKE_BUILD_TYPE_LC)
 list(APPEND mi_defines "MI_CMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE_LC}")  #todo: multi-config project needs $<CONFIG> ?
 if(CMAKE_BUILD_TYPE_LC MATCHES "^(release|relwithdebinfo|minsizerel|none)$")
-- 
2.51.0

