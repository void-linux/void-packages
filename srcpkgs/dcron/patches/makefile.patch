From 13624a38e198221dd5f9396c8f522f85a3797790 Mon Sep 17 00:00:00 2001
From: fkobi <fkobi@pm.me>
Date: Thu, 9 Jan 2025 22:24:56 +0000
Subject: [PATCH 1/4] Makefile: update version

Closes: https://github.com/ptchinster/dcron/issues/4
---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 547febc..0b9e746 100644
--- a/Makefile
+++ b/Makefile
@@ -1,5 +1,5 @@
 # Makefile for Dillon's crond and crontab
-VERSION = 4.5
+VERSION = 4.6
 
 # these variables can be configured by e.g. `make SCRONTABS=/different/path`
 PREFIX = /usr/local
-- 
2.51.0

From a4310a4fe9aef53f0d8395fef12894d91d536d4a Mon Sep 17 00:00:00 2001
From: ptc <ptchinster@gmail.com>
Date: Tue, 18 Mar 2025 13:50:55 -0600
Subject: [PATCH 2/4] fixed typo in Makefile

---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 0b9e746..b6516a9 100644
--- a/Makefile
+++ b/Makefile
@@ -59,7 +59,7 @@ crond: $(OBJS)
 	$(CC) $(CFLAGS) $(LDFLAGS) $^ $(LIBS) -o crond
 
 crontab: $(TABOBJS)
-	$(CC) $(CLFAGS) $(LDFLAGS) $^ -o crontab
+	$(CC) $(CFLAGS) $(LDFLAGS) $^ -o crontab
 
 %.o: %.c defs.h $(PROTOS)
 	$(CC) $(CFLAGS) $(CPPFLAGS) -c $(DEFS) $< -o $@
-- 
2.51.0

From 79e11eba74da3251b3f3c3566267d392cb366ecf Mon Sep 17 00:00:00 2001
From: ptc <ptchinster@gmail.com>
Date: Tue, 18 Mar 2025 13:53:37 -0600
Subject: [PATCH 3/4] fixed clearing out LDFLAGS

---
 Makefile | 1 -
 1 file changed, 1 deletion(-)

diff --git a/Makefile b/Makefile
index b6516a9..47269da 100644
--- a/Makefile
+++ b/Makefile
@@ -34,7 +34,6 @@ TABSRCS = crontab.c chuser.c
 TABOBJS = crontab.o chuser.o
 PROTOS = protos.h
 LIBS =
-LDFLAGS =
 DEFS =  -DVERSION='"$(VERSION)"' \
 		-DSCRONTABS='"$(SCRONTABS)"' -DCRONTABS='"$(CRONTABS)"' \
 		-DCRONSTAMPS='"$(CRONSTAMPS)"' -DLOG_IDENT='"$(LOG_IDENT)"' \
-- 
2.51.0

From 5dbcca7a6aa1e7c9dbafc554e4411a178bc4d14c Mon Sep 17 00:00:00 2001
From: Roberto Ricci <io@r-ricci.it>
Date: Wed, 10 Sep 2025 19:13:40 +0200
Subject: [PATCH 4/4] Makefile: obtain PREFIX from environment

---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index 47269da..f1c59fe 100644
--- a/Makefile
+++ b/Makefile
@@ -2,7 +2,7 @@
 VERSION = 4.6
 
 # these variables can be configured by e.g. `make SCRONTABS=/different/path`
-PREFIX = /usr/local
+PREFIX ?= /usr/local
 CRONTAB_GROUP = wheel
 SCRONTABS = /etc/cron.d
 CRONTABS = /var/spool/cron/crontabs
-- 
2.51.0

