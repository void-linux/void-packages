# Template file for 'hoogle'
pkgname=hoogle
version=5.0.18.4
revision=1
build_style=haskell-stack
stackage="lts-23.26"
makedepends="zlib-devel"
short_desc="Haskell API search engine"
maintainer="Inokentiy Babushkin <twk@twki.de>"
license="BSD-3-Clause"
homepage="https://hoogle.haskell.org/"
distfiles="https://github.com/ndmitchell/${pkgname}/archive/v${version}.tar.gz
 https://hackage.haskell.org/package/basement-0.0.16/basement-0.0.16.tar.gz
 https://hackage.haskell.org/package/memory-0.18.0/memory-0.18.0.tar.gz
 https://hackage.haskell.org/package/cborg-0.2.10.0/cborg-0.2.10.0.tar.gz"
checksum="f42e1da527d3217e1adbb82c9611b945341b76b1fc85f47f9c04d711c73baf95
 7fb77e249aef76ba5aed3059d556800ce02b614597c488ba01f0a16449146300
 fd4eb6f638e24b81b4e6cdd68772a531726f2f67686c8969d3407d82f7862e3e
 17fe070c38fc498cab49bcb9d6215b7747d53bedf96502e9bcce9cad73b9c797"
nopie_files="/usr/bin/hoogle"
nocross=yes # Can't yet cross compile Haskell
skip_extraction="basement-0.0.16.tar.gz memory-0.18.0.tar.gz cborg-0.2.10.0.tar.gz"

post_extract() {
	vsrcextract -C basement basement-0.0.16.tar.gz
	vsrcextract -C memory memory-0.18.0.tar.gz
	vsrcextract -C cborg cborg-0.2.10.0.tar.gz
}

post_install() {
	vlicense LICENSE
}
