# Template file for 'pixi'
pkgname=pixi
version=0.62.2
revision=1
build_style=cargo
make_install_args="--path crates/pixi"
hostmakedepends="cargo-auditable cmake nushell pkg-config"
makedepends="libzstd-devel"
short_desc="A cross-platform, multi-language package manager and workflow tool build on the shoulders of the conda ecosystem"
maintainer="UENO, M. <eunosium-1128@live.jp>"
license="BSD-3-Clause"
homepage="https://github.com/prefix-dev/pixi"
changelog="https://github.com/prefix-dev/pixi/blob/v${version}/CHANGELOG.md"
distfiles="https://github.com/prefix-dev/pixi/archive/refs/tags/v${version}.tar.gz"
checksum=dba8db9c836a3bf3c6054588f4334150fe3bb7b4960c778e76f4001a18fa8e2f

post_install() {
	vlicense LICENSE

	for shell in bash fish zsh; do
		${DESTDIR}/usr/bin/pixi completion -s ${shell} > pixi.${shell}
		vcompletion pixi.${shell} ${shell}
	done
}
