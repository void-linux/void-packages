# Template file for 'molecule'
pkgname=molecule
version=3.6.1
revision=1
build_style=python3-pep517
make_check_args="--deselect src/molecule/test/functional/test_command.py::test_command_check
 --deselect src/molecule/test/functional/test_command.py::test_command_cleanup
 --deselect src/molecule/test/functional/test_command.py::test_command_converge
 --deselect src/molecule/test/functional/test_command.py::test_command_create
 --deselect src/molecule/test/functional/test_command.py::test_command_destroy
 --deselect src/molecule/test/functional/test_command.py::test_command_idempotence
 --deselect src/molecule/test/functional/test_command.py::test_command_lint
 --deselect src/molecule/test/functional/test_command.py::test_command_list_with_format_plain
 --deselect src/molecule/test/functional/test_command.py::test_command_prepare
 --deselect src/molecule/test/functional/test_command.py::test_command_side_effect
 --deselect src/molecule/test/functional/test_command.py::test_command_syntax
 --deselect src/molecule/test/functional/test_command.py::test_command_test
 --deselect src/molecule/test/functional/test_command.py::test_command_verify
 --deselect src/molecule/test/unit/test_api.py::test_cli_mol
 --deselect src/molecule/test/unit/command/test_base.py::test_command_completion
 --deselect src/molecule/test/unit/command/test_base.py::test_command_completion
 --deselect src/molecule/test/unit/command/test_base.py::test_command_completion
 --deselect src/molecule/test/functional/test_command.py::test_command_check
 --deselect src/molecule/test/functional/test_command.py::test_command_cleanup
 --deselect src/molecule/test/functional/test_command.py::test_command_converge
 --deselect src/molecule/test/functional/test_command.py::test_command_create
 --deselect src/molecule/test/functional/test_command.py::test_command_destroy
 --deselect src/molecule/test/functional/test_command.py::test_command_idempotence
 --deselect src/molecule/test/functional/test_command.py::test_command_lint
 --deselect src/molecule/test/functional/test_command.py::test_command_prepare
 --deselect src/molecule/test/functional/test_command.py::test_command_side_effect
 --deselect src/molecule/test/functional/test_command.py::test_command_syntax
 --deselect src/molecule/test/functional/test_command.py::test_command_test
 --deselect src/molecule/test/functional/test_command.py::test_command_verify"
hostmakedepends="python3-wheel python3-toml"
depends="python3-ansible-compat python3-Cerberus python3-click
 python3-click-help-colors cookiecutter python3-enrich python3-Jinja2
 python3-packaging python3-pluggy python3-yaml python3-rich ansible-core
 python3-yamllint"
checkdepends="${depends} python3-ansi2html python3-coverage python3-filelock
 python3-pexpect python3-pytest python3-pytest-cov python3-pytest-html
 python3-pytest-mock python3-pytest-plus python3-pytest-testinfra
 python3-pytest-xdist"
short_desc="Development and testing helper for ansible"
maintainer="Jan Christian Gr√ºnhage <jan.christian@gruenhage.xyz>"
license="MIT"
homepage="https://github.com/ansible-community/molecule"
distfiles="${PYPI_SITE}/m/molecule/molecule-${version}.tar.gz"
checksum=3b7d5ba2978c15a034df8c7aa59dec5436f7d3260d1f9db2c78ae14ae3a9deeb

post_patch() {
	vsed -e "/name =/a version = ${version}" -e "/use_scm_version/d" -i setup.cfg
}

post_install() {
	vlicense LICENSE
}
