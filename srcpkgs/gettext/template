# Template build file for 'gettext'.
pkgname=gettext
version=0.18.1.1
revision=4
distfiles="http://ftp.gnu.org/pub/gnu/$pkgname/$pkgname-$version.tar.gz"
build_style=gnu-configure
configure_args="--disable-java --disable-native-java --disable-csharp
--disable-libasprintf --enable-threads=posix --disable-rpath
--disable-acl --with-included-glib --with-included-libcroco
--with-included-libxml --without-included-regex --without-emacs"
makedepends="ncurses-devel libgomp-devel"
short_desc="Internationalized Message Handling Library and tools"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=93ac71a7afa5b70c1b1032516663658c51e653087f42a3fc8044752c026443e9
long_desc="
 GNU gettext provides the necessary tools and libraries for handling
 messages in different languages, as one of the steps to
 internationalisation (or i18n) of a utility."

subpackages="$pkgname-devel $pkgname-libs"

post_configure() {
	# Disable ACL.
	sed -i 's@#define.*_ACL.*@/*&*/@g' ${wrksrc}/gettext-tools/config.h
	for f in $(find ${wrksrc} -name Makefile); do
		sed -i 's@-lacl@@g' ${f}
	done
}
