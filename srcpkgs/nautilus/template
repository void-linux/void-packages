# Template file for 'nautilus'
pkgname=nautilus
version=2.32.1
distfiles="${GNOME_SITE}/$pkgname/2.32/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--localstatedir=/var --disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas --disable-update-mimedb"
short_desc="The GNOME shell and file manager"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=3d7291682ed0cdfe95f5faf80104528f0affb26330007f08dd7a41d7e21b0349
long_desc="
 Nautilus is the official file manager for the GNOME desktop. It is
 designed to be primarly a file manager, but there is support for web and
 file viewing too."

triggers="mimedb"
gtk_iconcache_dirs="/usr/share/icons/hicolor"
gconf_schemas="apps_nautilus_preferences.schemas"
subpackages="gir-$pkgname $pkgname-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run atk
Add_dependency run pango
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run libXrender
Add_dependency run libXext
Add_dependency run libpng
Add_dependency run gdk-pixbuf
Add_dependency run gtk+
Add_dependency run startup-notification
Add_dependency run libunique
Add_dependency run dbus-glib
Add_dependency run dbus-libs
Add_dependency run libxml2
Add_dependency run libX11
Add_dependency run libexif
Add_dependency run exempi
Add_dependency run GConf
Add_dependency run gnome-desktop

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build glib-devel
Add_dependency build atk-devel
Add_dependency build pango-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build libSM-devel
Add_dependency build libICE-devel
Add_dependency build libXrender-devel
Add_dependency build libXext-devel
Add_dependency build gtk+-devel
Add_dependency build startup-notification-devel
Add_dependency build libunique-devel
Add_dependency build dbus-glib-devel
Add_dependency build dbus-devel
Add_dependency build libxml2-devel
Add_dependency build libX11-devel
Add_dependency build libexif-devel
Add_dependency build exempi-devel
Add_dependency build GConf-devel
Add_dependency build gnome-desktop-devel
Add_dependency build diffutils
Add_dependency build gobject-introspection

Add_dependency full gvfs
Add_dependency full hicolor-icon-theme
Add_dependency full desktop-file-utils

pre_configure()
{
	# Use cmp(1) from diffutils.
	export PATH="/usr/bin:$PATH"
}
