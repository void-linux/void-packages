# Template file for 'dhcpcd'
pkgname=dhcpcd
reverts="8.1.1_1"
version=8.0.6
revision=2
build_style=configure
make_check_target=test
configure_args="--prefix=/usr --sbindir=/usr/bin --sysconfdir=/etc --rundir=/run"
hostmakedepends="ntp pkg-config"
makedepends="eudev-libudev-devel"
short_desc="RFC2131 compliant DHCP client"
maintainer="Enno Boland <gottox@voidlinux.org>"
license="BSD-2-Clause"
homepage="https://roy.marples.name/projects/dhcpcd"
distfiles="https://roy.marples.name/downloads/dhcpcd/dhcpcd-${version}.tar.xz"
checksum=66b50199ed83bf502af3fab9ac001b417f0fac7e69c92d97a9c41499cebabd4f
lib32disabled=yes
conf_files=/etc/dhcpcd.conf

post_install() {
	vsv dhcpcd
	vsv dhcpcd-eth0

	# Enable controlgroup by default, to make dhcpcd-ui work.
	vsed -e 's,^#\(controlgroup.*\),\1,' -i ${DESTDIR}/etc/dhcpcd.conf

	# License
	vlicense LICENSE
}
