# Template file for 'iridium-browser'
pkgname=iridium-browser
version=2019.04.73
revision=1
archs="x86_64"
build_style=fetch
hostmakedepends="bison clang gperf libatomic-devel libevent-devel libglib-devel ninja python"
makedepends="alsa-lib-devel at-spi2-atk-devel at-spi2-core-devel atk-devel cups-devel elfutils-devel eudev-libudev-devel expat-devel ffmpeg-devel fontconfig-devel freetype-devel GConf-devel gdk-pixbuf-devel glibc gtk+-devel gtk+3-devel harfbuzz-devel icu-devel json-c-devel jsoncpp-devel libcap-devel libdbus-c++-devel libdrm-devel libevent-devel libexif-devel libffi-devel libflac-devel libgcc-devel libgcrypt-devel libgnome-keyring-devel libjpeg-turbo-devel libmtp-devel libpng-devel libressl-devel libsrtp-devel libstdc++-devel libva-devel libwebp-devel libX11-devel libxcb-devel libXcomposite-devel libXcursor-devel libXdamage-devel libXext-devel libXfixes-devel libXi-devel libxkbcommon-devel libxml2-devel libXrandr-devel libXrender-devel libXScrnSaver-devel libxslt-devel libXtst-devel minizip-devel mit-krb5-devel nspr-devel nss-devel opus-devel pango-devel pciutils-devel plib-devel protobuf protobuf-devel pulseaudio-devel re2-devel snappy-devel speech-dispatcher-devel speex-devel xss-lock zlib-devel"
depends="desktop-file-utils hicolor-icon-theme libexif xdg-utils"
short_desc="Chromium based web browser with a focus on privacy"
maintainer="Austin R <austin.riddell@tutanota.com>"
license="BSD-3-Clause"
homepage="https://iridiumbrowser.de/"
distfiles="https://downloads.iridiumbrowser.de/deb/pool/main/i/iridium-browser/${pkgname}_${version}-1iridium0_amd64.deb"
checksum=12c64bec477ffe5b998994bcd7f1078abff3691edc1c25cd4792e0e59b78ba90

do_extract() {
	ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/${pkgname}_${version}-1iridium0_amd64.deb
	tar xf data.tar.xz
}

do_install() {
	vcopy etc /
	vcopy usr /
}

post_install() {
	vlicense LICENSE
	vlicense LICENSE.BSD
}
