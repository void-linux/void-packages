# Template file for 'qalculate-gtk'
# NOTE: keep this package synchronized with 'libqalculate' and 'qalculate-qt'
pkgname=qalculate-gtk
version=5.8.1
revision=1
build_style=gnu-configure
hostmakedepends="gettext pkg-config glib-devel"
makedepends="libqalculate-devel gtk+3-devel"
depends="gnuplot"
short_desc="Multi-purpose desktop calculator - GTK+ version"
maintainer="yosh <yosh-git@riseup.net>"
license="GPL-2.0-or-later"
homepage="https://qalculate.github.io"
changelog="https://qalculate.github.io/news.html"
distfiles="https://github.com/Qalculate/qalculate-gtk/releases/download/v${version}/qalculate-gtk-${version}.tar.gz"
checksum=6e4ae008f10a46a6bd91adc68dacca33fabaee10cbd96481a367fee588d5f4f6

pre_patch() {
	sed -i -e 's/<_/</;s;</_;</;' data/*.xml.in
	(
	cd po
	printf '%s\n' *.po | sed 's/[.]po//' >LINGUAS
	)
}
