# Template file for 'msmtp'
pkgname=msmtp
version=1.8.2
revision=2
build_style=gnu-configure
configure_args="--with-tls=$(vopt_if gnutls gnutls openssl) $(vopt_with idn libidn)
 $(vopt_with sasl libgsasl) $(vopt_with gnome libsecret)"
hostmakedepends="pkg-config"
makedepends="$(vopt_if idn libidn-devel)
 $(vopt_if sasl gsasl-devel)
 $(vopt_if gnome libsecret-devel)
 $(vopt_if ssl libressl-devel)
 $(vopt_if gnutls gnutls-devel)"
short_desc="Mini SMTP client"
maintainer="Juan RP <xtraeme@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://marlam.de/msmtp/"
distfiles="https://marlam.de/msmtp/releases/msmtp-${version}.tar.xz"
checksum=d1185c1969ed00d0e2c57dbcd5eb09a9f82156042b21309d558f761978a58793

build_options="idn sasl gnome gnutls ssl"
build_options_default="idn ssl"

post_install() {
	vsconf doc/msmtprc-system.example
	vsconf doc/msmtprc-user.example
}
