# Template file for 'python3-ansi2html'
pkgname=python3-ansi2html
version=1.7.0
revision=1
wrksrc="${pkgname/python3-/}-${version}"
build_style=python3-pep517
make_check_args="--deselect tests/test_ansi2html.py::TestAnsi2HTML::test_command_script"
hostmakedepends="python3-setuptools python3-wheel"
depends="python3-importlib_metadata"
checkdepends="${depends} python3-pytest python3-pytest-cov python3-mock"
short_desc="Convert text with ansi color codes to HTML"
maintainer="Jan Christian Gr√ºnhage <jan.christian@gruenhage.xyz>"
license="LGPL-3.0-or-later"
homepage="https://github.com/pycontribs/ansi2html"
changelog="https://github.com/pycontribs/ansi2html/raw/main/CHANGELOG.rst"
distfiles="${PYPI_SITE}/a/${pkgname/python3-/}/${pkgname/python3-/}-${version}.tar.gz"
checksum=69316be8c68ac91c5582d397c2890e69c993cc7cda52062ac7e45fcb660d8edc

post_patch() {
	vsed -e "/name =/a version = ${version}" -e "/use_scm_version/d" -i setup.cfg
}
