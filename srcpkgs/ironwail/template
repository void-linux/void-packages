# Template file for 'ironwail'
pkgname=ironwail
version=0.7.0
revision=1
build_wrksrc="Quake"
build_style=gnu-makefile
make_build_args="DO_USERDIRS=1 USE_SDL2=1"
make_use_env=yes
makedepends="SDL2-devel libmad-devel pkg-config libcurl-devel"
short_desc="High-performance QuakeSpasm fork"
maintainer="Ananteris <ananteris@protonmail.ch>"
license="GPL-2.0-or-later"
homepage="https://github.com/andrei-drexler/ironwail"
distfiles="https://github.com/andrei-drexler/ironwail/archive/refs/tags/v${version}.tar.gz"
checksum=3411b4c30416ab219641826688b29fc46c690c92f0ecac1fe049d8777ddd3a95

case "$XBPS_TARGET_MACHINE" in
	arm*) makedepends+=" MesaLib-devel"
esac

do_install() {
	vbin ironwail
	vinstall ../Misc/QuakeSpasm_512.png 644 usr/share/pixmaps ironwail.png
}
