# Template file for 'apr-util'
pkgname=apr-util
version=1.3.12
revision=4
build_style=gnu-configure
configure_args="--with-pgsql --with-mysql --with-sqlite3 --with-ldap
--with-berkeley-db --with-gdbm --with-apr=/usr --without-odbc
--with-expat=/usr --without-oracle"
makedepends="apr-devel db-devel expat-devel gdbm-devel libldap-devel
 libmysqlclient-devel libuuid-devel openssl-devel postgresql-libs-devel
 sqlite-devel zlib-devel"
short_desc="The Apache Portable Runtime Utility Library"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://apr.apache.org/"
license="Apache-2.0"
distfiles="http://www.apache.org/dist/apr/${pkgname}-${version}.tar.bz2"
checksum=93976dc2f40d8622c4e9c355f419bb20f2c0dd843ee21a295a092d1c1b950d9c
long_desc="
 APR is Apache's Portable Runtime Library, designed to be a support library
 that provides a predictable and consistent interface to underlying
 platform-specific implementations.
 
 APR Util is a utilities library implemented on top of APR, providing database
 access, xml parsing, and other useful functionality." 

# XXX: add freetds and unixodbc modules.
subpackages="${pkgname}-db ${pkgname}-gdbm ${pkgname}-sqlite ${pkgname}-mysql
 ${pkgname}-pgsql ${pkgname}-ldap ${pkgname}-devel"

post_install() {
	# remove static libs
	find ${DESTDIR} -type f -name \*.a -delete
}
