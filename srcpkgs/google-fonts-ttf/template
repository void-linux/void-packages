# Template file for 'google-fonts-ttf'
pkgname=google-fonts-ttf
version=20251218
revision=1
_githash=0bd2d5599819aa0774f5ca64c8ac3f54ae3fd54f
# Those fonts were provided by google-fonts-ttf
depends="font-util cantarell-fonts noto-fonts-ttf noto-fonts-emoji
 amiri-font fonts-croscore-ttf font-b612 font-fira-ttf
 font-ibm-plex-ttf font-manjari font-material-design-icons-ttf
 ttf-opensans font-source-sans-3 font-sil-annapurna font-inter
 font-sil-alkalami font-sil-tai-heritage-pro font-sil-namdhinggo
 font-sil-charis font-sil-padauk font-sil-abyssinica font-sil-mingzat
 font-sil-harmattan font-libre-hebrew font-alef font-reem-kufi-ttf
 font-crosextra-caladea-ttf font-adobe-source-code-pro
 fonts-roboto-ttf font-vollkorn-ttf ttf-ubuntu-font-family
 font-atkinson-hyperlegible-ttf font-atkinson-hyperlegible-otf
 font-atkinson-hyperlegible-web"
short_desc="Google's Collection of Fonts"
maintainer="Orphaned <orphan@voidlinux.org>"
license="Apache-2.0, OFL-1.1"
homepage="https://fonts.google.com/"
distfiles="https://github.com/google/fonts/archive/${_githash}.tar.gz"
checksum=d07e0aa7a1ce5445faaf4b5b668ff4e6316aec9225a9bf6a33d3d221123582dc
font_dirs="/usr/share/fonts/TTF"
provides="font:serif-0_1 font:sans-serif-0_1 font:monospace-0_1"

post_extract() {
	# https://github.com/google/fonts/issues/2106#issuecomment-520067314
	rm -r ofl/adobeblank
	xargs rm -r <"$FILESDIR/dup.lst"
	# ttf-ubuntu-font-family
	rm -r ufl
	# noto-fonts-ttf
	rm -r ofl/noto*
}

do_install() {
	vmkdir usr/share/fonts/TTF
	find apache ofl \
		-type f -name '*.ttf' -exec \
		install -Dm644 '{}' ${DESTDIR}/usr/share/fonts/TTF \;
}
