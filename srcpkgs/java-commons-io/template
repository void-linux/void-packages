# Template file for 'java-commons-io'
_origname=commons-io
pkgname=java-commons-io
version=2.11.0
revision=1
wrksrc="${_origname}-${version}-src"
hostmakedepends="openjdk8 apache-maven which"
depends="virtual?java-runtime"
short_desc="IO related classes for Java"
maintainer="Orphaned <orphan@voidlinux.org>"
license="Apache-2.0"
homepage="http://commons.apache.org/io"
distfiles="http://archive.apache.org/dist/commons/io/source/${_origname}-${version}-src.tar.gz"
checksum=5a55361cf2b97228f94b3c65e3a4af784581debe322be551c44b2776db1c6483

case "$XBPS_MACHINE" in
	ppc64*) ;;
	ppc*|arm*) broken="jar creation runs out of memory with zero";;
esac

do_build() {
	source /etc/profile.d/10_openjdk8.sh
	mvn package -Dmaven.test.skip=true
}

do_check() {
	mvn test
}

do_install() {
	vinstall target/${_origname}-${version}.jar 755 \
		usr/share/java/${_origname} ${_origname}.jar
}
