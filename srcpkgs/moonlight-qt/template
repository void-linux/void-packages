# Template file for 'moonlight-qt'
pkgname=moonlight-qt
version=6.1.0
revision=1
build_style=qmake
hostmakedepends="qt6-base pkg-config"
makedepends="SDL2_ttf-devel ffmpeg6-devel qt6-declarative-devel qt6-svg-devel
 $(vopt_if vaapi libva-devel) $(vopt_if vdpau libvdpau-devel)
 $(vopt_if nvcodec nv-codec-headers)"
short_desc="GameStream client for PCs"
maintainer="chrysos349 <chrysostom349@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://moonlight-stream.org/"
changelog="https://github.com/moonlight-stream/moonlight-qt/releases"
distfiles="https://github.com/moonlight-stream/moonlight-qt/releases/download/v$version/MoonlightSrc-$version.tar.gz"
checksum=696cc470a62e2f2e9b77739d400b389e7578c9510383c08614007c92be49d5b0

build_options="vaapi vdpau nvcodec"

case "$XBPS_TARGET_MACHINE" in
	i686*|x86_64*)
		build_options_default+=" nvcodec vaapi vdpau"
		;;
esac
