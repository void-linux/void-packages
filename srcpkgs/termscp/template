# Template file for 'termscp'
pkgname=termscp
version=0.16.1
revision=1
build_style=cargo
make_check_args="--
 --skip system::keys::keyringstorage::tests::test_system_keys_keyringstorage
 --skip host::tests::test_host_localhost_open_read_err_not_accessible
 --skip host::tests::test_host_localhost_open_write_err"
hostmakedepends="pkg-config"
makedepends="dbus-devel openssl-devel samba-devel"
short_desc="Feature rich terminal UI file transfer and explorer"
maintainer="chrysos349 <chrysostom349@gmail.com>"
license="MIT"
homepage="https://github.com/veeso/termscp"
changelog="https://raw.githubusercontent.com/veeso/termscp/main/CHANGELOG.md"
distfiles="https://github.com/veeso/termscp/archive/v${version}.tar.gz"
checksum=318673db7d4c8b580f8f6a2b4e305fed3e7afc151217be5e16cf1a8f33fc2af4

if [ "$XBPS_TARGET_WORDSIZE" = "32" ]; then
	broken="not supported"
fi

post_patch() {
	cargo generate-lockfile
}

post_install() {
	vlicense LICENSE
}
