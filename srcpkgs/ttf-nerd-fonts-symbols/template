# Template file for 'ttf-nerd-fonts-symbols'
pkgname=ttf-nerd-fonts-symbols
version=3.0.2
revision=1
short_desc="High number of extra glyphs from popular 'iconic fonts'"
maintainer="chrysos349 <chrysostom349@gmail.com>"
license="MIT"
homepage="https://github.com/ryanoasis/nerd-fonts"
_url="https://raw.githubusercontent.com/ryanoasis/nerd-fonts/v${version}"
distfiles="${_url}/patched-fonts/NerdFontsSymbolsOnly/SymbolsNerdFont-Regular.ttf
 ${_url}/patched-fonts/NerdFontsSymbolsOnly/SymbolsNerdFontMono-Regular.ttf
 ${_url}/10-nerd-font-symbols.conf
 ${_url}/LICENSE"
checksum="adc6d3e4a7cd6ac90eb5355d9a75f4f3078d9516eb1d35b1b4c640cac15264c8
 14ece2cc91d5a4762ab3e7b76a19a489a1be9f0ec9e13dfadd81cd49fe6a1ad7
 8bea9c77f30dfde59f91ca1c4d860a3bf8b228b9e6f9f71afd1701d902e9cce7
 1f6ad4edae6479aaace3112ede5279a23284ae54b2a34db66357aef5f64df160"
font_dirs="/usr/share/fonts/TTF"

do_extract() {
	cp ${XBPS_SRCDISTDIR}/${pkgname}-${version}/* \
		${XBPS_BUILDDIR}/${pkgname}-${version}
}

do_install() {
	vmkdir usr/share/fonts/TTF
	install -m644 *.ttf ${DESTDIR}/usr/share/fonts/TTF

	vmkdir usr/share/fontconfig/conf.avail
	install -m644 *.conf ${DESTDIR}/usr/share/fontconfig/conf.avail

	vmkdir etc/fonts/conf.d
	ln -sf /usr/share/fontconfig/conf.avail/10-nerd-font-symbols.conf \
		${DESTDIR}/etc/fonts/conf.d/

	vlicense LICENSE
}

nerd-fonts_package() {
	build_style=meta
	depends=${sourcepkg}>=${version}_${revision}
	short_desc+=" (transitional dummy package)"
}

nerd-fonts-otf_package() {
	build_style=meta
	depends=${sourcepkg}>=${version}_${revision}
	short_desc+=" (transitional dummy package)"
}

nerd-fonts-ttf_package() {
	build_style=meta
	depends=${sourcepkg}>=${version}_${revision}
	short_desc+=" (transitional dummy package)"
}
