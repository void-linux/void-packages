# Template file for 'pulumi'
pkgname=pulumi
version=3.46.1
revision=1
hostmakedepends="git make go yarn nodejs"
short_desc="Universal Infrastructure as Code"
maintainer="Wes Roberts <takq@a.zinc.email>"
license="Apache-2.0"
homepage="https://www.pulumi.com/"
changelog="https://github.com/pulumi/pulumi/releases"
distfiles="https://github.com/pulumi/pulumi/archive/v${version}.tar.gz"
checksum=fd55b1dd66ade7344f4185bb77a028c3def38a16cf24bf46eb7c007e1f979235
nopie=yes
python_version=3

# Non-standard go package
do_install() {
	mkdir gopath
	export GOPATH="$(pwd)/gopath"
	make dist
	for f in ${GOPATH}/bin/*; do
		if [ -f "$f" ] && [ -x "$f" ]; then
			vbin "$f"
		fi
	done
}
