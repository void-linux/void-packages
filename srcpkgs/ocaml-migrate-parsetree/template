# Template file for 'ocaml-migrate-parsetree'
pkgname=ocaml-migrate-parsetree
version=1.0.11
revision=1
hostmakedepends="ocaml dune ocamlbuild ocaml-result"
depends="ocaml-result"
short_desc="Convert OCaml parsetrees between different major versions"
maintainer="John Zimmermann <johnz@posteo.net>"
license="LGPL-2.1-or-later"
homepage="https://github.com/ocaml-ppx/ocaml-migrate-parsetree"
distfiles="https://github.com/ocaml-ppx/ocaml-migrate-parsetree/archive/v${version}.tar.gz"
checksum=b80117e657186a6ed19c6d53712f2e322cc5ecfa5d8d2bb6a606ee1e46d7d4b6
nocross=yes

do_build() {
	jbuilder build
}

do_install() {
	vmkdir $(ocamlfind printconf destdir)
	jbuilder install --prefix "${DESTDIR}/usr" --libdir "${DESTDIR}$(ocamlfind printconf destdir)"

	mv ${DESTDIR}/usr/{doc,share/}
}
