# Template file for 'python3-telegram'
pkgname=python3-telegram
version=0.19.0
revision=1
build_style=python3-pep517
hostmakedepends="python3-setuptools_scm python3-wheel"
depends="libtd python3-telegram_text python3-setuptools"
checkdepends="python3-pytest $depends"
short_desc="Python library for building Telegram clients"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/alexander-akhmetov/python-telegram"
distfiles="${PYPI_SITE}/p/python-telegram/python_telegram-${version}.tar.gz"
checksum=7b5b2da3d01d4cf5776c92f91fdd35a0f98976eec2356726b338f59ba01d1373

post_extract() {
	# mocked_resource.assert_called_once_with('telegram', 'lib/linux/libtdjson.so')
	# AssertionError: Expected 'mock' to be called once. Called 0 times.
	rm tests/test_tdjson.py
	# remove precompiled libs
	rm -r telegram/lib
}

post_install() {
	vlicense LICENSE
}
