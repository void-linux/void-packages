# Template file for 'clearine'
pkgname=clearine
version=0.6
revision=1
archs=noarch
build_style=gnu-makefile
depends="gtk+3 python3-gobject"
short_desc="GTK3-based logout-window overlay for independent windowmanager"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/yuune/clearine"
distfiles="https://github.com/yuune/clearine/archive/${version}.tar.gz"
checksum=4bade8f8352b40e03fd612aac880876b474b44063b5a67bf23d701553436eaa1
conf_files="/etc/clearine.conf"

do_build() {
	vsed -i data/clearine.conf \
		 -e "s;^\(restart =\) .*;\1 reboot;" \
		 -e "s;^\(shutdown =\) .*;\1 poweroff;"
}

do_install() {
	local f

	vmkdir usr/share/themes/Clearine-Fallback/clearine
	vconf data/clearine.conf
	for f in data/*.svg; do
		vinstall $f 644 usr/share/themes/Clearine-Fallback/clearine
	done
	vbin clearine
	vlicense LICENSE
}
