# Template file for 'ocaml-biniou'
pkgname=ocaml-biniou
version=1.2.0
revision=1
wrksrc="biniou-${version}"
build_style=gnu-makefile
hostmakedepends="ocaml dune ocaml-easy-format"
depends="ocaml-easy-format"
short_desc="Extensible binary data format, like JSON but faster"
maintainer="John <johnz@posteo.net>"
license="BSD-3-Clause"
homepage="https://github.com/mjambon/biniou"
distfiles="https://github.com/mjambon/biniou/archive/v${version}.tar.gz"
checksum=d939a9d58660201738c3d22ad5b7976deb2917b22591a07525807bb741357d36
nocross=yes

do_install() {
	export OPAMROOT="${wrksrc}"/opam
	opam init -n
	OCAMLFIND_DESTDIR="${DESTDIR}$(ocamlfind printconf destdir)" jbuilder install

	vlicense LICENSE
}
