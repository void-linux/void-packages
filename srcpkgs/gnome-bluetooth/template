# Template file for 'gnome-bluetooth'
pkgname=gnome-bluetooth
version=3.4.0
distfiles="${GNOME_SITE}/$pkgname/3.4/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-desktop-update --disable-schemas-compile
--disable-icon-update"
short_desc="The GNOME Bluetooth Subsystem"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://live.gnome.org/GnomeBluetooth"
license="GPL, LGPL"
checksum=97a229e81997c14064899bdec2a62f94738d00d2f88cc18bcbeb2bdf0610e272
long_desc="
 This package contains tools for managing and manipulating Bluetooth devices
 using the GNOME desktop.

 bluetooth-applet provides an agent to ask for PIN and managing pairing with
 devices, together with bluetooth-properties.

 bluetooth-sendto is also included for sending files to Bluetooth devices
 via OBEX."

gtk_iconcache_dirs="/usr/share/icons/hicolor"
subpackages="$pkgname-devel"

Add_dependency build which
Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build gobject-introspection
Add_dependency build libXi-devel
Add_dependency build gtk+3-devel
Add_dependency build libnotify-devel
Add_dependency build nautilus-sendto-devel

Add_dependency run dconf
Add_dependency run bluez
Add_dependency run gvfs
Add_dependency run obexd-client
Add_dependency run hicolor-icon-theme
Add_dependency run desktop-file-utils

post_install() {
	vinstall ${FILESDIR}/61-gnome-bluetooth-rfkill.rules \
		644 lib/udev/rules.d
	vmkdir etc/ld.so.conf.d
	echo "/usr/lib/gnome-bluetooth" > \
		${DESTDIR}/etc/ld.so.conf.d/${pkgname}.conf
}
