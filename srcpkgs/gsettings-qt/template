# Template file for 'gsettings-qt'
pkgname=gsettings-qt
version=0.2
revision=1
build_style=qmake
configure_args="gsettings-qt.pro"
hostmakedepends="pkg-config"
makedepends="qt5-devel qt5-declarative-devel"
short_desc="Library to access GSettings from Qt"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="LGPL-3.0-only"
homepage="https://launchpad.net/gsettings-qt"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+files/gsettings-qt_${version}.orig.tar.gz"
checksum=1ee20cc73f0c3c6afc6910e6b60fd1236e6bcc42920f7b2442aca208914cd7f8

do_patch() {
	sed -i -e 's|tests/tests.pro||g' \
	-e 's|tests/cpptest.pro||g' \
	gsettings-qt.pro
}

gsettings-qt-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
		vmove usr/lib/pkgconfig
	}
}
