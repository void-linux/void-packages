# Template file for 'Gauche'
pkgname=Gauche
version=0.9.9
revision=2
build_style=gnu-configure
hostmakedepends="texinfo"
makedepends="libticonv-devel libatomic_ops-devel"
checkdepends="iana-etc"
short_desc="Practical Scheme R7RS implementation"
maintainer="rc-05 <rc23@email.it>"
license="BSD-3-Clause"
homepage="https://practical-scheme.net/gauche/"
distfiles="${SOURCEFORGE_SITE}/gauche/${pkgname}-${version}.tgz"
checksum=4ca9325322a7efadb9680d156eb7b53521321c9ca4955c4cbe738bc2e1d7f7fb
alternatives="
 scheme:scheme:/usr/bin/gosh
 scheme:scheme.1:/usr/share/man/man1/gosh.1
"

if [ -n "$CROSS_BUILD" ]; then
	# Gauche needs itself to bootstrap for cross compilation.
	hostmakedepends+=" Gauche"
fi

post_install() {
	# Void previously shipped the binary as "gauche", symlink for
	# consistancy.
	ln -sf gosh $DESTDIR/usr/bin/gauche

	vlicense COPYING
}
