# Template file for 'opera'
pkgname=opera
version=126.0.5750.59
revision=1
archs="x86_64"
create_wrksrc=yes
depends="ffmpeg6 desktop-file-utils hicolor-icon-theme libcanberra-gtk3 gsettings-desktop-schemas"
short_desc="Fast, secure, easy to use browser"
maintainer="mobinmob <mobinmob@disroot.org>"
license="custom:Proprietary"
homepage="https://www.opera.com/computer"
distfiles="https://get.geo.opera.com/pub/opera/desktop/${version}/linux/opera-stable_${version}_amd64.rpm"
checksum=c83e0b4b84c16b06a6cb6b1b2f17962569767a9d8df522bee40eea35f4b352f5
repository="nonfree"
nostrip=yes

do_install() {
	# Create necessary dirs
	vmkdir usr/bin
	vmkdir usr/lib

	# Copy files
	vcopy usr/lib64/opera-stable usr/lib/
	vcopy usr/share usr/share/

	# Link executable in path
	ln -s ../lib/opera-stable/opera "${DESTDIR}/usr/bin/opera"

	# Install 3rd-party licenses
	vlicense usr/lib64/opera-stable/opera_autoupdate.licenses
}
