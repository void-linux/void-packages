# Template file for 'hakuneko-desktop'
pkgname=hakuneko-desktop
version=6.1.7
revision=1
archs="x86_64"
build_style=fetch
depends="libXScrnSaver nss gtk+3"
short_desc="Manga & Anime Downloader for Linux, Windows & MacOS"
maintainer="Guilherme Machado <machadofguilherme@gmail.com>"
license="Unlicense"
homepage="https://hakuneko.download/"
distfiles="https://github.com/manga-download/hakuneko/releases/download/v${version}/${pkgname}_${version}_linux_amd64.deb"
checksum="06bb17d7a06bb0601053eaaf423f9176f06ff3636cc43ffc024438e1962dcd02"
repository=current

do_extract() {
	ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/${pkgname}_${version}_linux_amd64.deb
	bsdtar xf data.tar.xz
}

do_install() {
	vmkdir usr/bin
	vcopy usr/lib/hakuneko-desktop usr/lib
	vcopy ${FILESDIR}/hakuneko-desktop.sh usr/bin
	vmkdir usr/share/doc/hakuneko-desktop
	vmkdir usr/share/applications
	vmkdir usr/share/icons
	vmkdir usr/share/man
	vmkdir usr/share/pixmaps
	vmkdir usr/share/licenses/hakuneko-desktop
	vdoc usr/share/doc/hakuneko-desktop/changelog.gz
	cp usr/share/applications/hakuneko-desktop.desktop \
		${DESTDIR}/usr/share/applications/hakuneko-desktop.desktop
	vcopy usr/share/icons/hicolor usr/share/icons
	vcopy usr/share/pixmaps/hakuneko-desktop.xpm usr/share/pixmaps
	vman usr/share/man/man1/hakuneko-desktop.1.gz
	vlicense usr/share/doc/hakuneko-desktop/copyright
}
