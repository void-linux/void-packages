# Template file for 'cquery'
pkgname=cquery
version=v20180302
revision=1
wrksrc="${pkgname}"
build_style=waf3
configure_args="--llvm-config=llvm-config"
hostmakedepends="git"
makedepends="clang llvm"
short_desc="Low-latency language server for C, C++, and Objective-C"
maintainer="jtalowell <jtalowell@protonmail.com>"
license="MIT"
homepage="https://github.com/cquery-project/cquery/"

do_fetch() {
	git clone ${homepage} ${pkgname}
	cd ${pkgname}
	git checkout ${version}
	git submodule update --init --recursive
}

pre_build() {
	git checkout master wscript
}

post_install() {
	git checkout master LICENSE
	vlicense LICENSE
}
