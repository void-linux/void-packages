# Template file for 'indicator-appmenu'
pkgname=indicator-appmenu
version=15.02.0+20.10.20200617.2
revision=1
build_style=gnu-configure
configure_args="--prefix=/usr --libexecdir=/usr/lib/${pkgname} \
 --disable-static"
hostmakedepends="automake gettext-devel gtk-doc intltool pkg-config vala"
makedepends="bamf-devel libayatana-indicator-devel libdbusmenu-gtk3-devel"
depends="dconf libayatana-appindicator"
short_desc="Indicator to host the menus from an application"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="GPL-3.0-only"
homepage="https://launchpad.net/indicator-appmenu"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+files/indicator-appmenu_${version}.orig.tar.gz"
checksum=78f59751869391b12959b0bdbfa62d332c22d128718411390e15cfe2ab14b41d

pre_configure() {
	export CFLAGS+=" -Wno-error"

	gtkdocize
	autoreconf -vfi
	intltoolize -f
}
