# Template file for 'astroid'
pkgname=astroid
version=0.17
revision=5
build_style=cmake
build_helper=gir
hostmakedepends="pkg-config scdoc protobuf gobject-introspection"
makedepends="libnotmuch-devel gtkmm-devel libwebkit2gtk41-devel libsass-devel
 gmime3-devel protobuf-devel vte3-devel gobject-introspection
 boost-devel-minimal libboost_filesystem libboost_program_options
 libboost_log_setup libboost_log libboost_thread libboost_date_time
 libboost_unit_test_framework libpeas-devel"
checkdepends="gnupg notmuch w3m cmark xvfb-run"
short_desc="Graphical threads-with-tags style email client for Notmuch"
maintainer="Ameise <ameise@bitparlament.de>"
license="GPL-3.0-or-later"
homepage="http://astroidmail.github.io/"
distfiles="https://github.com/astroidmail/astroid/archive/v${version}.tar.gz"
checksum=dd419d4e11d1efa95979472e17cca5066799a5c64a595d5cea2b9e8d9f60f9c8

do_check() {
	cd build
	xvfb-run ctest
}
