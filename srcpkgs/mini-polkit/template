# Template file for 'mini-polkit'
pkgname=mini-polkit
version=1.0.0
revision=1
build_style=gnu-makefile
hostmakedepends="pkg-config"
makedepends="polkit-devel glib-devel"
depends="polkit"
short_desc="Minimal polkit authentication agent"
maintainer="Amr <amr@programmer.net>"
license="MIT"
homepage="https://amr-dev.info/mini-polkit"
distfiles="https://github.com/cyber-amr/mini-polkit/archive/${version}.tar.gz"
checksum=f70ab1be6cb4420b9f1f3b3140430187d8823386e351cfaaf310ce07425a97e8

pre_build() {
	pkgconf_cflags="$(pkg-config --cflags polkit-agent-1 glib-2.0)"
	pkgconf_libs="$(pkg-config --libs polkit-agent-1 glib-2.0)"
	CFLAGS+=" $pkgconf_cflags"
	LDFLAGS+=" $pkgconf_libs"
}

post_install() {
	vlicense LICENSE
}
