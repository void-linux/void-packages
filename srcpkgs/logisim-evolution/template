# Template file for 'logisim-evolution'
pkgname=logisim-evolution
version=4.0.0
revision=1
hostmakedepends="openjdk21 gradle"
depends="openjdk21-jre"
short_desc="Digital logic design tool and simulator"
maintainer="voidbert <humbertogilgomes@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/logisim-evolution/logisim-evolution"
changelog="https://github.com/logisim-evolution/logisim-evolution/raw/master/CHANGES.md"
distfiles="https://github.com/logisim-evolution/logisim-evolution/archive/refs/tags/v${version}.tar.gz"
checksum=95bc9e67de7294ed3d09869edc692eff4c7308d86e3d7a9802328e03d77310f8

do_build() {
	. /etc/profile.d/jdk.sh
	gradle --no-daemon shadowJar
}

do_install() {
	vinstall build/libs/logisim-evolution-${version}-all.jar 0644 usr/lib/logisim-evolution logisim-evolution.jar

	vbin ${FILESDIR}/logisim-evolution

	vinstall artwork/logisim-evolution-icon.svg 0644 usr/share/icons/hicolor/scalable/apps com.github.reds.LogisimEvolution.svg
	vinstall support/Flatpak/com.github.reds.LogisimEvolution.xml 0644 usr/share/mime/packages
	vinstall support/Flatpak/com.github.reds.LogisimEvolution.desktop 0644 usr/share/applications
}
