# Template file for 'salt'
pkgname=salt
version=2019.2.0
revision=2
archs=noarch
build_style=python3-module
pycompile_module="salt"
hostmakedepends="python3-devel"
depends="python3-yaml python3-Jinja2 python3-requests python3-pyzmq
 python3-M2Crypto python3-tornado python3-msgpack dmidecode pciutils
 python3-psutil"
short_desc="Remote execution system, and configuration manager"
maintainer="Toyam Cox <Vaelatern@voidlinux.org>"
license="Apache-2.0"
homepage="http://saltstack.org/"
changelog="https://docs.saltstack.com/en/latest/topics/releases/${version}.html"
distfiles="${PYPI_SITE}/s/salt/salt-${version}.tar.gz"
checksum=5695bb2b3fa288bcfc0e3b93d9449afd75220bd8f0deefb5e7fc03af381df6cd
conf_files="/etc/salt/*"

post_install() {
	vmkdir etc/salt 0750
	vcopy conf/* etc/salt
	vsv salt-api
	vsv salt-master
	vsv salt-minion
	vsv salt-syndic
}
