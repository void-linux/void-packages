# Template file for 'haskell-language-server'
pkgname=haskell-language-server
version=2.11.0.0
revision=1
build_style=cabal
configure_args="--flags=-dynamic --disable-benchmarks --disable-tests"
make_build_target=all:exes
makedepends="ncurses-devel ncurses-libtinfo-devel icu-devel zlib-devel"
short_desc="Integration of ghcide and haskell-ide-engine"
maintainer="Wayne Van Son <waynevanson@gmail.com>"
license="Apache-2.0"
homepage="https://github.com/haskell/haskell-language-server"
changelog="https://raw.githubusercontent.com/haskell/haskell-language-server/master/ChangeLog.md"
distfiles="https://github.com/haskell/haskell-language-server/archive/${version}.tar.gz"
checksum=a03b00e37b3a5326adaaa688145160959e78f0fa7a3160eb99babea437fc60f4
nopie_files="
 /usr/bin/haskell-language-server
 /usr/bin/haskell-language-server-wrapper
 /usr/bin/ghcide-bench
 /usr/bin/ghcide
 /usr/bin/ghcide-test-preprocessor
 /usr/bin/test-server
"
nocross="Cannot yet cross compile with Haskell"
make_check=no # Tests require dynamic linking of haskell libs which doesn't work on musl
