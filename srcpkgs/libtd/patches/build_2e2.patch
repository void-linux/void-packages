--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -187,17 +187,14 @@ set(TDE2E_ENABLE_INSTALL ${TD_INSTALL_STATIC_LIBRARIES} CACHE BOOL "" FORCE)
 set(TDE2E_INSTALL_INCLUDES ${TD_E2E_ONLY} CACHE BOOL "" FORCE)
 add_subdirectory(tde2e)
 
-if (TD_E2E_ONLY)
-  if (TD_INSTALL_STATIC_LIBRARIES)
+if (TD_INSTALL_STATIC_LIBRARIES)
     include(GeneratePkgConfig)
-    generate_pkgconfig(tdutils "Telegram Library - Utils")
     generate_pkgconfig(tde2e "Telegram Library - E2E")
     install(EXPORT TdStaticTargets
       FILE tde2eStaticTargets.cmake
       NAMESPACE tde2e::
       DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/tde2e"
     )
-  endif()
   file(WRITE "${CMAKE_CURRENT_BINARY_DIR}/tde2eConfig.cmake" "include(\"\${CMAKE_CURRENT_LIST_DIR}/tde2eStaticTargets.cmake\")\n")
   include(CMakePackageConfigHelpers)
   write_basic_package_version_file("tde2eConfigVersion.cmake"
@@ -207,7 +204,11 @@ if (TD_E2E_ONLY)
   install(FILES "${CMAKE_CURRENT_BINARY_DIR}/tde2eConfig.cmake" "${CMAKE_CURRENT_BINARY_DIR}/tde2eConfigVersion.cmake"
     DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/tde2e"
   )
-  return()
+    install(DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/tde2e/td"
+            DESTINATION include
+            COMPONENT development
+            FILES_MATCHING PATTERN "*.h"
+    )
 endif()
 
 if (NOT TDUTILS_MIME_TYPE OR NOT TDUTILS_USE_EXTERNAL_DEPENDENCIES)
@@ -1400,7 +1401,6 @@ include(GeneratePkgConfig)
 if (TD_INSTALL_STATIC_LIBRARIES)
   generate_pkgconfig(tdutils "Telegram Library - Utils")
   generate_pkgconfig(tdactor "Telegram Library - Actor")
-  generate_pkgconfig(tde2e "Telegram Library - E2E")
   generate_pkgconfig(tdnet "Telegram Library - Net")
   generate_pkgconfig(tdsqlite "Telegram Library - SQLite")
   generate_pkgconfig(tddb "Telegram Library - Database")
-- 
2.50.1

