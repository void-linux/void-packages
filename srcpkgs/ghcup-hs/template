# Template file for 'ghcup-hs'
pkgname=ghcup-hs
version=0.1.16.2
revision=1
build_style=haskell-stack
make_build_args="--flag ghcup:tui --flag libarchive:system-libarchive"
hostmakedepends="pkg-config"
makedepends="libarchive-devel ncurses-devel openssl-devel tar"
short_desc="ghcup is an installer for the general purpose language Haskell"
maintainer="Ananda Umamil <zweimach@zweimach.org>"
license="LGPL-3.0-or-later"
homepage="https://www.haskell.org/ghcup/"
distfiles="https://github.com/haskell/${pkgname}/archive/v${version}.tar.gz"
checksum=e85cebbb233fc8817a5f47df3b86ac7f8b1728001ce426a2e80456b7578bb043
nopie_files="
 /usr/bin/ghcup
 /usr/bin/ghcup-gen
"
nocross=yes

post_install() {
	vdoc README.md
	vlicense LICENSE
	vcompletion shell-completions/bash bash ghcup
	vcompletion shell-completions/fish fish ghcup
	vcompletion shell-completions/zsh zsh ghcup
}
