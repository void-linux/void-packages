# Template file for 'pegasus-frontend'
pkgname=pegasus-frontend
version=2023w20
revision=1
_translations_commit=e1afa445aa55f877f48fba600706c712113e5508
_theme_commit=d7533c825c769a2240ed1a70cbbb1178793e871b
_sort_commit=2061f8136ba372fd06c1928a610258b7d88cb144
build_style=qmake
configure_args="INSTALL_BINDIR=/usr/bin INSTALL_DOCDIR=/usr/share/doc/pegasus-frontend
 INSTALL_DESKTOPDIR=/usr/share/applications INSTALL_ICONDIR=/usr/share/icons/hicolor
 INSTALL_APPSTREAMDIR=/usr/share/metainfo"
hostmakedepends="qt5-qmake qt5-host-tools"
makedepends="qt5-declarative-devel qt5-quickcontrols2-devel qt5-multimedia-devel qt5-svg-devel qt5-gamepad-devel SDL2-devel"
depends="qt5-graphicaleffects"
short_desc="Cross platform, customizable graphical frontend for launching emulators"
maintainer="Newchair2644 <Numair2644@protonmail.com>"
license="GPL-3.0-or-later"
homepage="https://pegasus-frontend.org/"
changelog="https://github.com/mmatyas/pegasus-frontend/releases"
distfiles="https://github.com/mmatyas/pegasus-frontend/archive/refs/tags/weekly_${version}.tar.gz
 https://github.com/mmatyas/pegasus-frontend-translations/archive/${_translations_commit}.tar.gz
 https://github.com/mmatyas/pegasus-theme-grid/archive/${_theme_commit}.tar.gz
 https://github.com/mmatyas/SortFilterProxyModel/archive/${_sort_commit}.tar.gz"
checksum="ada811633203418cea703e2178b543d51adb7a481f867c3de34ae085b4f4b878
 e618ec20a4b1a04a6109b1cbc39baa1ac05610dfb57c3a790685d154eca0a930
 61bfcafd6d55fdbaa70caa1377ce523b4b4152beb73783858d56c00fd6ced57d
 16a6438803014aebcb70342b72ad15eaf39c39db0ed766d397b3acbc0c7f8215"
skip_extraction="${_translations_commit}.tar.gz
 ${_theme_commit}.tar.gz
 ${_sort_commit}.tar.gz"

post_extract() {
	vsrcextract -C lang "${_translations_commit}.tar.gz"
	vsrcextract -C src/themes/pegasus-theme-grid "${_theme_commit}.tar.gz"
	vsrcextract -C thirdparty/SortFilterProxyModel "${_sort_commit}.tar.gz"
}
