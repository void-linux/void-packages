# Template file for 'SwayOSD'
pkgname=SwayOSD
version=0.2.1
revision=1
build_style=meson
build_helper="rust"
hostmakedepends="pkg-config ninja sassc cargo glib-devel autoconf automake libtool"
makedepends="gdk-pixbuf-devel cairo-devel pango-devel graphene-devel gtk4-devel gtk4-layer-shell-devel rust-std libevdev-devel libinput-devel eudev-libudev-devel"
short_desc="GTK based on screen display for keyboard shortcuts"
maintainer="Stefan <s@omfm.ru>"
license="GPL-3.0-only"
homepage="https://github.com/ErikReider/SwayOSD"
distfiles="https://github.com/ErikReider/SwayOSD/archive/refs/tags/v${version}.tar.gz"
checksum=c53d7273259be424d6177690eea965bcdd362245bf968881f1e0294f0d0595b6

post_patch() {
	if [ "$CROSS_BUILD" ]; then
		vsed -i src/meson.build \
			-e "s|rust_target =|rust_target = '${RUST_TARGET}' / |"
	fi
}

post_install() {
	vsv swayosd-libinput-backend
}
