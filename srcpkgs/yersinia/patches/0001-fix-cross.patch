From 784ccf7e6aebc80263e5a2bfac2427d597867259 Mon Sep 17 00:00:00 2001
From: Nathan Owens <ndowens@artixlinux.org>
Date: Wed, 30 Dec 2020 18:30:54 -0600
Subject: [PATCH] fix cross

Use AC_COMPILE_IFELSE instead of AC_TRY_RUN
---
 configure.in | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git configure.in configure.in
index e796198..892312b 100644
--- configure.in
+++ configure.in
@@ -105,7 +105,7 @@ dnl Check for BSD's BPF
 disable_bpf=no
 have_bpf=no
 AC_MSG_CHECKING(for BPF device sending support)
-AC_TRY_RUN([
+AC_COMPILE_IFELSE([AC_LANG_PROGRAM([
 #include <stdio.h>
 #include <fcntl.h>
 #include <stdlib.h>
@@ -127,7 +127,7 @@ main(int argc, char *argv[]) {
 		
 	/* else suck, no good */
     exit(-1);
-}],
+}])],
 	[
 	if test $disable_bpf = no ; then
 	    AC_DEFINE([HAVE_BPF], [1], 
@@ -217,7 +217,7 @@ dnl   AC_MSG_ERROR(...i'm sure you'll take the right decision.)
 dnl fi
 
 AC_MSG_CHECKING(if libnet is at least version 1.1.2)
-AC_TRY_RUN([
+AC_COMPILE_IFELSE([
 #include<stdio.h>
 #include<libnet.h>
 #define HOPE_MAJOR  1
@@ -403,7 +403,7 @@ AC_CHECK_FUNCS(strerror_r, have_strerror_r=yes,have_strerror_r=no)
 
 if test $have_strerror_r = yes; then
 AC_MSG_CHECKING(if strerror_r is on glibc version >= 2.0)
-AC_TRY_RUN([
+AC_COMPILE_IFELSE([
 #include <stdio.h>
 #include <features.h>
 int main()
-- 
2.30.0

