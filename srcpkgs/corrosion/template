# Template file for 'corrosion'
pkgname=corrosion
version=0.5.2
revision=1
build_style=cmake
hostmakedepends="cargo"
short_desc="Tool for integrating Rust into an existing CMake project"
maintainer="John <me@johnnynator.dev>"
license="MIT"
homepage="https://github.com/corrosion-rs/corrosion"
distfiles="https://github.com/corrosion-rs/corrosion/archive/refs/tags/v${version}.tar.gz"
checksum=6bc02411e29183a896aa60c58db6819ec6cf57c08997481d0b0da9029356b529

do_check() {
	cd build
	# Require and uses rustup
	ctest -E '(rustup_proxy_build|parse_target_triple_build)'
}

post_install() {
	vlicense LICENSE
}
