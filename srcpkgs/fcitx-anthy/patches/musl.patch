--- a/src/utils.h
+++ b/src/utils.h
@@ -22,6 +22,7 @@
 #define __FCITX_ANTHY_UTILS_H__
 
 #include "common.h"
+#include <sys/types.h>
 
 size_t
 util_utf8_string_length(const std::string& s);
