# Template file for 'devilutionX'
pkgname=devilutionX
version=1.4.1
revision=1
build_style=cmake
configure_args="-DVERSION_NUM=$version -DBUILD_TESTING=OFF -DDISABLE_ZERO_TIER=ON"
hostmakedepends="git gettext pkg-config smpq"
makedepends="SDL2-devel SDL2_image-devel fmt-devel libpng-devel libsodium-devel bzip2-devel"
short_desc="Diablo I engine for modern operating systems"
maintainer="MarcoAPC <marcoaureliopc@gmail.com>"
license="Unlicense"
homepage="https://github.com/diasurgical/devilutionX"
distfiles="https://github.com/diasurgical/devilutionX/archive/${version}.tar.gz
https://raw.githubusercontent.com/diasurgical/devilutionX/1.2.1/CMake/FindSDL2.cmake"
checksum="54b9fd496eba5b82d7e64891ab4de808f539c60b3b94bfa49639e0d9580fb7b8
5df4976281066baf46bcc1d27f4855f1eec0831da43323184b7353aa5eb269a9"

skip_extraction="FindSDL2.cmake"

post_extract() {
	cp ${XBPS_SRCDISTDIR}/${pkgname}-${version}/FindSDL2.cmake CMake/finders
}

post_install() {
	vlicense LICENSE
}
