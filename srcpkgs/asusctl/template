# Template file for 'asusctl'
pkgname=asusctl
version=6.0.11
revision=1
archs="x86_64* i686*" # fails to build on other archs, but this is utility for ROG laptops which are only x86_64
build_style="gnu-makefile"
hostmakedepends="cargo pkgconf clang"
makedepends="eudev-libudev-devel gtk+3-devel pango-devel pangomm-devel gdk-pixbuf-devel cairo-devel glib-devel atkmm-devel freetype-devel expat-devel libseat-devel libinput-devel"
depends="libayatana-appindicator"
short_desc="ASUS ROG laptops control utilities"
maintainer="hyperglue <hyperglue@autumnmail.org>"
license="MPL-2.0"
homepage="https://gitlab.com/asus-linux/asusctl"
distfiles="https://gitlab.com/asus-linux/asusctl/-/archive/${version}/asusctl-${version}.tar.gz"
checksum=a6249fd4429a9ee21407e2285ee0fbdbf44b9d3c5bd742988aba1bb3608c5ca4

post_install() {
	vsv asusd
}

asusctl-rog-gui_package() {
	short_desc+=" - graphical interface"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove /usr/share/applications
		vmove /usr/share/icons
		vmove /usr/share/rog-gui
		vmove /usr/bin/rog-control-center
	}
}
