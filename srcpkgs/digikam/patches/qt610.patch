--- a/core/cmake/rules/RulesQtFramework.cmake
+++ b/core/cmake/rules/RulesQtFramework.cmake
@@ -10,6 +10,7 @@ find_package(Qt${QT_VERSION_MAJOR} REQUI
              Concurrent
              Widgets
              Gui
+             GuiPrivate
              Sql
              Xml
              PrintSupport
--- a/core/libs/dimg/CMakeLists.txt
+++ b/core/libs/dimg/CMakeLists.txt
@@ -225,6 +225,7 @@ endif()
 if(X11_FOUND)
 
     include_directories(${Qt${QT_VERSION_MAJOR}Gui_PRIVATE_INCLUDE_DIRS})
+    include_directories(${Qt${QT_VERSION_MAJOR}GuiPrivate_PRIVATE_INCLUDE_DIRS})
 
 endif()
 
--- a/core/libs/facesengine/recognition/faceclassifier.cpp
+++ b/core/libs/facesengine/recognition/faceclassifier.cpp
@@ -27,6 +27,7 @@
 #include <QTimer>
 #include <QFile>
 #include <QApplication>
+#include <QElapsedTimer>
 
 // KDE includes
 
--- a/core/libs/mlfoundation/mlpipelinefoundation.h
+++ b/core/libs/mlfoundation/mlpipelinefoundation.h
@@ -25,6 +25,7 @@
 #include <QThreadPool>
 #include <QFuture>
 #include <QFutureWatcher>
+#include <QElapsedTimer>
 
 // Local includes
 
