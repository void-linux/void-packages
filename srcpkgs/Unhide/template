# Template file for 'Unhide'
pkgname=Unhide
version=20210124
revision=1
depends="iproute2 net-tools lsof psmisc procps-ng"
short_desc="Forensic tool to find hidden processes and TCP/UDP ports"
maintainer="k4leg <python.bogdan@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/YJesus/Unhide"
distfiles="${homepage}/archive/v${version}.tar.gz"
checksum=afd3923d7ff665c32f73a5178065843a608a1aaab36d2b21cc62182032d4b668

pre_build() {
	vsed -i 's:^\s*gcc:$CC $CFLAGS $LDFLAGS:g' build_all.sh
}

do_build() {
	./build_all.sh
}

do_install() {
	for bin in unhide{-linux,-tcp,_rb}; do
		vbin "$bin"
	done
	vman man/unhide-tcp.8
	vman man/unhide.8
	vman man/es/unhide-tcp.8 unhide-tcp.es.8
	vman man/es/unhide.8 unhide.es.8
	vman man/fr/unhide-tcp.8 unhide-tcp.fr.8
	vman man/fr/unhide.8 unhide.fr.8
}
