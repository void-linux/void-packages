# Template file for 'Hieroglyphic'
pkgname=Hieroglyphic
version=2.2.0
revision=1
archs="~i686*"
build_style=meson
build_helper=rust
hostmakedepends="pkg-config cargo rust gettext desktop-file-utils glib-devel
 gtk-update-icon-cache gtk4-update-icon-cache"
makedepends="gtk4-devel libadwaita-devel rust-std openssl-devel"
short_desc="Find LaTeX symbols"
maintainer="Bnyro <bnyro@tutanota.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/FineFindus/Hieroglyphic"
distfiles="https://github.com/FineFindus/Hieroglyphic/archive/refs/tags/v${version}.tar.gz"
checksum=87a2a1874fae940f34d85d2c886897aced1f9e21cc702a174b40ba7efaae25df

pre_patch() {
	if [ "$CROSS_BUILD" ]; then
		vsed -i src/meson.build -e "s%rust_target /%'${RUST_TARGET}' / 'release' /%"
	fi
}
