# Template file for 'Hieroglyphic'
pkgname=Hieroglyphic
version=2.1.0
revision=1
build_style=meson
build_helper=rust
hostmakedepends="pkg-config cargo rust gettext desktop-file-utils glib-devel
 gtk-update-icon-cache gtk4-update-icon-cache"
makedepends="gtk4-devel libadwaita-devel rust-std"
short_desc="Find LaTeX symbols"
maintainer="Bnyro <bnyro@tutanota.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/FineFindus/Hieroglyphic"
distfiles="https://github.com/FineFindus/Hieroglyphic/archive/refs/tags/v${version}.tar.gz"
checksum=f77c903d7e6114b6305b916d6c84eba7ea802e062379ca38df3ef79084c84eb5

pre_patch() {
	if [ "$CROSS_BUILD" ]; then
		vsed -i src/meson.build -e "s%rust_target /%'${RUST_TARGET}' / 'release' /%"
	fi
}
