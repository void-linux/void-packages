# Template file for 'libproxy'
pkgname=libproxy
version=0.5.11
revision=1
build_style=meson
build_helper=gir
configure_args="-Drelease=true"
hostmakedepends="pkg-config vala"
makedepends="zlib-devel libglib-devel libcurl-devel duktape-devel
 gsettings-desktop-schemas-devel"
short_desc="Library handling all the details of proxy configuration"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-2.1-or-later"
homepage="http://github.com/libproxy/libproxy"
distfiles="https://github.com/libproxy/libproxy/releases/download/${version}/libproxy-${version}.tar.xz"
distfiles="https://github.com/libproxy/libproxy/archive/refs/tags/${version}.tar.gz"
checksum=b364f4dbbffc5bdf196330cb76b48abcb489f38b1543e67595ca6cb7ec45d265
replaces="libproxy-python3<=0.4.18_4"

libproxy-devel_package() {
	depends="libproxy>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/share/doc
		vmove usr/share/gir-1.0
		vmove usr/share/vala
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
