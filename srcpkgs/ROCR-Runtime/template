# Template file for 'ROCR-Runtime'
pkgname=ROCR-Runtime
version=3.3.0
revision=1
archs="x86_64*"
wrksrc="${pkgname}-rocm-${version}"
build_wrksrc="src"
build_style=cmake
hostmakedepends="cmake pkg-config"
makedepends="ROCT-Thunk-Interface-devel elfutils-devel"
short_desc="Radeon Open Compute HSA runtime"
maintainer="Andrew J. Hesford <ajh@sideband.org>"
license="NCSA"
homepage="https://github.com/RadeonOpenCompute/ROCR-Runtime"
distfiles="${homepage}/archive/rocm-${version}.tar.gz"
checksum=fa2d2d1f8a61d8a6952d377cf288d78c61776c3c2a666f163cafc3aa19ab0b61
nocross=yes

post_install() {
	vlicense ../LICENSE.txt
}

ROCR-Runtime-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
	}
}
