# Template file for 'python3-bidict'
pkgname=python3-bidict
version=0.22.0
revision=1
wrksrc="bidict-${version}"
build_style=python3-module
make_check_target=tests
hostmakedepends="python3-setuptools"
depends="python3"
checkdepends="python3-hypothesis python3-py-cpuinfo python3-pytest python3-Sphinx"
short_desc="Bidirectional mapping library for Python"
maintainer="DragonGhost7 <darkiridiumghost@gmail.com>"
license="MPL-2.0"
homepage="https://github.com/jab/bidict"
distfiles="https://github.com/jab/bidict/archive/refs/tags/v${version}.tar.gz"
checksum=ce482da805d6261ab1ea5f9e04cf7eb0142f24ca638e3f919ca6ec8c36eb5d9e

post_extract() {
	sed -e '/--benchmark-columns=mean,stddev,outliers/,+3d' -i pytest.ini
	rm tests/test_microbenchmarks.py # void linux doesnt have pytest benchmark tool
}
