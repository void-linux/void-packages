# Template file for 'kompose'
pkgname=kompose
version=1.26.1
revision=1
build_style=go
build_helper=qemu
go_import_path=github.com/kubernetes/kompose
short_desc="Go from Docker Compose to Kubernetes"
maintainer="Andrew J. Hesford <ajh@sideband.org>"
license="Apache-2.0"
homepage="https://kompose.io/"
changelog="https://raw.githubusercontent.com/kubernetes/kompose/master/CHANGELOG.md"
distfiles="https://github.com/kubernetes/kompose/archive/v${version}.tar.gz"
checksum=58547107377705f48cd02e391a5faf441dc0c861aeb9bc17c7c46e9de3ae1806

post_install() {
	local shell
	local kompose="${DESTDIR}/usr/bin/kompose"

	for shell in bash fish zsh; do
		vtargetrun "${kompose}" completion ${shell} > completions.${shell}
		vcompletion completions.${shell} ${shell}
	done
}
