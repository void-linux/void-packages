# Template file for 'growlight'
pkgname=growlight
version=1.2.21
revision=1
build_style=cmake
configure_args="$(vopt_bool zfs USE_LIBZFS)"
hostmakedepends="pkg-config pandoc"
makedepends="libatasmart-devel libblkid-devel libcap-devel cryptsetup-devel
 nettle-devel notcurses-devel libpciaccess-devel eudev-libudev-devel zlib-devel
 device-mapper-devel pciutils-devel $(vopt_if zfs zfs-devel)"
depends="ntfs-3g jfsutils xfsprogs nvme-cli hdparm f2fs-tools btrfs-progs e2fsprogs"
short_desc="Block device manager and system installation tool"
maintainer="mobinmob <mobinmob@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://nick-black.com/dankwiki/index.php/Growlight"
distfiles="https://github.com/dankamongmen/growlight/archive/v${version}.tar.gz"
checksum=a225266b98a7c438a04d79951b3a58834027fcc6174baa31e315265b2e7b1d30

pre_configure() {
	vsed -i 's#sbin#bin#' CMakeLists.txt
}

build_options="zfs"
desc_option_zfs="Build with ZFS Support"
