# Template file for 'chezmoi'
pkgname=chezmoi
version=2.7.1
revision=1
build_style=go
go_import_path="github.com/twpayne/chezmoi/v2"
go_build_tags="noembeddocs noupgrade"
go_ldflags="-X main.version=${version} -X main.commit=v${version}
 -X main.date=$(date -u +%Y-%m-%dT%H:%M:%SZ) -X main.builtBy=xbps
 -X github.com/twpayne/chezmoi/cmd.DocsDir=/usr/share/doc/chezmoi"
short_desc="Manage your dotfiles across multiple machines, securely"
maintainer="Abigail G <dev@kb6.ee>"
license="MIT"
homepage="https://chezmoi.io/"
distfiles="https://github.com/twpayne/chezmoi/archive/v${version}.tar.gz"
checksum=d80b301e1a25a67d9ada956a68532f0b23bd0627056c26685d977676d7bf7fe2

export CGO_ENABLED=1

post_install() {
	vlicense LICENSE

	for f in docs/*; do vdoc $f; done

	vcompletion completions/chezmoi-completion.bash bash chezmoi
	vcompletion completions/chezmoi.fish fish chezmoi
	vcompletion completions/chezmoi.zsh zsh chezmoi
}
