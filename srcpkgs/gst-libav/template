# Template file for 'gst-libav'
pkgname=gst-libav
version=1.26.10
revision=1
build_style=meson
hostmakedepends="pkg-config yasm"
makedepends="orc-devel gst-plugins-base1-devel ffmpeg6-devel"
depends="orc>=0.4.18 gst-plugins-base1>=${version}"
short_desc="GStreamer libav plugin (1.x)"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-2.0-or-later"
homepage="https://gstreamer.freedesktop.org"
changelog="https://gstreamer.freedesktop.org/releases/${version%.*}/#${version}"
distfiles="https://gstreamer.freedesktop.org/src/gst-libav/gst-libav-${version}.tar.xz"
checksum=c8c2fd29cc063a6d26c314cd1a0a3a3060c8a029981b9520fab52c4206d11611

case "$XBPS_TARGET_MACHINE" in
	*-musl) # Required by musl for M_SQRT1_2
		CFLAGS="-D_XOPEN_SOURCE"
		;;
esac
