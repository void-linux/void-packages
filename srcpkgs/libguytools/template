# Template file for 'libguytools'
pkgname=libguytools
version=2.1.0
revision=1
#package uses glibc specific functions
archs="~*-musl"
build_style=qmake
configure_args="trunk.pro"
hostmakedepends="qt5-qmake qt5-host-tools"
makedepends="qt5-devel qt5-tools-devel"
short_desc="Small programming toolbox for guymager"
maintainer="cbaulesch <christophe@baulesch.com>"
license="GPL-2.0-only"
homepage="https://sourceforge.net/projects/libguytools/"
changelog="https://sourceforge.net/p/libguytools/code/HEAD/tree/tags/tools-${version}/debian/changelog"
distfiles="${SOURCEFORGE_SITE}/${pkgname}/tools-${version}.tar.gz"
checksum=79562f8e8db0296da0f7ff612fd9db41ad454560cc32a307a24d15fda74f1d56

pre_configure() {
		./create_version_file.sh
}

do_install() {
		vcopy lib/*.so.* usr/lib
		vdoc changelog
}

libguytools-devel_package() {
		depends="${sourcepkg}>=${version}_${revision}"
		short_desc+=" - development files"

		pkg_install() {
				vmkdir usr/include/libguytools2
				vcopy include/* usr/include/libguytools2
				vcopy "lib/*.so" usr/lib
		}
}
