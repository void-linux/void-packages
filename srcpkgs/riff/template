# Template file for 'riff'
pkgname=riff
version=3.4.1
revision=1
build_style=cargo
short_desc="Diff filter highlighting which line parts have changed"
maintainer="0x5c <dev@0x5c.io>"
license="MIT"
homepage="https://github.com/walles/riff"
distfiles="https://github.com/walles/riff/archive/refs/tags/${version}.tar.gz"
checksum=d209e5b5a68907382cc91061d2e0570789293214b402c1b344008760fe298302

post_patch() {
	# Needed to prevent a rebuilt in do_install()
	# These are already transitive deps at those versions, but cargo
	# miscalculates that a feature is dropped when installing.
	cargo add syn@1.0.48 --features full
	cargo add libc@0.2.140 --features extra_traits
}

post_install() {
	vlicense LICENSE
}
