# Template file for 'folks'
pkgname=folks
version=0.6.8
homepage="http://telepathy.freedesktop.org/wiki/Folks"
distfiles="${GNOME_SITE}/$pkgname/0.6/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--enable-vala --enable-tracker-backend"
short_desc="GObject Library to aggregate people into metacontacts"
maintainer="Juan RP <xtraeme@gmail.com>"
license="LGPL-2.1"
checksum=4ee18ce808315f27ab6bf9f7d2b438dd4c1042a8ab6836bb5058b6dce167e0b1
long_desc="
 libfolks is a library that aggregates people from multiple sources (eg,
 Telepathy connection managers and eventually evolution data server, Facebook,
 etc.) to create metacontacts. It's written in Vala (in part to evaluate Vala).
 The initial goal is for GObject/C support, though the Vala bindings should
 basically automatic."

subpackages="$pkgname-devel"

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build which
Add_dependency build gobject-introspection
Add_dependency build vala-devel
Add_dependency build dbus-glib-devel
Add_dependency build telepathy-glib-devel
Add_dependency build libgee-devel ">=0.6.2.1_1" # introspection fix
Add_dependency build libsocialweb-devel
Add_dependency build evolution-data-server-devel
Add_dependency build tracker-devel

pre_configure() {
	sed -i "s|\(TRACKER_SPARQL_MAJOR=\)0.12|\10.14|" configure
}
