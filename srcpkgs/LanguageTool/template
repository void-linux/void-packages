# Template file for 'LanguageTool'
pkgname=LanguageTool
version=6.6
revision=1
_arch_commit=462256af10eb512ce9520ab1a88cc6e7dd8a0414
depends="virtual?java-environment fasttext fasttext-lid"
short_desc="Checks your writing in more than 20 languages"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-2.1-or-later"
homepage="https://www.languagetool.org/"
distfiles="https://www.languagetool.org/download/LanguageTool-${version}.zip
 https://gitlab.archlinux.org/archlinux/packaging/packages/languagetool/-/raw/${_arch_commit}/languagetool.sh"
checksum="53600506b399bb5ffe1e4c8dec794fd378212f14aaf38ccef9b6f89314d11631
 1230bed5e596ba161a08cddc70764afb46f018e8f483e9934017b3c7b2aaea70"
skip_extraction="languagetool.sh"
system_accounts="_languagetool"

do_install() {
	vmkdir usr/bin
	vmkdir usr/share/java/languagetool
	vcopy "*.jar" /usr/share/java/languagetool
	vcopy "libs/*.jar" /usr/share/java/languagetool
	rm -rf *.jar libs
	vcopy "$wrksrc" /usr/share/languagetool/
	vbin ${XBPS_SRCDISTDIR}/${pkgname}-${version}/languagetool.sh languagetool
	vconf ${FILESDIR}/languagetool.properties
	vsv languagetool
}
