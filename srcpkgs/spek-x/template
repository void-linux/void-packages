# Template file for 'spek-x'
pkgname=spek-x
version=0.9.4
revision=1
build_style=gnu-configure
hostmakedepends="automake gettext-devel intltool libtool pkg-config
 wxWidgets-common wxWidgets-gtk3-devel"
makedepends="ffmpeg-devel wxWidgets-gtk3-devel"
depends="ffmpeg"
short_desc="Acoustic spectrum analyser"
maintainer="zlice <zlice555@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/MikeWang000000/spek-x"
distfiles="https://github.com/MikeWang000000/spek-x/archive/v${version}.tar.gz"
checksum=95aa26969d731b8cf46c3ee010f153e9f3a1d40b092c8eba0ace82f5d0577674

CXXFLAGS="-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64"

# Tell autogen.sh to use "wx-config-gtk3" instead of "wx-config"
export WX_CONFIG_NAME="wx-config-gtk3"

pre_configure() {
	NOCONFIGURE=1 ./autogen.sh
}

spek-alternative_package() {
	depends="${sourcepkg}"
	short_desc+=" - transitional dummy package"
	metapackage=yes
}
