Reported upstream: https://bugreports.qt.io/browse/PYSIDE-1430 (pyside2)
Additional fix for qt6

--- a/sources/pyside6/tests/CMakeLists.txt.ORIG	2021-04-19 18:07:00.000000000 +0200
+++ b/sources/pyside6/tests/CMakeLists.txt	2021-05-08 10:09:53.745441190 +0200
@@ -4,8 +4,7 @@
 
 # BUILD_DIR and QT_DIR are used by init_paths.py for setting
 # the path to the testbinding module
-get_filename_component(BUILD_DIR "${CMAKE_BINARY_DIR}" DIRECTORY)
-get_filename_component(BUILD_DIR "${CMAKE_BINARY_DIR}" DIRECTORY)
-set(QT_DIR "${_qt5Core_install_prefix}")
+set(BUILD_DIR "${CMAKE_BINARY_DIR}")
+set(QT_DIR "${QT6_INSTALL_PREFIX}")
 
 macro(TEST_QT_MODULE var name)
