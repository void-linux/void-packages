From e9f104a8eb1f1e61240b11359c9bf5e0fff1019b Mon Sep 17 00:00:00 2001
From: Piraty <piraty1@inbox.ru>
Date: Wed, 19 Oct 2022 15:16:02 +0200
Subject: [PATCH] locate libraries with pkg-config
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Co-authored-by: Jan Christian Gr√ºnhage <jan.christian@gruenhage.xyz>
---
 .../cmake/source/modules/Findaugeas.cmake     | 15 +---
 .../cmake/source/modules/Findboost.cmake      | 84 +------------------
 2 files changed, 4 insertions(+), 95 deletions(-)

diff --git a/libraries/cmake/source/modules/Findaugeas.cmake b/libraries/cmake/source/modules/Findaugeas.cmake
index 77186b9df..c5d1cfa47 100644
--- a/libraries/cmake/source/modules/Findaugeas.cmake
+++ b/libraries/cmake/source/modules/Findaugeas.cmake
@@ -7,16 +7,5 @@
 
 include("${CMAKE_CURRENT_LIST_DIR}/utils.cmake")
 
-importSourceSubmodule(
-  NAME "augeas/gnulib"
-
-  SHALLOW_SUBMODULES "src"
-)
-
-importSourceSubmodule(
-  NAME "augeas"
-
-  NO_RECURSIVE
-
-  SHALLOW_SUBMODULES "src"
-)
+find_package(PkgConfig REQUIRED)
+pkg_check_modules(augeas REQUIRED "augeas")
diff --git a/libraries/cmake/source/modules/Findboost.cmake b/libraries/cmake/source/modules/Findboost.cmake
index b7fc8d94f..48152fd76 100644
--- a/libraries/cmake/source/modules/Findboost.cmake
+++ b/libraries/cmake/source/modules/Findboost.cmake
@@ -7,85 +7,5 @@
 
 include("${CMAKE_CURRENT_LIST_DIR}/utils.cmake")
 
-importSourceSubmodule(
-  NAME "boost"
-
-  NO_RECURSIVE
-
-  SUBMODULES
-    "src"
-
-  SHALLOW_SUBMODULES
-    "src/libs/algorithm"
-    "src/libs/align"
-    "src/libs/any"
-    "src/libs/array"
-    "src/libs/asio"
-    "src/libs/assert"
-    "src/libs/atomic"
-    "src/libs/beast"
-    "src/libs/bind"
-    "src/libs/chrono"
-    "src/libs/concept_check"
-    "src/libs/config"
-    "src/libs/container"
-    "src/libs/container_hash"
-    "src/libs/context"
-    "src/libs/conversion"
-    "src/libs/core"
-    "src/libs/coroutine2"
-    "src/libs/date_time"
-    "src/libs/detail"
-    "src/libs/dynamic_bitset"
-    "src/libs/endian"
-    "src/libs/exception"
-    "src/libs/filesystem"
-    "src/libs/foreach"
-    "src/libs/format"
-    "src/libs/function"
-    "src/libs/function_types"
-    "src/libs/fusion"
-    "src/libs/integer"
-    "src/libs/intrusive"
-    "src/libs/io"
-    "src/libs/iterator"
-    "src/libs/lexical_cast"
-    "src/libs/locale"
-    "src/libs/logic"
-    "src/libs/move"
-    "src/libs/mp11"
-    "src/libs/mpl"
-    "src/libs/multi_index"
-    "src/libs/numeric/conversion"
-    "src/libs/optional"
-    "src/libs/phoenix"
-    "src/libs/pool"
-    "src/libs/predef"
-    "src/libs/preprocessor"
-    "src/libs/property_tree"
-    "src/libs/proto"
-    "src/libs/random"
-    "src/libs/range"
-    "src/libs/ratio"
-    "src/libs/rational"
-    "src/libs/regex"
-    "src/libs/scope_exit"
-    "src/libs/serialization"
-    "src/libs/smart_ptr"
-    "src/libs/spirit"
-    "src/libs/static_assert"
-    "src/libs/system"
-    "src/libs/thread"
-    "src/libs/throw_exception"
-    "src/libs/tokenizer"
-    "src/libs/tti"
-    "src/libs/tuple"
-    "src/libs/type_index"
-    "src/libs/typeof"
-    "src/libs/type_traits"
-    "src/libs/unordered"
-    "src/libs/utility"
-    "src/libs/uuid"
-    "src/libs/variant"
-    "src/libs/winapi"
-)
+find_package(PkgConfig REQUIRED)
+pkg_check_modules(boost REQUIRED "boost")
-- 
2.38.1

