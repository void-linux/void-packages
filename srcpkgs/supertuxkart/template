# Template file for 'supertuxkart'
pkgname=supertuxkart
version=1.5
revision=1
build_style=cmake
hostmakedepends="pkg-config"
makedepends="libjpeg-turbo-devel libpng-devel
 libbluetooth-devel libvorbis-devel
 libopenal-devel libcurl-devel freetype-devel
 libopenglrecorder-devel harfbuzz-devel libenet-devel
 libogg-devel mcpp-devel openssl-devel zlib-devel
 SDL2-devel shaderc sqlite-devel"
depends="desktop-file-utils hicolor-icon-theme supertuxkart-data"
short_desc="Kart racing game featuring Tux and his friends"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://supertuxkart.net"
changelog="https://raw.githubusercontent.com/supertuxkart/stk-code/master/CHANGELOG.md"
distfiles="https://github.com/supertuxkart/stk-code/releases/download/${version}/SuperTuxKart-${version}-src.tar.gz"
checksum=33cf8841e4ff4082d80b9248014295bbbea61d14683e86dff100e3ab8f7b27cb

supertuxkart-data_package() {
	short_desc+=" - data files"
	pkg_install() {
		# these scripts only serve a purpose for developing, not to the package
		rm "${DESTDIR}/usr/share/supertuxkart/data/po/extract_strings_from_XML.py"
		rm "${DESTDIR}/usr/share/supertuxkart/data/po/update_po_authors.py"
		rm "${DESTDIR}/usr/share/supertuxkart/data/po/update_translation.py"
		vmove usr/share/supertuxkart
	}
}
