# Template file for 'agg'
pkgname=agg
version=2.6.1
revision=1
build_style=gnu-configure
configure_args="--disable-examples"
hostmakedepends="SDL-devel automake gettext-devel libtool pkg-config"
makedepends="SDL-devel freetype-devel"
short_desc="High Quality Rendering Engine for C++"
maintainer="MarcoAPC <marcoaureliopc@gmail.com>"
license="custom:Anti-Grain Geometry Public License, custom:Modified BSD License"
homepage="https://github.com/aggeom/agg-2.6"
distfiles="https://github.com/aggeom/agg-2.6/archive/agg-${version}.tar.gz"
checksum=685966f880f1c2aae19479b60525fafba8cbd88e4c62d1947767780df8f6a3d0
disable_parallel_build=yes

pre_configure() {
	sed -e '/AM_C_PROTOTYPES/d' -i configure.ac
	touch NEWS README AUTHORS
	autoreconf -fi
}

agg-devel_package() {
	depends="freetype-devel agg>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove usr/lib/*.a
		vmove usr/lib/*.so
		vmove usr/share
	}
}

post_install() {
	vlicense copying
}
