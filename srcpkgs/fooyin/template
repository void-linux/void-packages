# Template file for 'fooyin'
pkgname=fooyin
version=0.8.1
revision=1
build_style=cmake
configure_args="-DBUILD_LIBVGM=off $(vopt_if alsa -DBUILD_ALSA=on)"
hostmakedepends="pkg-config"
# libsndfile is supposed to be an optional plugin, but CMake blows up the whole
# build if the headers aren't found
makedepends="KDSingleApplication libsndfile-devel taglib-devel ffmpeg6-devel icu-devel
	qt6-base-devel qt6-tools-devel qt6-svg-devel
	$(vopt_if alsa alsa-lib-devel)
	$(vopt_if pipewire pipewire-devel)
	"
short_desc="Customisable music player"
maintainer="klardotsh <josh@klar.sh>"
license="GPL-3.0-or-later"
homepage="https://www.fooyin.org"
distfiles="https://github.com/fooyin/${pkgname}/archive/refs/tags/v${version}.tar.gz"
checksum=e702389488e19c4c48b1b62bf1b2adf263b818138e3b232a39259057cbcec9c2

build_options="alsa pipewire"
build_options_default="alsa pipewire"


export CMAKE_GENERATOR="Ninja"
export LDFLAGS="-Wl,-z -lpthread"
