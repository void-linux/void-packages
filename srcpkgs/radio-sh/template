# Template file for 'radio-sh'
pkgname=radio-sh
version=2.0
revision=9
build_style=fetch
hostmakedepends="tar gzip"
depends="bash>=5.1.016_2 procps-ng>=3.3.17_2 mpv>=0.35.0_2 socat>=1.7.4.4_1 jq>=1.6_2"
short_desc="Conveniently play internet radio streams, with simplicity in mind"
maintainer="Singustromo <singustromo@disroot.org>"
license="GPL-3.0-or-later"
homepage="https://git.nevrlands.de/radio-sh/about/"
distfiles="https://git.nevrlands.de/$pkgname/snapshot/${pkgname}-${version}.${revision}.tar.gz"
checksum=b2bf165fbe23e86144a2565fe77ba04706d539c74e294f0fa333261bf6a235cf
tags="bash script radio stream radiostream"
mutable_files="/etc/xdg/radio-sh/radio_config.json"

do_extract() {
	tar --strip-components 1 --no-same-owner --extract --file \
		${XBPS_SRCDISTDIR}/${pkgname}-${version}/${pkgname}-${version}.${revision}.tar.gz \
		--directory ${wrksrc}
}

do_install() {
	vbin $wrksrc/radio
}
