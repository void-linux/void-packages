# Template file for 'dino'
pkgname=dino
version=0.0.20191120
revision=1
archs="x86_64-musl x86_64 i686"
wrksrc="dino-f9c69a204ebd7ecabd022f6f6e9a7131a1ecadae"
hostmakedepends="clang cmake"
makedepends="git glib-devel pkg-config unzip qrencode-devel gtk+3-devel gpgme-devel libgee08-devel libgcrypt-devel libsoup-devel ninja vala"
depends="gettext glib glib-networking qrencode gtk+3 gpgme libgee08 libgcrypt libqrencode libsoup"
short_desc="Modern XMPP (\"Jabber\") Chat Client using GTK+/Vala"
maintainer="Ogromny <ogromnycoding@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/dino/dino"
distfiles="https://github.com/dino/dino/archive/f9c69a204ebd7ecabd022f6f6e9a7131a1ecadae.tar.gz"
checksum="318fe4655497e706a1aaa85f2fa05a4614f1948a4e3a6deb1ab340c7c166eb3a"

do_configure() {
	./configure
}

do_build() {
	make
}

do_install() {
	vbin build/dino

	vinstall build/libdino.so.0 755 /usr/lib
	vinstall build/libqlite.so.0 755 /usr/lib
	vinstall build/libxmpp-vala.so.0 755 /usr/lib

	ldconfig
}
