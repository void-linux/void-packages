# Template file for 'libdecsync'
pkgname=libdecsync
version=2.2.1
revision=1
build_style=gnu-makefile
hostmakedepends="pkg-config openjdk8 tar patchelf"
makedepends="ncurses-devel"
short_desc="Multiplatform library for synchronizing using DecSync"
maintainer="eoli3n <jonathan.kirszling@runbox.com>"
license="LGPL-2.0-or-later"
homepage="https://github.com/39aldo39/libdecsync"
distfiles="${homepage}/archive/refs/tags/v${version}.tar.gz"
checksum=3e08b35efed3bafb079aa52a8dcd51217f6602cde64accba1a10cf5c25029d45

export JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk

pre_install() {
	patchelf --set-soname libdecsync.so.0 build/bin/linuxX64/releaseShared/libdecsync.so
}

libdecsync-devel_package() {
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/share/pkgconfig
	}
}
