From 40ff781754421f47455af52293821e054bccfd84 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9=20Cerqueira?= <acerqueira021@gmail.com>
Date: Mon, 8 Aug 2022 23:24:14 +0100
Subject: [PATCH 1/1] b

---
 gsoap/stdsoap2.c   | 5 +++++
 gsoap/stdsoap2.cpp | 6 ++++++
 2 files changed, 11 insertions(+)

diff --git a/gsoap/stdsoap2.c b/gsoap/stdsoap2.c
index 7fa381e..bacd3fb 100644
--- a/gsoap/stdsoap2.c
+++ b/gsoap/stdsoap2.c
@@ -62,6 +62,11 @@ A commercial use license is available from Genivia, Inc., contact@genivia.com
 # define _GNU_SOURCE 1
 #endif
 
+#ifdef _GNU_SOURCE
+#undef _GNU_SOURCE
+#define _POSIX_C_SOURCE 1
+#endif
+
 #include "stdsoap2.h"
 
 #if GSOAP_VERSION != GSOAP_LIB_VERSION
diff --git a/gsoap/stdsoap2.cpp b/gsoap/stdsoap2.cpp
index 7fa381e..7c97486 100644
--- a/gsoap/stdsoap2.cpp
+++ b/gsoap/stdsoap2.cpp
@@ -62,6 +62,12 @@ A commercial use license is available from Genivia, Inc., contact@genivia.com
 # define _GNU_SOURCE 1
 #endif
 
+#ifdef _GNU_SOURCE
+#undef _GNU_SOURCE
+#endif
+#define _POSIX_C_SOURCE 1
+
+
 #include "stdsoap2.h"
 
 #if GSOAP_VERSION != GSOAP_LIB_VERSION
-- 
2.37.1

