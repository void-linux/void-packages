# Template file for 'agar'
pkgname=agar
version=1.4.0
revision=2
distfiles="${SOURCEFORGE_SITE}/agar/agar-$version.tar.gz"
build_style=configure
configure_args="--prefix=/usr --without-db4 --enable-nls
--with-gettext --enable-threads --with-sdl --with-jpeg --with-freetype
--with-manpages --with-manlinks --with-glx --with-gl"
make_build_target="depend all"
short_desc="Modern open-source, cross-platform toolkit"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=6af24c3ffecdddc04f28f707065f6fa66c5a8f83062faf62563db09eec1842c4
long_desc="
 Agar is a modern open-source, cross-platform toolkit for graphical
 applications implemented in C, C++, Perl and Ada (with bindings to other
 languages in development). Designed for ease of integration, it follows
 the philosophy of building the GUI around the application and not the other
 way around. Unlike most other GUI toolkits, Agar takes maximum advantage of
 hardware graphics acceleration when it is available via OpenGL, but it also
 supports traditional framebuffer interfaces such as SDL direct video. The
 Agar API is entirely thread-safe when Agar is compiled with optional threads
 support."

disable_parallel_build=yes
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run freetype
Add_dependency run jpeg
Add_dependency run libGL
Add_dependency run SDL

Add_dependency build perl
Add_dependency build groff
Add_dependency build freetype-devel
Add_dependency build jpeg-devel
Add_dependency build MesaLib-devel
Add_dependency build SDL-devel

pre_install()
{
	# Pre-create the dirs, otherwise install will fail!
	for d in bin lib share/man/man3 share/man/man5 share/man/man8; do
		vmkdir usr/${d}
	done
}
