# Template file for 'unity-settings-daemon'
pkgname=unity-settings-daemon
version=15.04.1
_date_revision=21.10.20220802
_ubuntu_revision=0ubuntu5
revision=1
build_style=gnu-configure
configure_args="CFLAGS=-Wl,--warn-unresolved-symbols"
hostmakedepends="automake gettext-devel glib-devel gperf intltool libtool
 pkg-config"
makedepends="accountsservice-devel alsa-lib-devel docbook-xsl fcitx-devel
 gnome-desktop-devel gsettings-desktop-schemas-devel
 gsettings-ubuntu-schemas-devel gtk+3-devel ibus-devel libcanberra-devel
 libnotify-devel librsvg-devel libwacom-devel NetworkManager-devel
 pulseaudio-devel upower-devel xf86-input-wacom-devel"
depends="gsettings-ubuntu-schemas"
short_desc="Settings daemon used in Unity"
maintainer="Earldridge Jazzed Pineda <earldridgejazzedpineda@gmail.com>"
license="GPL-2.0-only"
homepage="https://launchpad.net/unity-settings-daemon"
changelog="https://git.launchpad.net/ubuntu/+source/unity-settings-daemon/plain/debian/changelog"
distfiles="https://launchpad.net/ubuntu/+archive/primary/+sourcefiles/unity-settings-daemon/${version}+${_date_revision}-${_ubuntu_revision}/unity-settings-daemon_${version}+${_date_revision}.orig.tar.gz"
checksum=d02929707f36814c2847992d7d4ca0a5115943474a168fadd9ec1e7240d68c6a
make_check=ci-skip # gcm-edid.c:32:10: fatal error: gsd-pnp-ids.h: No such file or directory


pre_configure() {
	autoreconf -i
}

unity-settings-daemon-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.a
		vmove usr/lib/*.so
		vmove usr/lib/pkgconfig
	}
}
