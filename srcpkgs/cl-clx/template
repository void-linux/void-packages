# Template file for 'cl-clx'
pkgname=cl-clx
_pkgname=clx
version=0.7.7
revision=1
build_style=
makedepends="texinfo"
depends="xorg-server"
short_desc="Implementation of the X Window System protocol in Common Lisp"
maintainer="Eike Beyer <eike.beyer@yandex.com>"
license="MIT"
homepage="https://github.com/sharplispers/clx"
distfiles="${homepage}/archive/${version}.tar.gz"
checksum="51c62d2fdd75c1390b940b0ded16880d378ecf8b5c556917611f4804dcadf981"

do_build() {
	makeinfo manual/clx.texinfo -o manual/clx.info
}

do_install() {
	# library
	install -vd "$DESTDIR/usr/share/common-lisp/source/$_pkgname"
	cp -vr \
		debug demo extensions tests ./*.{lisp,asd} \
		"$DESTDIR/usr/share/common-lisp/source/$_pkgname"

	# documentation
	vdoc README.md
	install -vDm644 -t "$DESTDIR/usr/share/info" manual/clx.info

	# license
	vlicense LICENSE
}
