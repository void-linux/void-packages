# Template file for 'LibreSprite'
pkgname=LibreSprite
_clipcommit=a65a9e543e9a270bb7c58789d15d027bbd8efb2a
_fliccommit=65a6072fa0aa611c383b44d21b87d41e2ea8b523
_observablecommit=89c97405025c17fbce5b147aae86fe35b00f98e5
_undocommit=f39b188e29d0f9adaa49c8705c0f492939d967a9
_simpleinicommit=0687587cef1816a04307d632e517be9803bbdca6
_duktapecommit=6f715553e706b61e611aa4ae8e6fe90626800dae
version=1.0
revision=1
build_style=cmake
configure_args="-DWITH_DESKTOP_INTEGRATION=ON"
hostmakedepends="pkg-config gtest-devel"
makedepends="libpng-devel pixman-devel libcurl-devel nodejs-devel SDL2_image-devel tinyxml-devel zlib-devel SDL2-devel freetype-devel lua54-devel giflib-devel libjpeg-turbo-devel gtest-devel"
short_desc="Animated sprite editor & pixel art tool - GPL2 Aseprite fork"
maintainer="notthewave <winklbauer_m@zoho.eu>"
license="GPL-2.0-only"
homepage="https://libresprite.github.io/"
distfiles="https://github.com/LibreSprite/LibreSprite/archive/refs/tags/v${version}.tar.gz
https://github.com/aseprite/clip/archive/${_clipcommit}.zip
https://github.com/aseprite/flic/archive/${_fliccommit}.zip
https://github.com/dacap/observable/archive/${_observablecommit}.zip
https://github.com/aseprite/undo/archive/${_undocommit}.zip
https://github.com/aseprite/simpleini/archive/${_simpleinicommit}.zip
https://github.com/LibreSprite/duktape/archive/${_duktapecommit}.zip"
checksum="7f1fc58ba3c1c7dae384a2e893d0b9d821c6213a5121f263d0964deabd07708e
 eafc2435d03d4660edeaa6c89087abe8a6dfe0003cfcda1560b1a3296ea408f5
 0ef2ef3c3cd7b7e48c9df3e1af134059c53e295f1f82a23c91e92dae7eb602a2
 5df61dc43fc5c7491fa261502a4e547c33dbfab53b52965613235961e63f65bb
 f870af42e3f9983862545c24f8ee9a0dff5a30415a1be06b68445d6ea4c3bc62
 f72bd22ccca908ec0c61f2517fed8402af1ace1b07c4d111688bc9ee95789dcb
 e736c47b942028680654fb55633ec7efda617324a5f032be44c05f5060a7a796"

post_extract() {
	mv -T ${XBPS_BUILDDIR}/clip-${_clipcommit} ${wrksrc}/src/clip
	mv -T ${XBPS_BUILDDIR}/flic-${_fliccommit} ${wrksrc}/src/flic
	mv -T ${XBPS_BUILDDIR}/observable-${_observablecommit} ${wrksrc}/src/observable
	mv -T ${XBPS_BUILDDIR}/undo-${_undocommit} ${wrksrc}/src/undo
	mv -T ${XBPS_BUILDDIR}/simpleini-${_simpleinicommit} ${wrksrc}/third_party/simpleini
	mv -T ${XBPS_BUILDDIR}/duktape-${_duktapecommit} ${wrksrc}/third_party/duktape
}
