# Template file for 'lyx'
pkgname=lyx
version=2.4.3
revision=1
build_style=gnu-configure
configure_args="--without-included-mythes --without-included-boost"
hostmakedepends="pkg-config bc qt5-devel python3"
makedepends="file-devel boost-devel mythes-devel enchant2-devel qt5-svg-devel"
depends="virtual?tex GraphicsMagick python3"
short_desc="Document Processor WYSIWYM Editor & Latex frontend"
maintainer="Eloi Torrents <eloitor@duck.com>"
license="GPL-2.0-or-later"
homepage="https://www.lyx.org/Home"
distfiles="https://ftp.lip6.fr/pub/lyx/stable/2.4.x/${pkgname}-${version/r/-}.tar.gz"
checksum=49ea4860bae4f99353bb9a575ad707ba39b5218c6e258756dd5c54f7af834edb
python_version=3

if [ "$XBPS_TARGET_LIBC" = musl ]; then
	makedepends+=" libexecinfo-devel"
	export LDFLAGS+=" -lexecinfo"
fi

post_install() {
	vdoc "${FILESDIR}/README.voidlinux"
}
