# Template file for 'eslauncher2'
pkgname=eslauncher2
version=0.8.10
revision=1
build_style=cargo
hostmakedepends="pkg-config protobuf"
makedepends="alsa-lib-devel libzstd-devel"
short_desc="Next generation Endless Sky launcher"
maintainer="Nika Jay <xolophreny@proton.me>"
license="GPL-3.0-only"
homepage="https://github.com/EndlessSkyCommunity/ESLauncher2"
distfiles="https://github.com/EndlessSkyCommunity/ESLauncher2/archive/refs/tags/v${version}.tar.gz"
checksum=64180ada21b5a6df3fb72e41cc1bfb32e96c1b7f6a2d954acbbe7500dd5943d0

post_install() {
	vinstall packaging/eslauncher2.desktop 644 /usr/share/applications/
	for icon in packaging/icons/*.png; do
		res="$(echo ${icon} | sed 's/packaging\/icons\/eslauncher2_\(.*\)\.png/\1/')"
		vinstall ${icon} 644 /usr/share/icons/hicolor/${res}/apps eslauncher2.png
	done
}
