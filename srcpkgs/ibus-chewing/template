# Template file for 'ibus-chewing'
pkgname=ibus-chewing
version=1.5.2
revision=1
archs="x86_64"
build_wrksrc=ibus-chewing-1-${version}
build_style=cmake
configure_args="-DLIBEXEC_DIR=/usr/libexec"
make_cmd=make
hostmakedepends="git cmake pkg-config findutils gettext-devel"
makedepends="libchewing-devel ibus-devel gob2 libX11-devel gtk+3-devel glib-devel"
depends="ibus libchewing"
short_desc="Chewing input method for ibus"
maintainer="ctoid <funk443@yandex.com>"
license="GPL-2.0-or-later"
homepage="https://github.com/definite/ibus-chewing"
distfiles="https://github.com/funk443/ibus-chewing-1/archive/refs/tags/${version}.tar.gz https://pagure.io/cmake-fedora/archive/2.9.3/cmake-fedora-2.9.3.tar.gz"
checksum="ea1c750dd1bda11f67870cf102d176a34d0759f27121985f12c86593c09c465b
 291b6d6ea1381d6d7f7d49e9b9a6f5ca5cbfeaed81b58f591dfcd0781e5de68c"
nocross=yes
make_check=no  # No idea how to fix

pre_configure() {
	mv ../cmake-fedora-2.9.3/* ./cmake-fedora
	export CMAKE_GENERATOR="Unix Makefiles"
}
